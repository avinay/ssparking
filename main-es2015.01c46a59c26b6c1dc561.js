(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{0:function(e,t,n){e.exports=n("zUnb")},"1XSQ":function(e,t,n){"use strict";n("8Y7J");var r=n("SVse"),i=n("quSY");class o extends i.a{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class a extends s{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}let u=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class c extends u{constructor(e,t=u.now){super(e,()=>c.delegate&&c.delegate!==this?c.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return c.delegate&&c.delegate!==this?c.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class l extends c{}const h=new l(a);var d=n("HDdC");n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));class f{constructor(e,t){this.zone=e,this.platformId=t}schedule(...e){return this.zone.runGuarded((function(){return h.schedule.apply(h,e)}))}keepUnstableUntilFirst(e){return Object(r.isPlatformServer)(this.platformId)?new d.a(t=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);e.subscribe(e=>{"scheduled"===r.state&&r.invoke(),t.next(e)},e=>{"scheduled"===r.state&&r.invoke(),t.error(e)},()=>{"scheduled"===r.state&&r.invoke(),t.complete()})}):e}runOutsideAngular(e){return new d.a(t=>this.zone.runOutsideAngular(()=>e.subscribe(e=>this.zone.run(()=>t.next(e)),e=>this.zone.run(()=>t.error(e)),()=>this.zone.run(()=>t.complete()))))}}const p=e=>t=>new d.a(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())))},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(e){super.next(this._value=e)}}},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},"3KC0":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("YeHE"),n("bfU7"),n("K81y"),n("meT2"),n("3yoT");var r=function(){return function(){}}()},"3yoT":function(e,t,n){"use strict";n("SF+E"),n("ISLE"),n("curK")},"4pTB":function(e,t){},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function u(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(u((n,r)=>Object(a.a)(e(n,r)).pipe(Object(s.a)((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new c(e,n)))}class c{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends i.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),s=n("mrSG"),a=n("zVF4"),u=n("x7I3"),c=i.SDK_VERSION,l=new o.Logger("@firebase/firestore"),h=function(e){return e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT",e}({});function d(){return l.logLevel===o.LogLevel.DEBUG?h.DEBUG:l.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function f(e){switch(e){case h.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:l.logLevel=o.LogLevel.ERROR;break;case h.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function p(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(g);l.debug.apply(l,["Firestore ("+c+") ["+e+"]: "+t].concat(i))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=t.map(g);l.error.apply(l,["Firestore ("+c+"): "+e].concat(r))}}function g(e){if("string"==typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function v(e,t){e||y(t)}var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function w(){return b.getPlatform().emptyByteString}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(t,e),t}(Error);function C(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new _(E.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e,t){return void 0!==e?e:t}function A(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function T(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function D(e){for(var t in v(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t){if(0!==t.length)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+G(t.length,"argument")+".")}function O(e,t,n){if(t.length!==n)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function k(e,t,n){if(t.length<n)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires at least "+G(n,"argument")+", but was called with "+G(t.length,"argument")+".")}function x(e,t,n,r){if(t.length<n||t.length>r)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+G(t.length,"argument")+".")}function R(e,t,n,r){B(e,t,z(n)+" argument",r)}function P(e,t,n,r){void 0!==r&&R(e,t,n,r)}function M(e,t,n,r){B(e,t,n+" option",r)}function L(e,t,n,r){void 0!==r&&M(e,t,n,r)}function F(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(U(u))}var c=U(r);throw new _(E.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function j(e,t,n,r){if(!t.some((function(e){return e===r})))throw new _(E.INVALID_ARGUMENT,"Invalid value "+U(r)+" provided to function "+e+"() for its "+z(n)+" argument. Acceptable values: "+t.join(", "))}function B(e,t,n,r){if(!("object"===t?V(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=U(r);throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function V(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function U(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e)}function $(e,t,n){if(void 0===n)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+z(t)+" argument, but it was undefined.")}function q(e,t,n){T(t,(function(t,r){if(n.indexOf(t)<0)throw new _(E.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function H(e,t,n,r){var i=U(r);return new _(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+z(n)+" argument to be a "+t+", but it was: "+i)}function z(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function G(e,t){return e+" "+t+(1===e?"":"s")}var W=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return v(20===t.length,"Invalid auto ID: "+t),t},e}();function Q(e,t){return e<t?-1:e>t?1:0}function K(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Y(e){return e+"\0"}function X(){if("undefined"==typeof Uint8Array)throw new _(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Z(){if(!b.getPlatform().base64Available)throw new _(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var J=function(){function e(e){Z(),this._binaryString=e}return e.fromBase64String=function(t){O("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,t),Z();try{var n=b.getPlatform().atob(t);return new e(n)}catch(r){throw new _(E.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(O("Blob.fromUint8Array",arguments,1),X(),!(t instanceof Uint8Array))throw H("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),Z(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),X();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return Q(this._binaryString,e._binaryString)},e}(),ee=C(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),te=function(){return function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),ne="(default)",re=function(){function e(e,t){this.projectId=e,this.database=t||ne}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===ne},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return Q(this.projectId,e.projectId)||Q(this.database,e.database)},e}(),ie=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),oe=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return v(this.length>=(e=void 0===e?1:e),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return v(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new _(E.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(oe),ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ae.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new _(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(oe),ce=function(){function e(t){this.path=t,v(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===se.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return se.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new se(t.slice()))},e.fromPathString=function(t){return new e(se.fromString(t))},e.EMPTY=new e(new se([])),e}(),le=function(){return function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}}(),he=function(e){return e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction",e}({}),de=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),fe=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),v(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=de.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){v(e===he.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==he.All&&i.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);v(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),pe="\x01",me="\x01",ge="\x10",ye="\x11";function ve(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=we(t)),t=be(e.get(n),t);return we(t)}function be(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=pe+ge;break;case pe:n+=pe+ye;break;default:n+=o}}return n}function we(e){return e+pe+me}function Ee(e){var t=e.length;if(v(t>=2,"Invalid path "+e),2===t)return v(e.charAt(0)===pe&&e.charAt(1)===me,"Non-empty path "+e+" had length 2"),se.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf(pe,o);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(s+1)){case me:var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case ge:i+=e.substring(o,s),i+="\0";break;case ye:i+=e.substring(o,s+1);break;default:y('Invalid encoded resource path: "'+e+'"')}o=s+2}return new se(r)}var _e=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),Ce=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new _e(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new _e(0,0)),e}(),Se=function(){function e(e,t){this.comparator=e,this.root=t||Ae.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ae.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ae.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ie(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ie(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ie(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ie(this.root,e,this.comparator,!0)},e}(),Ie=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ae=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Te=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ae(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();Ae.EMPTY=new Te;var De=function(){function e(e){this.comparator=e,this.data=new Se(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Ne(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Ne(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ne=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Oe=new Se(ce.comparator);function ke(){return Oe}function xe(){return ke()}var Re=new Se(ce.comparator);function Pe(){return Re}var Me=new Se(ce.comparator);function Le(){return Me}var Fe=new De(ce.comparator);function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Fe,r=0,i=e;r<i.length;r++)n=n.add(i[r]);return n}var Be=new De(Q);function Ve(){return Be}var Ue=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&v(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=o.applyToRemoteDocument(t,r[i]))}return t},e.prototype.applyToLocalView=function(e,t){t&&v(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(e)&&(t=a.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(e)&&(t=a.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),je())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&K(this.mutations,e.mutations)&&K(this.baseMutations,e.baseMutations)},e}(),$e=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){v(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Le(),s=t.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new e(t,n,r,i,o)},e}(),qe=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),He=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return v(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qe(e).iterate({index:un.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=We(n),Ye(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=We(t),Ye(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Ke(e),s=Qe(e);return s.add({}).next((function(a){v("number"==typeof a,"Auto-generated key is not a number");var u=new Ue(a,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[a]=u.keys();for(var l=[],h=0,d=r;h<d.length;h++){var f=d[h],p=cn.key(i.userId,f.key.path,a);l.push(s.put(c)),l.push(o.put(p,cn.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,f.key.path.popLast()))}return qe.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Qe(e).get(t).next((function(e){return e?(v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?qe.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qe(e).iterate({index:un.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(v(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qe(e).iterate({index:un.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qe(e).loadAll(un.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=cn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ke(e).iterate({range:i},(function(r,i,s){var a=r[0],u=r[2],c=Ee(r[1]);if(a===n.userId&&t.path.isEqual(c))return Qe(e).get(u).next((function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+u);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(e))}));s.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new De(Q),i=[];return t.forEach((function(t){var o=cn.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=Ke(e).iterate({range:s},(function(e,i,o){var s=e[0],a=e[2],u=Ee(e[1]);s===n.userId&&t.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),qe.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;v(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=cn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new De(Q);return Ke(e).iterate({range:s},(function(e,t,o){var s=e[0],u=e[2],c=Ee(e[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.lookupMutationBatches(e,a)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Qe(e).get(t).next((function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);v(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),qe.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Ge(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),qe.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return qe.resolve();var r=IDBKeyRange.lowerBound(cn.prefixForUser(t.userId)),i=[];return Ke(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ee(e[1]);i.push(o)}else r.done()})).next((function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return ze(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return Ye(e).get(this.userId).next((function(e){return e||new an(t.userId,-1,"")}))},e}();function ze(e,t,n){var r=cn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ke(e).iterate({range:o,keysOnly:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ge(e,t,n){var r=e.store(un.store),i=e.store(cn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.iterate({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=cn.key(t,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return qe.waitFor(o).next((function(){return c}))}function We(e){return e instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Qe(e){return Fn.getStore(e,un.store)}function Ke(e){return Fn.getStore(e,cn.store)}function Ye(e){return Fn.getStore(e,an.store)}var Xe=1,Ze=function(e){return e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine",e}({}),Je=function(){function e(e,t){this.generatorId=e,v((e&Xe)===e,"Generator ID "+e+" contains more than "+Xe+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<Xe,e},e.prototype.after=function(e){return this.seek(e+(1<<Xe)),this.next()},e.prototype.seek=function(e){v((e&Xe)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(Ze.QueryCache,2)},e.forSyncEngine=function(){return new e(Ze.SyncEngine)},e}(),et="SimpleDb",tt=function(){function e(t){this.db=t,12.2===e.getIOSVersion(a.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return v(e.isAvailable(),"IndexedDB not supported in current environment."),p(et,"Opening database:",t),new qe((function(i,o){var s=window.indexedDB.open(t,n);s.onsuccess=function(t){i(new e(t.target.result))},s.onblocked=function(){o(new _(E.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(e){var t=e.target.error;o("VersionError"===t.name?new _(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):t)},s.onupgradeneeded=function(e){p(et,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result,i=new rt(s.transaction);r.createOrUpgrade(n,i,e.oldVersion,nn).next((function(){p(et,"Database upgrade to version "+nn+" complete")}))}})).toPromise()},e.delete=function(e){return p(et,"Removing database:",e),ot(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=a.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){var r=rt.open(this.db,e,t),i=n(r).catch((function(e){return r.abort(e),qe.reject(e)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},e.prototype.close=function(){this.db.close()},e}(),nt=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return ot(this.dbCursor.delete())},e}(),rt=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new le,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=at(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(p(et,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return v(!!t,"Object store not part of transaction: "+e),new it(t)},e}(),it=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(p(et,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(p(et,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ot(n)},e.prototype.add=function(e){return p(et,"ADD",this.store.name,e,e),ot(this.store.add(e))},e.prototype.get=function(e){var t=this;return ot(this.store.get(e)).next((function(n){return void 0===n&&(n=null),p(et,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return p(et,"DELETE",this.store.name,e),ot(this.store.delete(e))},e.prototype.count=function(){return p(et,"COUNT",this.store.name),ot(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){p(et,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new qe((function(n,r){t.onerror=function(e){var t=at(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new qe((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new nt(i),s=t(i.primaryKey,i.value,o);if(s instanceof qe){var a=s.catch((function(e){return o.done(),qe.reject(e)}));n.push(a)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return qe.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(v(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function ot(e){return new qe((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=at(e.target.error);n(t)}}))}var st=!1;function at(e){var t=tt.getIOSVersion(a.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return st||(st=!0,setTimeout((function(){throw r}),0)),r}}return e}var ut=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=Je.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return Ce.fromTimestamp(new _e(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return ht(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ct(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return v(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return ct(e).iterate((function(s,a){var u=r.serializer.fromDbTarget(a);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return qe.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){var n=this;return ct(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},e.prototype.retrieveMetadata=function(e){return lt(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Fn.getStore(n,gn.store)).put(gn.key,t);var n},e.prototype.saveQueryData=function(e,t){return ct(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ct(e).iterate({range:i,index:pn.queryTargetsIndexName},(function(e,r,i){var s=n.serializer.fromDbTarget(r);t.isEqual(s.query)&&(o=s,i.done())})).next((function(){return o}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=dt(e);return t.forEach((function(t){var s=ve(t.path);i.push(o.put(new mn(n,s))),i.push(r.referenceDelegate.addReference(e,t))})),qe.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=dt(e);return qe.forEach(t,(function(t){var o=ve(t.path);return qe.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=dt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dt(e),i=je();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Ee(e[1]),o=new ce(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=ve(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return dt(e).iterate({index:mn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return ct(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function ct(e){return Fn.getStore(e,pn.store)}function lt(e){return tt.getStore(e,gn.store).get(gn.key).next((function(e){return v(null!==e,"Missing metadata row."),e}))}function ht(e){return lt(e).next((function(e){return e.highestListenSequenceNumber}))}function dt(e){return Fn.getStore(e,mn.store)}var ft=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new De(ue.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),pt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),mt=function(){return function(e,t){this.version=e,this.transformResults=t}}(),gt=function(e){return e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete",e}({}),yt=function(){function e(e,t){this.updateTime=e,this.exists=t,v(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof $t&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof $t:(v(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return n=e.updateTime,(null!=(t=this.updateTime)?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),vt=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&v(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof $t?e.version:Ce.MIN},e}(),bt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=gt.Set,i}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by SetMutation."),new $t(this.key,t.version,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=vt.getPostMutationVersion(e);return new $t(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(vt),wt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=gt.Patch,o}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Ht(this.key,t.version);var n=this.patchDocument(e);return new $t(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=vt.getPostMutationVersion(e),i=this.patchDocument(e);return new $t(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof $t?e.data():Bt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(vt),Et=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=gt.Transform,r.precondition=yt.exists(!0),r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),v(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Ht(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new $t(this.key,i,{hasCommittedMutations:!0},o)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new $t(this.key,r.version,{hasLocalMutations:!0},o)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof $t?e.field(i.field):void 0,s=i.transform.computeBaseValue(o||null);null!=s&&(t=null==t?Bt.EMPTY.set(i.field,s):t.set(i.field,s))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&K(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){v(e instanceof $t,"Unknown MaybeDocument type "+e);var t=e;return v(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];v(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;e instanceof $t&&(s=e.field(i.field)),n.push(o.applyToRemoteDocument(s,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;t instanceof $t&&(u=t.field(s.field)),null===u&&n instanceof $t&&(u=n.field(s.field)),r.push(a.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){v(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)e=e.set(this.fieldTransforms[n].field,t[n]);return e},t}(vt),_t=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=gt.Delete,r}return s.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),v(null==t.transformResults,"Transform results received by DeleteMutation."),new qt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&v(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new qt(this.key,Ce.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(vt),Ct=function(e){return e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue",e}({}),St=function(e){return e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous",e}({}),It=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(St.Estimate,n);case"previous":return new e(St.Previous,n);case"none":case void 0:return new e(St.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),At=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return v(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,e.typeOrder)},e}(),Tt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=Ct.NullValue,t.internalValue=null,t}return s.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(At),Dt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.BooleanValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Q(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(At),Nt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.NumberValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue)<(r=e.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(e);var n,r},t}(At);function Ot(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t}(Nt),xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Nt),Rt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.StringValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?Q(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(At),Pt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.TimestampValue,n}return s.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Mt?-1:this.defaultCompareTo(e)},t}(At),Mt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=Ct.TimestampValue,r}return s.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===St.Estimate?new Pt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===St.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Pt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(At),Lt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.BlobValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(At),Ft=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=Ct.RefValue,r}return s.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:ce.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(At),jt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.GeoPointValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(At),Bt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.ObjectValue,n}return s.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=Q(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(v(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(v(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){v(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new De(ue.comparator);return this.internalValue.forEach((function(n,r){var i=new ue([n]);if(r instanceof t){var o=r.fieldMask().fields;o.isEmpty()?e=e.add(i):o.forEach((function(t){e=e.add(i.child(t))}))}else e=e.add(i)})),ft.fromSet(e)},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Se(Q)),t}(At),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=Ct.ArrayValue,n}return s.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return Q(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(At),Ut=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)},e}(),$t=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n)||this;return a.objectValue=i,a.proto=o,a.converter=s,v(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return s.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=Bt.EMPTY;T(this.proto.fields,(function(n,r){t=t.set(new ue([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields[e.firstSegment()],n=1;n<e.length;++n){if(!t||!t.mapValue)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(Ut),qt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ut),Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(Ut),zt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){T(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return D(this.inner)},e}(),Gt=function(){function e(){this.changes=new zt((function(e){return e.toString()})),this.changesApplied=!1}return e.prototype.addEntry=function(e){this.assertNotApplied(),this.changes.set(e.key,e)},e.prototype.removeEntry=function(e){this.assertNotApplied(),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?qe.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},e}(),Wt="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Qt=function(){function e(e,t,n){this.serializer=e,this.indexManager=t,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=tt.getStore(e,bn.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntry=function(e,t,n){var r=this;return Yt(e).put(Zt(t),n).next((function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},e.prototype.removeEntry=function(e,t){var n=Yt(e),r=Zt(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t,n){var r=this;return this.getMetadata(e).next((function(i){return i.byteSize+=n,r.setMetadata(e,i).next((function(){if(r.keepDocumentChangeLog)return Xt(e).put({changes:r.serializer.toDbResourcePaths(t)})}))}))},e.prototype.getEntry=function(e,t){var n=this;return Yt(e).get(Zt(t)).next((function(e){return e?n.serializer.fromDbRemoteDocument(e):null}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Yt(e).get(Zt(t)).next((function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:Jt(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=xe();return this.forEachDbEntry(e,t,(function(e,t){r=r.insert(e,t?n.serializer.fromDbRemoteDocument(t):null)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=xe(),i=new Se(ce.comparator);return this.forEachDbEntry(e,t,(function(e,t){t?(r=r.insert(e,n.serializer.fromDbRemoteDocument(t)),i=i.insert(e,Jt(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return qe.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Yt(e).iterate({range:r},(function(e,t,r){for(var s=ce.fromSegments(e);o&&ce.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this;v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Pe(),i=t.path.length+1,o=t.path.toArray(),s=IDBKeyRange.lowerBound(o);return Yt(e).iterate({range:s},(function(e,o,s){if(e.length===i){var a=n.serializer.fromDbRemoteDocument(o);t.path.isPrefixOf(a.key.path)?a instanceof $t&&t.matches(a)&&(r=r.insert(a.key,a)):s.done()}})).next((function(){return r}))},e.prototype.getNewDocumentChanges=function(e){var t=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=je(),r=ke(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,s=Xt(e);return s.iterate({range:i},(function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(s).next((function(){return qe.reject(new _(E.DATA_LOSS,Wt))}));n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id})).next((function(){var i=[];return n.forEach((function(n){i.push(t.getEntry(e,n).next((function(e){var t=e||new qt(n,Ce.forDeletedDoc());r=r.insert(n,t)})))})),qe.waitFor(i)})).next((function(){return r}))},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Xt(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},(function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()}))},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Kt(e).get(fn.key).next((function(e){return v(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Kt(e).put(fn.key,t)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n.documentSizes=new zt((function(e){return e.toString()})),n}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=je();return this.changes.forEach((function(o,s){var a=t.documentSizes.get(o);if(v(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){var u=t.documentCache.serializer.toDbRemoteDocument(s),c=Jt(u);r+=c-a,n.push(t.documentCache.addEntry(e,o,u))}else r-=a,n.push(t.documentCache.removeEntry(e,o));i=i.add(o)})),n.push(this.documentCache.updateMetadata(e,i,r)),qe.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Gt),e}();function Kt(e){return Fn.getStore(e,fn.store)}function Yt(e){return Fn.getStore(e,dn.store)}function Xt(e){return Fn.getStore(e,bn.store)}function Zt(e){return e.path.toArray()}function Jt(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var en=function(){function e(){this.collectionParentIndex=new tn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),qe.resolve()},e.prototype.getCollectionParents=function(e,t){return qe.resolve(this.collectionParentIndex.getEntries(t))},e}(),tn=function(){function e(){this.index={}}return e.prototype.add=function(e){v(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new De(se.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.getEntries=function(e){return(this.index[e]||new De(se.comparator)).toArray()},e}(),nn=8,rn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;v(n<r&&n>=0&&r<=nn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(e){e.createObjectStore(sn.store)}(e),function(e){e.createObjectStore(an.store,{keyPath:an.keyPath}),e.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),e.createObjectStore(cn.store)}(e),vn(e),function(e){e.createObjectStore(dn.store)}(e));var o=qe.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(mn.store),e.deleteObjectStore(pn.store),e.deleteObjectStore(gn.store)}(e),vn(e)),o=o.next((function(){return function(e){var t=e.store(gn.store),n=new gn(0,0,Ce.MIN.toTimestamp(),0);return t.put(gn.key,n)}(t)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(un.store).loadAll().next((function(n){e.deleteObjectStore(un.store),e.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});var r=t.store(un.store),i=n.map((function(e){return r.put(e)}));return qe.waitFor(i)}))}(e,t)}))),o=o.next((function(){!function(e){e.createObjectStore(wn.store,{keyPath:wn.keyPath})}(e),function(e){e.createObjectStore(bn.store,{keyPath:"id",autoIncrement:!0})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(t)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(fn.store)}(e),i.addDocumentGlobal(t)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(t)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(e,t)}))),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(dn.store).iterate((function(e,n){t+=Jt(n)})).next((function(){var n=new fn(t);return e.store(fn.store).put(fn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(an.store),r=e.store(un.store);return n.loadAll().next((function(n){return qe.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(un.userMutationsIndex,i).next((function(r){return qe.forEach(r,(function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Ge(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(mn.store),n=e.store(dn.store);return ht(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new se(n),s=function(e){return[0,ve(e)]}(o);r.push(t.get(s).next((function(n){return n?qe.resolve():function(n){return t.put(new mn(0,ve(n),e))}(o)})))})).next((function(){return qe.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(yn.store,{keyPath:yn.keyPath});var n=t.store(yn.store),r=new tn,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ve(i)})}};return t.store(dn.store).iterate({keysOnly:!0},(function(e,t){var n=new se(e);return i(n.popLast())})).next((function(){return t.store(cn.store).iterate({keysOnly:!0},(function(e,t){var n=Ee(e[1]);return i(n.popLast())}))}))},e}(),on=function(){return function(e,t){this.seconds=e,this.nanoseconds=t}}(),sn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}(),an=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),un=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}(),cn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ve(t)]},e.key=function(e,t,n){return[e,ve(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),ln=function(){return function(e,t){this.path=e,this.readTime=t}}(),hn=function(){return function(e,t){this.path=e,this.version=t}}(),dn=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),fn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}(),pn=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),mn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,v(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),gn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),yn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function vn(e){e.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.queryTargetsIndexName,pn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gn.store)}var bn=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}(),wn=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}(),En=[an.store,un.store,cn.store,dn.store,pn.store,sn.store,gn.store,mn.store].concat([wn.store,bn.store]).concat([fn.store]).concat([yn.store]),_n=function(){function e(){this.collectionParentsCache=new tn}return e.prototype.addToCollectionParentIndex=function(e,t){if(v(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){v(t.length>=1,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Cn(e).put({collectionId:n,parent:ve(r)})}return qe.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return Cn(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ee(o.parent))}return n}))},e}();function Cn(e){return Fn.getStore(e,yn.store)}var Sn=function(e){return e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution",e}({}),In=function(){function e(e,t,n,r,i,o){void 0===i&&(i=Ce.MIN),void 0===o&&(o=w()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.withSequenceNumber=function(t){return new e(this.query,this.targetId,this.purpose,t,this.snapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.query,this.targetId,this.purpose,this.sequenceNumber,n,t)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),An=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ce.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new qt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=ce.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new Ht(t,n)):y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof $t){var t=e.proto?e.proto:this.remoteSerializer.toDocument(e);return new dn(null,null,t,i=e.hasCommittedMutations)}if(e instanceof qt){var n=e.key.path.toArray(),r=this.toDbTimestamp(e.version),i=e.hasCommittedMutations;return new dn(null,new ln(n,r),null,i)}return e instanceof Ht?(n=e.key.path.toArray(),r=this.toDbTimestamp(e.version),new dn(new hn(n,r),null,null,!0)):y("Unexpected MaybeDocumment")},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new on(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new _e(e.seconds,e.nanoseconds);return Ce.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new un(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=_e.fromMillis(e.localWriteTimeMs);return new Ue(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(ve(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=je(),n=0,r=e;n<r.length;n++)t=t.add(new ce(Ee(r[n])));return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new In(t,e.targetId,Sn.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},e.prototype.toDbTarget=function(e){v(Sn.Listen===e.purpose,"Only queries with purpose "+Sn.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),e.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new pn(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,t)},e}();function Tn(e,t){var n=e[1],r=t[1],i=Q(e[0],t[0]);return 0===i?Q(n,r):i}var Dn=function(){function e(e){this.maxElements=e,this.buffer=new De(Tn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Tn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),Nn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},On=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),kn=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==On.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(he.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(jn)}))},e}(),xn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return qe.resolve(ie.INVALID);var r=new Dn(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===On.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),qe.resolve(Nn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,a=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),d()<=h.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),qe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Rn="IndexedDbPersistence",Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ln=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return s.__extends(t,e),t}(function(){return function(){}}()),Fn=function(){function e(t,n,r,i,o,s,a,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=s,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new Un(this,o),this.dbName=n+e.MAIN_DATABASE,this.serializer=new An(a),this.document=i.document,this.queryCache=new ut(this.referenceDelegate,this.serializer),this.indexManager=new _n,this.remoteDocumentCache=new Qt(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new _(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Ln)return tt.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new _(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),tt.openOrCreate(this.dbName,nn,new rn(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[gn.store],(function(t){return ht(t).next((function(t){e.listenSequence=new ie(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",En,(function(t){return e.remoteDocumentCache.start(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",En,(function(t){return Vn(t).put(new wn(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Bn(e).get(sn.key).next((function(e){return qe.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Vn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(i){var o=e.getStore(i,wn.store);return o.loadAll().next((function(e){t=r.filterActiveClients(e,18e5),n=e.filter((function(e){return-1===t.indexOf(e)}))})).next((function(){return qe.forEach(n,(function(e){return o.delete(e.clientId)}))})).next((function(){if((t=t.filter((function(e){return e.clientId!==r.clientId}))).length>0){var e=t.map((function(e){return e.lastProcessedDocumentChangeId||0})),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}}))}))]);case 1:i.sent(),n.forEach((function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))})),i.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(he.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Bn(e).get(sn.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new _(E.FAILED_PRECONDITION,Mn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Vn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&p(Rn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sn.store,wn.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[wn.store],(function(t){return Vn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return e.isAvailable()?[4,tt.delete(t+e.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),He.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;return p(Rn,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",En,(function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new _(E.FAILED_PRECONDITION,Pn);return n(new Ln(i,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new Ln(i,r.listenSequence.next()))}))}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Bn(e).get(sn.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new _(E.FAILED_PRECONDITION,Mn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new sn(this.clientId,this.allowTabSynchronization,Date.now());return Bn(e).put(sn.key,t)},e.isAvailable=function(){return tt.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Bn(e);return n.get(sn.key).next((function(e){return t.isLocalClient(e)?(p(Rn,"Releasing primary lease."),n.delete(sn.key)):qe.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(m("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return p(Rn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return m(Rn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){m("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function jn(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){if(!function(e){return e.code===E.FAILED_PRECONDITION&&e.message===Pn}(e))throw e;return p(Rn,"Unexpectedly lost primary lease"),[2]}))}))}function Bn(e){return e.store(sn.store)}function Vn(e){return e.store(wn.store)}var Un=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new xn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return $n(e,t)},e.prototype.removeReference=function(e,t){return $n(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return $n(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?qe.resolve(!0):function(e,t){var n=!1;return Ye(e).iterateSerial((function(r){return ze(e,r,t).next((function(e){return e&&(n=!0),qe.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(s,a){if(a<=t){var u=n.isPinned(e,s).next((function(t){if(!t)return o++,r.getEntry(e,s).next((function(){return r.removeEntry(s),dt(e).delete([0,ve(s.path)])}))}));i.push(u)}})).next((function(){return qe.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return $n(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=dt(e),i=ie.INVALID;return r.iterate({index:mn.documentTargetsIndex},(function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==ie.INVALID&&t(new ce(Ee(n)),i),i=s,n=o):i=ie.INVALID})).next((function(){i!==ie.INVALID&&t(new ce(Ee(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function $n(e,t){return dt(e).put(function(e,t){return new mn(0,ve(e.path),t)}(t,e.currentSequenceNumber))}var qn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=xe();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=ke();return i.forEach((function(e,t){t||(t=new qt(e,Ce.forDeletedDoc())),o=o.insert(e,t)})),o}))},e.prototype.getDocumentsMatchingQuery=function(e,t){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new ce(t)).next((function(e){var t=Pe();return e instanceof $t&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t){var n=this;v(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=t.collectionGroup,i=Pe();return this.indexManager.getCollectionParents(e,r).next((function(o){return qe.forEach(o,(function(o){var s=t.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(e,s).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next((function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i.addMissingBaseDocuments(e,r=t,n).next((function(e){n=e;for(var t=0,i=r;t<i.length;t++)for(var o=i[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=n.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);n=h instanceof $t?n.insert(c,h):n.remove(c)}}))})).next((function(){return n.forEach((function(e,r){t.matches(r)||(n=n.remove(e))})),n}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=je(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof wt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof $t&&(c=c.insert(e,t))})),c}))},e}(),Hn=function(){function e(){this.refsByKey=new De(zn.compareByKey),this.refsByTarget=new De(zn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new zn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new zn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=ce.EMPTY,r=new zn(n,e),i=new zn(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=ce.EMPTY,n=new zn(t,e),r=new zn(t,e+1),i=je();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new zn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),zn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return ce.comparator(e.key,t.key)||Q(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return Q(e.targetOrBatchId,t.targetOrBatchId)||ce.comparator(e.key,t.key)},e}(),Gn=function(){function e(e,t){this.persistence=e,this.localViewReferences=new Hn,this.queryDataByTarget={},v(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new qn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new qn(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=[],o=[],s=je(),a=0,u=r;a<u.length;a++){i.push((f=u[a]).batchId);for(var c=0,l=f.mutations;c<l.length;c++)s=s.add(l[c].key)}for(var h=0,d=e;h<d.length;h++){var f;o.push((f=d[h]).batchId);for(var p=0,m=f.mutations;p<m.length;p++)s=s.add(m[p].key)}return t.localDocuments.getDocuments(n,s).next((function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}}))}))}))},e.prototype.localWrite=function(e){var t=this,n=_e.now(),r=e.reduce((function(e,t){return e.add(t.key)}),je());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return t.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],s=0,a=e;s<a.length;s++){var u=a[s],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new wt(u.key,c,c.fieldMask(),yt.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):qe.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return v(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=t.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=[];A(t.targetChanges,(function(t,r){var a=n.queryDataByTarget[t];if(a){s.push(n.queryCache.removeMatchingKeys(o,r.removedDocuments,t).next((function(){return n.queryCache.addMatchingKeys(o,r.addedDocuments,t)})));var u=r.resumeToken;if(u.length>0){var c=a.withResumeToken(u,i);n.queryDataByTarget[t]=c,e.shouldPersistQueryData(a,c,r)&&s.push(n.queryCache.updateQueryData(o,c))}}}));var a=ke(),u=je();if(t.documentUpdates.forEach((function(e,t){u=u.add(e)})),s.push(r.getEntries(o,u).next((function(e){t.documentUpdates.forEach((function(i,u){var c=e.get(i);u instanceof qt&&u.version.isEqual(Ce.MIN)?(r.removeEntry(i),a=a.insert(i,u)):null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(Ce.MIN.isEqual(t.snapshotVersion)&&m("LocalStore","Cannot add a document when the remote version is zero"),r.addEntry(u),a=a.insert(i,u)):p("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",u.version),t.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))}))}))),!i.isEqual(Ce.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next((function(e){return v(i.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+e),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,i)}));s.push(c)}return qe.waitFor(s).next((function(){return r.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,a)}))}))},e.shouldPersistQueryData=function(e,t,n){return v(t.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return qe.forEach(e,(function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),qe.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,qe.resolve()):t.queryCache.allocateTargetId(n).next((function(i){return r=new In(e,i,Sn.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return v(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r}))}))},e.prototype.releaseQuery=function(e,t){var n=this;return this.persistence.runTransaction("Release query",t?"readwrite":"readwrite-primary",(function(r){return n.queryCache.getQueryData(r,e).next((function(i){v(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,s=n.queryDataByTarget[o],a=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?qe.resolve():qe.forEach(a,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){return n.persistence.referenceDelegate.removeTarget(r,s)}))}))}))},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",(function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),s=qe.resolve();return o.forEach((function(r){s=s.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,s=t.docVersions.get(r);v(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):v(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),s.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Wn=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new De(zn.compareByKey)}return e.prototype.checkEmpty=function(e){return qe.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,qe.resolve()},e.prototype.getLastStreamToken=function(e){return qe.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,qe.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Ue(i,t,n,r);this.mutationQueue.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new zn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return qe.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return qe.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return v(null!=n,"Failed to find local mutation batch."),qe.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.indexOfBatchId(t+1),r=n<0?0:n;return qe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return qe.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return qe.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new zn(t,0),i=new zn(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){v(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),qe.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new De(Q);return t.forEach((function(e){var t=new zn(e,0),i=new zn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){v(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),qe.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;ce.isDocumentKey(i)||(i=i.child(""));var o=new zn(new ce(i),0),s=new De(Q);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.targetOrBatchId)),!0)}),o),qe.resolve(this.findMutationBatches(s))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;v(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return qe.forEach(t.mutations,(function(i){var o=new zn(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new zn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return qe.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),qe.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return v(n.batchId===e,"If found batch must match"),n},e}(),Qn=function(){function e(e){this.persistence=e,this.queries=new zt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=Ce.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Hn,this.targetCount=0,this.targetIdGenerator=Je.forQueryCache()}return e.prototype.getTargetCount=function(e){return qe.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),qe.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return qe.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return qe.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,qe.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),qe.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return v(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,qe.resolve()},e.prototype.updateQueryData=function(e,t){return v(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),qe.resolve()},e.prototype.removeQueryData=function(e,t){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,qe.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(s,a){a.sequenceNumber<=t&&!n[a.targetId]&&(r.queries.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),qe.waitFor(o).next((function(){return i}))},e.prototype.getQueryCount=function(e){return qe.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return qe.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),qe.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),qe.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),qe.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return qe.resolve(n)},e.prototype.containsKey=function(e,t){return qe.resolve(this.references.containsKey(t))},e}(),Kn=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Se(ce.comparator),this.newDocumentChanges=je(),this.size=0}return e.prototype.addEntry=function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(t);return this.docs=this.docs.insert(n,{maybeDocument:t,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return qe.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=xe();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),qe.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t){v(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Pe(),r=new ce(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),s=o.value.maybeDocument;if(!t.path.isPrefixOf(o.key.path))break;s instanceof $t&&t.matches(s)&&(n=n.insert(s.key,s))}return qe.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return qe.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e){var t=this,n=ke();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new qt(e,Ce.forDeletedDoc());n=n.insert(e,i)})),this.newDocumentChanges=je(),qe.resolve(n)},e.prototype.newChangeBuffer=function(){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return qe.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return s.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i)):t.documentCache.removeEntry(r)})),qe.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Gt),e}(),Yn=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ie(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Qn(this),this.indexManager=new en,this.remoteDocumentCache=new Kn(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n,r){return new e(t,(function(e){return new Jn(e,new An(n),r)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new Zn(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Wn(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;p("MemoryPersistence","Starting transaction:",e);var i=new Xn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return qe.or((n=this.mutationQueues,r=[],T(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),Xn=function(){return function(e){this.currentSequenceNumber=e}}(),Zn=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),qe.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),qe.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),qe.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return qe.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return qe.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Jn=function(){function e(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new zt((function(e){return ve(e.path)})),this.garbageCollector=new xn(this,n)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return qe.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return qe.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?qe.resolve():t(i)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),qe.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),qe.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),qe.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),qe.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return qe.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return qe.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return qe.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),er=Number,tr=er.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),nr=er.MAX_SAFE_INTEGER||Math.pow(2,53)-1,rr=er.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ir(e){return null==e}function or(e){return rr(e)&&e<=nr&&e>=tr}var sr=1e3,ar=1.5,ur=6e4,cr=function(){function e(e,t,n,r,i){void 0===n&&(n=sr),void 0===r&&(r=ar),void 0===i&&(i=ur),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}(),lr=function(e){return e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e}({}),hr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=lr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new cr(e,t)}return e.prototype.isStarted=function(){return this.state===lr.Starting||this.state===lr.Open||this.state===lr.Backoff},e.prototype.isOpen=function(){return this.state===lr.Open},e.prototype.start=function(){this.state!==lr.Error?(v(this.state===lr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(lr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=lr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.isOpen()?[2,this.close(lr.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(e===lr.Error||ir(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==lr.Error?this.backoff.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===E.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;v(this.state===lr.Initial,"Must be in initial state to auth"),this.state=lr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new _(E.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;v(this.state===lr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return v(t.state===lr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=lr.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;v(this.state===lr.Error,"Should only perform backoff when in Error state"),this.state=lr.Backoff,this.backoff.backoffAndRun((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){return v(this.state===lr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=lr.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return v(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+e),this.stream=null,this.close(lr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),dr=function(e){function t(t,n,r,i,o){var s=e.call(this,t,he.ListenStreamConnectionBackoff,he.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return s.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(hr),fr=function(e){function t(t,n,r,i,o){var s=e.call(this,t,he.WriteStreamConnectionBackoff,he.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s.lastStreamToken=w(),s}return s.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(v(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return v(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(hr),pr=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new fr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new dr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=ke();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);v(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),mr=function(){function e(e){this.datastore=e,this.readVersions=Le(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof qt||e instanceof $t?n.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new _t(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new _(E.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof $t)t=e.version;else{if(!(e instanceof qt))throw y("Document in a transaction was a "+e.constructor.name);t=Ce.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new _(E.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?yt.updateTime(t):yt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(Ce.forDeletedDoc()))throw new _(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yt.updateTime(t)}return yt.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}(),gr=function(e){return e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline",e}({}),yr=function(e){return e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState",e}({}),vr=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=gr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(gr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(he.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,v(e.state===gr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(gr.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===gr.Online?(this.setAndBroadcast(gr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(gr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===gr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(t),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),br=function(e){return e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e}({});function wr(e){switch(e){case E.OK:return y("Treated status OK as error");case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function Er(e){if(void 0===e)return m("GRPC error has no .code"),E.UNKNOWN;switch(e){case br.OK:return E.OK;case br.CANCELLED:return E.CANCELLED;case br.UNKNOWN:return E.UNKNOWN;case br.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case br.INTERNAL:return E.INTERNAL;case br.UNAVAILABLE:return E.UNAVAILABLE;case br.UNAUTHENTICATED:return E.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case br.NOT_FOUND:return E.NOT_FOUND;case br.ALREADY_EXISTS:return E.ALREADY_EXISTS;case br.PERMISSION_DENIED:return E.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case br.ABORTED:return E.ABORTED;case br.OUT_OF_RANGE:return E.OUT_OF_RANGE;case br.UNIMPLEMENTED:return E.UNIMPLEMENTED;case br.DATA_LOSS:return E.DATA_LOSS;default:return y("Unknown status code: "+e)}}function _r(e){if(void 0===e)return br.OK;switch(e){case E.OK:return br.OK;case E.CANCELLED:return br.CANCELLED;case E.UNKNOWN:return br.UNKNOWN;case E.DEADLINE_EXCEEDED:return br.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return br.RESOURCE_EXHAUSTED;case E.INTERNAL:return br.INTERNAL;case E.UNAVAILABLE:return br.UNAVAILABLE;case E.UNAUTHENTICATED:return br.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return br.INVALID_ARGUMENT;case E.NOT_FOUND:return br.NOT_FOUND;case E.ALREADY_EXISTS:return br.ALREADY_EXISTS;case E.PERMISSION_DENIED:return br.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return br.FAILED_PRECONDITION;case E.ABORTED:return br.ABORTED;case E.OUT_OF_RANGE:return br.OUT_OF_RANGE;case E.UNIMPLEMENTED:return br.UNIMPLEMENTED;case E.DATA_LOSS:return br.DATA_LOSS;default:return y("Unknown status code: "+e)}}var Cr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ce.comparator(t.key,n.key)}:function(e,t){return ce.comparator(e.key,t.key)},this.keyedMap=Pe(),this.sortedSet=new Se(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Sr=function(e){return e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata",e}({}),Ir=function(e){return e[e.Local=0]="Local",e[e.Synced=1]="Synced",e}({}),Ar=function(){function e(){this.changeMap=new Se(ce.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Sr.Added&&n.type===Sr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Sr.Metadata&&n.type!==Sr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Sr.Modified&&n.type===Sr.Modified?this.changeMap=this.changeMap.insert(t,{type:Sr.Modified,doc:e.doc}):e.type===Sr.Modified&&n.type===Sr.Added?this.changeMap=this.changeMap.insert(t,{type:Sr.Added,doc:e.doc}):e.type===Sr.Removed&&n.type===Sr.Added?this.changeMap=this.changeMap.remove(t):e.type===Sr.Removed&&n.type===Sr.Modified?this.changeMap=this.changeMap.insert(t,{type:Sr.Removed,doc:n.doc}):e.type===Sr.Added&&n.type===Sr.Removed?this.changeMap=this.changeMap.insert(t,{type:Sr.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Tr=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:Sr.Added,doc:e})})),new e(t,n,Cr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Dr=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Nr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(Ce.MIN,i,Ve(),ke(),je())},e}(),Nr=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(w(),n,je(),je(),je())},e}(),Or=function(){return function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}}(),kr=function(){return function(e,t){this.targetId=e,this.existenceFilter=t}}(),xr=function(e){return e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset",e}({}),Rr=function(){return function(e,t,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}(),Pr=function(){function e(){this.pendingResponses=0,this.documentChanges=Fr(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=je(),t=je(),n=je();return this.documentChanges.forEach((function(r,i){switch(i){case Sr.Added:e=e.add(r);break;case Sr.Modified:t=t.add(r);break;case Sr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new Nr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Fr()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),Mr=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=ke(),this.pendingDocumentTargetMapping=Lr(),this.pendingTargetResets=new De(Q)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof $t?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof qt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],e.key,e.newDoc)},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case xr.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case xr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case xr.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),v(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case xr.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case xr.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):A(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ce(i.path);this.removeDocumentFromTarget(t,o,new qt(o,Ce.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};A(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var s=new ce(o.query.path);null!==t.pendingDocumentUpdates.get(s)||t.targetContainsDocument(r,s)||t.removeDocumentFromTarget(r,s,new qt(s,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=je();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Sn.LimboResolution||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Dr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=ke(),this.pendingDocumentTargetMapping=Lr(),this.pendingTargetResets=new De(Q),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Sr.Modified:Sr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Sr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Pr),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new De(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;v(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Pr,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Lr(){return new Se(ce.comparator)}function Fr(){return new Se(ce.comparator)}var jr="RemoteStore",Br=function(){function e(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return s.__awaiter(o,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(jr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new vr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(gr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(gr.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(p(jr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return p(jr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(gr.Unknown),[2]}}))}))},e.prototype.listen=function(e){v(!S(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){v(S(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),D(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(gr.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Mr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!D(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){var e=this;return s.__generator(this,(function(t){return A(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return void 0===e&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(gr.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(gr.Online),e instanceof Rr&&e.state===xr.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Or?this.watchChangeAggregator.handleDocumentChange(e):e instanceof kr?this.watchChangeAggregator.handleExistenceFilter(e):(v(e instanceof Rr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(Ce.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;v(!e.isEqual(Ce.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return A(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(w(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new In(n.query,e,Sn.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;v(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return s.__awaiter(t,void 0,void 0,(function(){return s.__generator(this,(function(t){return S(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(t){switch(t.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(e=t.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:t.sent(),t.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++)e.writeStream.writeMutations(n[t].mutations)})).catch(jn)},e.prototype.onMutationResult=function(e,t){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=$e.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(n){return void 0===e&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},e.prototype.handleHandshakeError=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return wr(e.code)?(p(jr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(jn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){return wr(i=e.code)&&i!==E.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},e.prototype.createTransaction=function(){return new mr(this.datastore)},e.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(gr.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(p(jr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(gr.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),Vr=function(){function e(e,t){if(O("GeoPoint",arguments,2),R("GeoPoint","number",1,e),R("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new _(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)},e}(),Ur=function(){function e(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)this.memoizedOrderBy=e.isKeyField()?[Jr]:[new Zr(e),Jr];else{v(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Yr.ASCENDING)===Yr.ASCENDING?Jr:ei)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){v(null==this.getInequalityFilterField()||!(t instanceof Hr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";ir(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),ir(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(e,t);if(0!==s)return s;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!ir(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof Hr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof Hr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return ce.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):ce.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){v(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),$r=function(){return function(){}}(),qr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),Hr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return s.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===qr.IN?(v(r instanceof Vt,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every((function(e){return e instanceof Ft})),"Comparing on key with IN, but an array value was not a RefValue"),new Gr(e,r)):(v(r instanceof Ft,"Comparing on key, but filter value not a RefValue"),v(n!==qr.ARRAY_CONTAINS&&n!==qr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new zr(e,n,r));if(r.isEqual(Tt.INSTANCE)){if(n!==qr.EQUAL)throw new _(E.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(xt.NAN)){if(n!==qr.EQUAL)throw new _(E.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===qr.ARRAY_CONTAINS?new Wr(e,r):n===qr.IN?(v(r instanceof Vt,"IN filter has invalid value: "+r.toString()),new Qr(e,r)):n===qr.ARRAY_CONTAINS_ANY?(v(r instanceof Vt,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Kr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case qr.LESS_THAN:return e<0;case qr.LESS_THAN_OR_EQUAL:return e<=0;case qr.EQUAL:return 0===e;case qr.GREATER_THAN:return e>0;case qr.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[qr.LESS_THAN,qr.LESS_THAN_OR_EQUAL,qr.GREATER_THAN,qr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}($r),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.matches=function(e){var t=ce.comparator(e.key,this.value.key);return this.matchesComparison(t)},t}(Hr),Gr=function(e){function t(t,n){var r=e.call(this,t,qr.IN,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(Hr),Wr=function(e){function t(t,n){return e.call(this,t,qr.ARRAY_CONTAINS,n)||this}return s.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Vt&&t.contains(this.value)},t}(Hr),Qr=function(e){function t(t,n){var r=e.call(this,t,qr.IN,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(Hr),Kr=function(e){function t(t,n){var r=e.call(this,t,qr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return s.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Vt&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(Hr),Yr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Xr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},e.prototype.sortsBeforeDocument=function(e,t){v(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Ft,"Bound has a non-key value where the key path is being used."),n=ce.comparator(o.key,t.key);else{var s=t.field(i.field);v(null!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===Yr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++)if(!this.position[t].isEqual(e.position[t]))return!1;return!0},e}(),Zr=function(){function e(e,t){this.field=e,void 0===t&&(t=Yr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?$t.compareByKey(e,t):$t.compareByField(this.field,e,t);switch(this.dir){case Yr.ASCENDING:return n;case Yr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),Jr=new Zr(ue.keyField(),Yr.ASCENDING),ei=new Zr(ue.keyField(),Yr.DESCENDING),ti=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Mt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),ni=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=oi(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Vt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&K(t.elements,this.elements)},e}(),ri=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=oi(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Vt(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&K(t.elements,this.elements)},e}(),ii=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);return n instanceof kt&&this.operand instanceof kt?new kt(n.internalValue+this.operand.internalValue):new xt(n.internalValue+this.operand.internalValue)},e.prototype.applyToRemoteDocument=function(e,t){return v(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Nt?e:new kt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function oi(e){return e instanceof Vt?e.internalValue.slice():[]}var si,ai,ui=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),ci=((si={})[Yr.ASCENDING.name]="ASCENDING",si[Yr.DESCENDING.name]="DESCENDING",si),li=((ai={})[qr.LESS_THAN.name]="LESS_THAN",ai[qr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ai[qr.GREATER_THAN.name]="GREATER_THAN",ai[qr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ai[qr.EQUAL.name]="EQUAL",ai[qr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ai[qr.IN.name]="IN",ai[qr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ai),hi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(e,t){v(!ir(e),t+" is missing")}function fi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var pi=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?E.UNKNOWN:Er(e.code);return new _(t,e.message||"")},e.prototype.toInt32Value=function(e){return ir(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return ir(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);v(!!e,"Cannot deserialize null or undefined timestamp.");var t=fi(e.seconds||"0");return new _e(t,e.nanos||0)},e.prototype.fromIso8601String=function(e){var t=0,n=hi.exec(e);if(v(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new _e(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(e)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return v(!!e,"Trying to deserialize version that isn't set"),Ce.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=se.fromString(e);return v(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return v(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),v(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new ce(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?se.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new se(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new se(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return v(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Tt)return{nullValue:"NULL_VALUE"};if(e instanceof Dt)return{booleanValue:e.value()};if(e instanceof kt)return{integerValue:""+e.value()};if(e instanceof xt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Rt?{stringValue:e.value()}:e instanceof Bt?{mapValue:this.toMapValue(e)}:e instanceof Vt?{arrayValue:this.toArrayValue(e)}:e instanceof Pt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof jt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Lt?{bytesValue:this.toBytes(e.value())}:e instanceof Ft?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Tt.INSTANCE;if("booleanValue"in e)return Dt.of(e.booleanValue);if("integerValue"in e)return new kt(fi(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return xt.NAN;if("Infinity"===e.doubleValue)return xt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return xt.NEGATIVE_INFINITY}return new xt(e.doubleValue)}if("stringValue"in e)return new Rt(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e)return di(e.arrayValue,"arrayValue"),new Vt((e.arrayValue.values||[]).map((function(e){return t.fromValue(e)})));if("timestampValue"in e)return di(e.timestampValue,"timestampValue"),new Pt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e)return di(e.geoPointValue,"geoPointValue"),new jt(new Vr(e.geoPointValue.latitude||0,e.geoPointValue.longitude||0));if("bytesValue"in e){di(e.bytesValue,"bytesValue");var n=this.fromBlob(e.bytesValue);return new Lt(n)}if("referenceValue"in e){di(e.referenceValue,"referenceValue");var r=this.fromResourceName(e.referenceValue),i=new re(r.get(1),r.get(3)),o=new ce(this.extractLocalPathFromResourceName(r));return new Ft(i,o)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return v(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new $t(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=Bt.EMPTY;return T(e,(function(e,r){n=n.set(new ue([e]),t.fromValue(r))})),n},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;v(!!e.found,"Tried to deserialize a found document from a missing document."),di(e.found.name,"doc.found.name"),di(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new $t(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){v(!!e.missing,"Tried to deserialize a missing document from a found document."),v(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new qt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case xr.Added:return"ADD";case xr.Current:return"CURRENT";case xr.NoChange:return"NO_CHANGE";case xr.Removed:return"REMOVE";case xr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof kr)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Or){var t;if(e.newDoc instanceof $t)return{documentChange:{document:{name:this.toName((t=e.newDoc).key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}};if(e.newDoc instanceof qt)return{documentDelete:{document:this.toName((t=e.newDoc).key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Rr){var n=void 0;return e.cause&&(n={code:_r(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){di(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),s=e.targetChange.cause,a=s&&this.fromRpcStatus(s);t=new Rr(r,i,o,a||null)}else if("documentChange"in e){di(e.documentChange,"documentChange"),di(e.documentChange.document,"documentChange.name"),di(e.documentChange.document.name,"documentChange.document.name"),di(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=new $t(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)}));t=new Or(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){di(e.documentDelete,"documentDelete"),di(e.documentDelete.document,"documentDelete.document");var d=e.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):Ce.forDeletedDoc(),h=new qt(c,l),t=new Or([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){di(e.documentRemove,"documentRemove"),di(e.documentRemove.document,"documentRemove");var f=e.documentRemove;c=this.fromName(f.document),t=new Or([],f.removedTargetIds||[],c,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));di(e.filter,"filter"),di(e.filter.targetId,"filter.targetId");var p=e.filter,m=new ui(p.count||0);t=new kr(p.targetId,m)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?xr.NoChange:"ADD"===e?xr.Added:"REMOVE"===e?xr.Removed:"CURRENT"===e?xr.Current:"RESET"===e?xr.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return Ce.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ce.MIN:t.readTime?this.fromVersion(t.readTime):Ce.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof bt)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof _t)t={delete:this.toName(e.key)};else if(e instanceof wt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Et))return y("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):yt.NONE;if(e.update){di(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new wt(r,i,o,n)}return new bt(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new _t(r,n);if(e.transform){r=this.fromName(e.transform.document);var s=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new Et(r,s)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return v(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?yt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?yt.exists(e.exists):yt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=this.fromVersion(e.updateTime?e.updateTime:t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new mt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(v(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof ti)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ni)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ri)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof ii)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=ti.instance;else if("appendMissingElements"in e)n=new ni((e.appendMissingElements.values||[]).map((function(e){return t.fromValue(e)})));else if("removeAllFromArray"in e)n=new ri((e.removeAllFromArray.values||[]).map((function(e){return t.fromValue(e)})));else if("increment"in e){var r=this.fromValue(e.increment);v(r instanceof Nt,"NUMERIC_ADD transform requires a NumberValue"),n=new ii(r)}else y("Unknown transform proto: "+JSON.stringify(e));var i=ue.fromServerFormat(e.fieldPath);return new pt(i,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;return v(1===t,"DocumentsTarget contained other than 1 document: "+t),Ur.atPath(this.fromQueryPath(e.documents[0]))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Ur(t,i,a,s,u,c,l)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Sn.Listen:return null;case Sn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Sn.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof Hr?t.toUnaryOrFieldFilter(e):y("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new Xr(r,n)},e.prototype.toDirection=function(e){return ci[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return Yr.ASCENDING;case"DESCENDING":return Yr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return li[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return qr.EQUAL;case"GREATER_THAN":return qr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return qr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return qr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return qr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return qr.ARRAY_CONTAINS;case"IN":return qr.IN;case"ARRAY_CONTAINS_ANY":return qr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return ue.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new Zr(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return Hr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===qr.EQUAL){if(e.value.isEqual(xt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Tt.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return Hr.create(t,qr.EQUAL,xt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return Hr.create(n,qr.EQUAL,Tt.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return ue.fromServerFormat(e)}));return ft.fromArray(t)},e}(),mi=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),gi=function(){function e(e){this.syncEngine=e,this.queries=new zt((function(e){return e.canonicalId()})),this.onlineState=gr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new mi,this.queries.set(t,r)),r.listeners.push(e),v(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return s.__generator(this,(function(o){return n=!1,(r=this.queries.get(t=e.query))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=this.queries.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].onViewSnapshot(i)&&(t=!0);o.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),yi=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=gr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(v(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Sr.Metadata&&t.push(i)}e=new Tr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache||(this.options.waitForSyncWhenOnline&&t!==gr.Offline?(v(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===gr.Offline)},e.prototype.shouldRaiseEvent=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Tr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),vi=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=je(),i=je(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case Sr.Added:r=r.add(a.doc.key);break;case Sr.Removed:i=i.add(a.doc.key)}}return new e(t,r,i)},e}(),bi=function(){return function(e){this.key=e}}(),wi=function(){return function(e){this.key=e}}(),Ei=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=je(),this.mutatedKeys=je(),this.documentSet=new Cr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Ar,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof $t?t:null;l&&(v(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),f=!1;c&&l?c.data().isEqual(l.data())?h!==d&&(r.track({type:Sr.Metadata,doc:l}),f=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Sr.Modified,doc:l}),f=!0,u&&n.query.docComparator(l,u)>0&&(a=!0)):!c&&l?(r.track({type:Sr.Added,doc:l}),f=!0):c&&!l&&(r.track({type:Sr.Removed,doc:c}),f=!0,u&&(a=!0)),f&&(l?(s=s.add(l),o=d?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),this.query.hasLimit())for(;s.size>this.query.limit;){var c=s.last();s=s.delete(c.key),o=o.delete(c.key),r.track({type:Sr.Removed,doc:c})}return v(!a||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;v(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Sr.Added:return 1;case Sr.Modified:case Sr.Metadata:return 2;case Sr.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var s=t?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ir.Synced:Ir.Local,u=a!==this.syncState;return this.syncState=a,0!==o.length||u?{snapshot:new Tr(this.query,e.documentSet,i,o,e.mutatedKeys,a===Ir.Local,u,!1),limboChanges:s}:{limboChanges:s}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===gr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ar,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return v(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=je(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new wi(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new bi(e))})),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=je();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return Tr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ir.Local)},e}(),_i=5,Ci=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=_i,this.backoff=new cr(this.asyncQueue,he.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return s.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return s.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!ir(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wr(t)}return!1},e}(),Si=function(){return function(e,t,n){this.query=e,this.targetId=t,this.view=n}}(),Ii=function(){return function(e){this.key=e,this.receivedDocument=!1}}(),Ai=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new zt((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new Se(ce.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Hn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Je.forSyncEngine(),this.isPrimary=void 0,this.onlineState=gr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){v(null!==e,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(this.sharedClientState.addLocalQueryTarget(t=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=s.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.remoteStore.listen(i),s.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,this.localStore.executeQuery(n=e.query)];case 1:return r=s.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return i=s.sent(),o=new Ei(n,i),a=o.computeDocChanges(r),u=Nr.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==gr.Offline),v(0===(c=o.applyChanges(a,!0===this.isPrimary,u)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!c.snapshot,"applyChanges for new view should always return a snapshot"),l=new Si(n,e.targetId,o),this.queryViewsByQuery.set(n,l),this.queryViewsByTarget[e.targetId]=l,[2,c.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e.query)];case 1:return t=i.sent(),[4,this.localStore.remoteDocumentKeys(e.targetId)];case 2:return n=i.sent(),r=e.view.synchronizeWithPersistedState(t,n),this.isPrimary&&this.updateTrackedLimbos(e.targetId,r.limboChanges),[2,r]}}))}))},e.prototype.unlisten=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(jn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Ci(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),T(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===yr.RemoteStore||!this.isPrimary&&t===yr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,c=this;return s.__generator(this,(function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),(r=(n=this.limboResolutionsByTarget[e])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Se(ce.comparator)).insert(r,new qt(r,Ce.forDeletedDoc())),o=je().add(r),a=new Dr(Ce.MIN,{},new De(Q),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then((function(){return c.removeAndCleanupQuery(u)})).catch(jn)];case 2:s.sent(),this.syncEngineListener.onWatchError(u.query,t),s.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return s.__awaiter(this,void 0,void 0,(function(){var r;return s.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n;return s.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t=e.batch.batchId,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,jn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n;return s.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new _(E.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Se(Q)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(v(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof bi?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof wi?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){p("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=Ur.atPath(t.path);this.limboResolutionsByTarget[n]=new Ii(t),this.remoteStore.listen(new In(r,n,Sn.LimboResolution,ie.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return s.__generator(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(s,a){i.push(Promise.resolve().then((function(){var t=a.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(a.query).then((function(e){return a.view.computeDocChanges(e,t)})):t})).then((function(e){var i=a.view.applyChanges(e,!0===o.isPrimary,t&&t.targetChanges[a.targetId]);if(o.updateTrackedLimbos(a.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var s=vi.fromSnapshot(a.targetId,i.snapshot);r.push(s)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return s.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){v(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n;return s.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,a,u=this;return s.__generator(this,(function(s){switch(s.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],a=Promise.resolve(),A(this.queryViewsByTarget,(function(e,t){u.sharedClientState.isLocalQueryTarget(e)?o.push(e):a=a.then((function(){return u.unlisten(t.query)})),u.remoteStore.unlisten(t.targetId)})),[4,a]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;A(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Se(ce.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return s.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,a,u,c,l;return s.__generator(this,(function(s){switch(s.label){case 0:t=[],n=[],r=0,i=e,s.label=1;case 1:return r<i.length?(a=void 0,(u=this.queryViewsByTarget[o=i[r]])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return s.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return a=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(c=s.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return v(!!(l=s.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=s.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:s.sent(),s.label=9;case 9:t.push(a),s.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return s.__awaiter(this,void 0,void 0,(function(){var r,i,o,a,u;return s.__generator(this,(function(s){switch(s.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,11];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return s.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=Dr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,11];case 4:return(c=o=s.sent()).code!==E.DATA_LOSS||c.message!==Wt?[3,6]:(a=[],A(this.queryViewsByTarget,(function(e){return a.push(e)})),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]);case 5:return s.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return this.removeAndCleanupQuery(u=this.queryViewsByTarget[e]),[4,this.localStore.releaseQuery(u.query,!0)];case 9:return s.sent(),this.syncEngineListener.onWatchError(u.query,n),[3,11];case 10:y("Unexpected target state: "+t),s.label=11;case 11:return[2]}var c}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return s.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,u,c,l,h,d=this;return s.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,f.label=1;case 1:return n<r.length?(v(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=f.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:f.sent(),this.remoteStore.listen(o),f.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return s.__generator(this,(function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then((function(){d.remoteStore.unlisten(e),d.removeAndCleanupQuery(t)})).catch(jn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},u=this,c=0,l=t,f.label=7;case 7:return c<l.length?[5,a(h=l[c])]:[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?je().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:je()},e}(),Ti=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Di="SharedClientState",Ni="firestore_clients",Oi="firestore_mutations",ki="firestore_targets",xi="firestore_online_state",Ri="firestore_sequence_number",Pi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new _(i.error.code,i.error.message)),o?new e(t,n,i.state,s):(m(Di,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Mi=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,v(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _(r.error.code,r.error.message)),i?new e(t,r.state,o):(m(Di,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Li=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ve(),s=0;i&&s<r.activeTargetIds.length;++s)i=or(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(m(Di,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Fi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in gr&&"string"==typeof n.clientId?new e(n.clientId,gr[n.onlineState]):(m(Di,"Failed to parse online state: "+t),null)},e}(),ji=function(){function e(){this.activeTargetIds=Ve()}return e.prototype.addQueryTarget=function(e){v(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Bi=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new _(E.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ri+"_"+r,this.activeClients[this.localClientId]=new ji,this.clientStateKeyRe=new RegExp("^"+Ni+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Oi+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+ki+"_"+s+"_(\\d+)$"),this.onlineStateKey=xi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return s.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,c,l,h=this;return s.__generator(this,(function(s){switch(s.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=s.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Li.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)this.handleWebStorageEvent(l[c]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=Ve();return T(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Mi.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return p(Di,"READ",e,t),t},e.prototype.setItem=function(e,t){p(Di,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){p(Di,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(p(Di,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return s.__awaiter(t,void 0,void 0,(function(){var t,n,r,i,o,a;return s.__generator(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=ie.INVALID;if(null!=e)try{var n=JSON.parse(e);v("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(r){m(Di,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ie.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Pi(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:gr[e]}))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Mi(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return v(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Ni+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return ki+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=Oi+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return v(null!==n,"Cannot parse client state key '"+e+"'"),Li.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);v(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]);return Pi.fromWebStorageEntry(new Ti(void 0!==n[2]?n[2]:null),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);v(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Mi.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Fi.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(p(Di,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(e){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}(),Vi=function(){function e(){this.localState=new ji,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new ji,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Ui=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return On.withCacheSize(this.cacheSizeBytes)},e}(),$i=function(){return function(){}}(),qi=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new le,r=new le,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Ui?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof _?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Fn.buildStoragePrefix(this.databaseInfo),i=new pi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return s.__awaiter(n,void 0,void 0,(function(){var n,o;return s.__generator(this,(function(s){switch(s.label){case 0:if(t.synchronizeTabs&&!Bi.isAvailable(this.platform))throw new _(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Bi(this.asyncQueue,this.platform,r,this.clientId,e):new Vi,[4,Fn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=s.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=Yn.createEagerPersistence(this.clientId),this.sharedClientState=new Vi,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return p("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return s.__awaiter(n,void 0,void 0,(function(){var n,i,o,a,u=this;return s.__generator(this,(function(c){switch(c.label){case 0:return this.localStore=new Gn(this.persistence,e),t&&(this.lruScheduler=new kn(t,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new pr(this.asyncQueue,r,this.credentials,i),a=function(e){return u.syncEngine.applyOnlineStateChange(e,yr.SharedClientState)},this.remoteStore=new Br(this.localStore,o,this.asyncQueue,(function(e){return u.syncEngine.applyOnlineStateChange(e,yr.RemoteStore)}),n),this.syncEngine=new Ai(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new gi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return c.sent(),[4,this.remoteStore.start()];case 2:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return s.__awaiter(u,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return s.__awaiter(u,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return c.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return s.__awaiter(e,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new le;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new yi(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof $t)return e;if(e instanceof qt)return null;throw new _(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.executeQuery(e)})).then((function(t){var n=je(),r=new Ei(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new le;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new le;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),Hi=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),zi=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new _(E.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+G(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(R("FieldPath","string",n,e[n]),0===e[n].length)throw new _(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ue(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(ue.keyField().canonicalString()),e}(),Gi=new RegExp("[~\\*/\\[\\]]"),Wi=function(){return function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}}(),Qi=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Ti.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Ki=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=Ti.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new _(E.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Wi(n.accessToken,e.currentUser)):null}))},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(this.currentUser)},e.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return v(null===e||"string"==typeof e,"Received invalid UID: "+e),new Ti(e)},e}(),Yi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Ti.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),Xi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Ti.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Zi(e){if(!e)return new Qi;switch(e.type){case"gapi":var t=e.client;return v(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xi(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new _(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Ji(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var eo=function(){function e(e){this._methodName=e}return e.delete=function(){return N("FieldValue.delete",arguments),to.instance},e.serverTimestamp=function(){return N("FieldValue.serverTimestamp",arguments),no.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayUnion",arguments,1),new ro(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k("FieldValue.arrayRemove",arguments,1),new io(e)},e.increment=function(e){return R("FieldValue.increment","number",1,e),O("FieldValue.increment",arguments,1),new oo(e)},e.prototype.isEqual=function(e){return this===e},e}(),to=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return s.__extends(t,e),t.instance=new t,t}(eo),no=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(t,e),t.instance=new t,t}(eo),ro=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return s.__extends(t,e),t}(eo),io=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return s.__extends(t,e),t}(eo),oo=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return s.__extends(t,e),t}(eo),so=C(eo,"Use FieldValue.<field>() instead."),ao=/^__.*__$/,uo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return n.push(null!==this.fieldMask?new wt(e,this.data,this.fieldMask,t):new bt(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new Et(e,this.fieldTransforms)),n},e}(),co=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new wt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new Et(e,this.fieldTransforms)),n},e}(),lo=function(e){return e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e}({});function ho(e){switch(e){case lo.Set:case lo.MergeSet:case lo.Update:return!0;case lo.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}var fo=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new _(E.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(ho(this.dataSource)&&ao.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),po=function(){return function(e,t){this.databaseId=e,this.key=t}}(),mo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new fo(lo.Set,e,ue.EMPTY_PATH);yo("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new uo(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new fo(lo.MergeSet,e,ue.EMPTY_PATH);yo("Data must be an object, but it was:",r,t);var i,o,s=this.parseData(t,r);if(n){for(var a=new De(ue.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof zi)h=l._internalPath;else{if("string"!=typeof l)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=bo(e,l)}if(!r.contains(h))throw new _(E.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=ft.fromSet(a),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=ft.fromArray(r.fieldMask),o=r.fieldTransforms;return new uo(s,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new fo(lo.Update,e,ue.EMPTY_PATH);yo("Data must be an object, but it was:",r,t);var i=new De(ue.comparator),o=Bt.EMPTY;T(t,(function(t,s){var a=bo(e,t),u=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,u))instanceof to)i=i.add(a);else{var c=n.parseData(s,u);null!=c&&(i=i.add(a),o=o.set(a,c))}}));var s=ft.fromSet(i);return new co(o,s,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new fo(lo.Update,e,ue.EMPTY_PATH),o=[vo(e,t)],s=[n];if(r.length%2!=0)throw new _(E.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(vo(e,r[a])),s.push(r[a+1]);var u=new De(ue.comparator),c=Bt.EMPTY;for(a=0;a<o.length;++a){var l=o[a],h=i.childContextForFieldPath(l),d=this.runPreConverter(s[a],h);if(d instanceof to)u=u.add(l);else{var f=this.parseData(d,h);null!=f&&(u=u.add(l),c=c.set(l,f))}}var p=ft.fromSet(u);return new co(c,p,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new fo(lo.Argument,e,ue.EMPTY_PATH),r=this.parseData(t,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=wo(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(go(e=this.runPreConverter(e,t)))return yo("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof eo)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Se(Q);return D(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):T(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new Bt(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=this.parseData(o[i],t.childContextForArray(r));null==s&&(s=Tt.INSTANCE),n.push(s),r++}return new Vt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!ho(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof to){if(t.dataSource!==lo.MergeSet)throw t.dataSource===lo.Update?(v(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof no)t.fieldTransforms.push(new pt(t.path,ti.instance));else if(e instanceof ro){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new ni(n);t.fieldTransforms.push(new pt(t.path,r))}else if(e instanceof io){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new ri(n);t.fieldTransforms.push(new pt(t.path,i))}else if(e instanceof oo){var o=this.parseQueryValue("FieldValue.increment",e._operand),s=new ii(o);t.fieldTransforms.push(new pt(t.path,s))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return Tt.INSTANCE;if("number"==typeof e)return or(e)?new kt(e):new xt(e);if("boolean"==typeof e)return Dt.of(e);if("string"==typeof e)return new Rt(e);if(e instanceof Date)return new Pt(_e.fromDate(e));if(e instanceof _e)return new Pt(new _e(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Vr)return new jt(e);if(e instanceof J)return new Lt(e);if(e instanceof po)return new Ft(e.databaseId,e.key);throw t.createError("Unsupported field value: "+U(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new fo(lo.Argument,e,ue.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},e}();function go(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _e||e instanceof Vr||e instanceof J||e instanceof po||e instanceof eo)}function yo(e,t,n){if(!go(n)||!V(n)){var r=U(n);throw t.createError("an object"===r?e+" a custom object":e+" "+r)}}function vo(e,t){if(t instanceof zi)return t._internalPath;if("string"==typeof t)return bo(e,t);throw new _(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function bo(e,t){try{return function(e){if(e.search(Gi)>=0)throw new _(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(zi.bind.apply(zi,[void 0].concat(e.split("."))))}catch(t){throw new _(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=wo(r);throw new _(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function wo(e){return e instanceof Error?e.message:e.toString()}var Eo="firestore.googleapis.com",_o=!0,Co=!0,So=!1,Io=On.COLLECTION_DISABLED,Ao=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new _(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eo,this.ssl=_o}else M("settings","non-empty string","host",e.host),this.host=e.host,L("settings","boolean","ssl",e.ssl),this.ssl=I(e.ssl,_o);if(q("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",e.credentials),this.credentials=e.credentials,L("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(e.timestampsInSnapshots,Co),L("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=On.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Io&&e.cacheSizeBytes<On.MINIMUM_CACHE_SIZE_BYTES)throw new _(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+On.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?So:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),To=function(){function e(t){var n=this;if(this._firebaseApp=null,this._queue=new fe,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,(function(){return s.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var r=t;this._firebaseApp=r,this._databaseId=e.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Ki(r)}else{var i=t;if(!i.projectId)throw new _(E.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new re(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Qi}this._settings=new Ao({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(O("Firestore.settings",arguments,1),R("Firestore.settings","object",1,e),S(e,"persistence"))throw new _(E.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Ao(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new _(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=Zi(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new _(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=I(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Ui(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Fn.buildStoragePrefix(this.makeDatabaseInfo()),n=new le;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return s.__awaiter(e,void 0,void 0,(function(){var e;return s.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new _(E.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Fn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype._onSnapshotsInSync=function(e){return this.ensureClientConfigured(),Ji(e)?this.onSnapshotsInSyncInternal(e):(R("Firestore.onSnapshotsInSync","function",1,e),this.onSnapshotsInSyncInternal({next:e}))},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Hi({next:function(){e.next&&e.next()},error:function(e){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new $i),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new te(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new qi(b.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new mo((function(t){if(t instanceof Oo){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new _(E.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new po(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!S(t,"projectId"))throw new _(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new _(E.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new re(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new _(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return O("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Lo(se.fromString(e),this)},e.prototype.doc=function(e){return O("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Oo.forPath(se.fromString(e),this)},e.prototype.collectionGroup=function(e){if(O("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new _(E.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Po(new Ur(se.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return O("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Do(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new No(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(O("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":f(h.DEBUG);break;case"error":f(h.ERROR);break;case"silent":f(h.SILENT);break;default:throw new _(E.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Do=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;O("Transaction.get",arguments,1);var n=Vo("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof qt)return new xo(t._firestore,n._key,null,!1,!1);if(r instanceof $t)return new xo(t._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){x("Transaction.set",arguments,2,3);var r=Vo("Transaction.set",e,this._firestore),i=(n=Fo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof zi?(k("Transaction.update",arguments,3),r=Vo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(O("Transaction.update",arguments,2),r=Vo("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){O("Transaction.delete",arguments,1);var t=Vo("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),No=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){x("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Vo("WriteBatch.set",e,this._firestore),i=(n=Fo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,yt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof t||t instanceof zi?(k("WriteBatch.update",arguments,3),r=Vo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(O("WriteBatch.update",arguments,2),r=Vo("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,yt.exists(!0))),this},e.prototype.delete=function(e){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Vo("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new _t(t._key,yt.NONE)),this},e.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new _(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Oo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new _(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new ce(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(O("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,e),!e)throw new _(E.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=se.fromString(e);return new Lo(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){x("DocumentReference.set",arguments,1,2);var n=(t=Fo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,yt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof zi?(k("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,yt.exists(!0)))},e.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new _t(this._key,yt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];x("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Ji(e[i])||(q("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ji(e[i])?n=e[i]:(R("DocumentReference.onSnapshot","function",i,e[i]),P("DocumentReference.onSnapshot","function",i+1,e[i+1]),P("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Hi({next:function(e){if(t.next){v(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new xo(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ur.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return x("DocumentReference.get",arguments,0,1),Bo("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new xo(t.firestore,t._key,e,!0,e instanceof $t&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new _(E.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new _(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),ko=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),xo=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return x("DocumentSnapshot.data",arguments,0,1),e=jo("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),It.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(x("DocumentSnapshot.get",arguments,1,2),t=jo("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(vo("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,It.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new ko(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertValue=function(e,t){if(e instanceof Bt)return this.convertObject(e,t);if(e instanceof Vt)return this.convertArray(e,t);if(e instanceof Ft){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},e}(),Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(xo),Po=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){if(O("Query.where",arguments,3),$("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];j("Query.where",i,2,n)}var o,s=vo("Query.where",t),a=qr.fromString(n);if(s.isKeyField()){if(a===qr.ARRAY_CONTAINS||a===qr.ARRAY_CONTAINS_ANY)throw new _(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===qr.IN){this.validateDisjunctiveFilterElements(r,a);for(var u=[],c=0,l=r;c<l.length;c++){var h=l[c];u.push(this.parseDocumentIdValue(h))}o=new Vt(u)}else o=this.parseDocumentIdValue(r)}else a!==qr.IN&&a!==qr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var d=Hr.create(s,a,o);return this.validateNewFilter(d),new e(this._query.addFilter(d),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(x("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Yr.ASCENDING;else{if("desc"!==n)throw new _(E.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Yr.DESCENDING}if(null!==this._query.startAt)throw new _(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new _(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vo("Query.orderBy",t),o=new Zr(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(O("Query.limit",arguments,1),R("Query.limit","number",1,t),t<=0)throw new _(E.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];k("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if($(e,1,t),t instanceof xo){if(n.length>0)throw new _(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new _(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new Ft(this.firestore._databaseId,t.key));else{var a=t.field(s.field);if(a instanceof Mt)throw new _(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=s.field.canonicalString();throw new _(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Xr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new _(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var s=t[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new _(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(se.fromString(s));if(!ce.isDocumentKey(a))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new ce(a);i.push(new Ft(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,s);i.push(c)}}return new Xr(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];x("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Ji(e[i])||(q("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ji(e[i])?n=e[i]:(R("Query.onSnapshot","function",i,e[i]),P("Query.onSnapshot","function",i+1,e[i+1]),P("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Hi({next:function(e){t.next&&t.next(new Mo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(s)}},e.prototype.get=function(e){var t=this;return x("Query.get",arguments,0,1),Bo("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Mo(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new _(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(se.fromString(e));if(!ce.isDocumentKey(t))throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Ft(this.firestore._databaseId,new ce(t))}if(e instanceof Oo)return new Ft(this.firestore._databaseId,e._key);throw new _(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+U(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new _(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new _(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new _(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new _(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof Hr){var t=[qr.ARRAY_CONTAINS,qr.ARRAY_CONTAINS_ANY],n=[qr.IN,qr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new _(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(e.field,s)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(t)),null!=a)throw new _(E.INVALID_ARGUMENT,a===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new _(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Mo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new ko(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;x("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new Po(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(q("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new _(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new Ro(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return v(t.type===Sr.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Sr.Metadata})).map((function(t){var r=new Ro(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,s=-1;return t.type!==Sr.Added&&(v((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Sr.Removed&&(s=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:Uo(t.type),doc:r,oldIndex:i,newIndex:s}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw H("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Ro(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Mo.prototype.docChanges,e,{get:function(){return function(){throw new _(E.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Lo=function(e){function t(t,n){var r=e.call(this,Ur.atPath(t),n)||this;if(t.length%2!=1)throw new _(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return s.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Oo(new ce(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(x("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=W.newId()),R("CollectionReference.doc","non-empty string",1,e),""===e)throw new _(E.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=se.fromString(e);return Oo.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){O("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},t}(Po);function Fo(e,t){if(void 0===t)return{merge:!1};if(q(e,t,["merge","mergeFields"]),L(e,"boolean","merge",t.merge),"mergeFields","a string or a FieldPath",void 0!==(n=t.mergeFields)&&function(e,t,n,r,i){if(!(r instanceof Array))throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires its mergeFields option to be an array, but it was: "+U(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new _(E.INVALID_ARGUMENT,"Function "+e+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(r[o]))}(e,0,0,n,(function(e){return"string"==typeof e||e instanceof zi})),void 0!==t.mergeFields&&void 0!==t.merge)throw new _(E.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');var n;return t}function jo(e,t){return void 0===t?{}:(q(e,t,["serverTimestamps"]),F(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Bo(e,t){P(e,"object",1,t),t&&(q(e,t,["source"]),F(e,0,"source",t.source,["default","server","cache"]))}function Vo(e,t,n){if(t instanceof Oo){if(t.firestore!==n)throw new _(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw H(e,"DocumentReference",1,t)}function Uo(e){switch(e){case Sr.Added:return"added";case Sr.Modified:case Sr.Metadata:return"modified";case Sr.Removed:return"removed";default:return y("Unknown change type: "+e)}}var $o=C(To,"Use firebase.firestore() instead."),qo=C(Do,"Use firebase.firestore().runTransaction() instead."),Ho=C(No,"Use firebase.firestore().batch() instead."),zo=C(Oo,"Use firebase.firestore().doc() instead."),Go=C(xo),Wo=C(Ro),Qo=C(Po),Ko=C(Mo),Yo=C(Lo,"Use firebase.firestore().collection() instead."),Xo={Firestore:$o,GeoPoint:Vr,Timestamp:_e,Blob:ee,Transaction:qo,WriteBatch:Ho,DocumentReference:zo,DocumentSnapshot:Go,Query:Qo,QueryDocumentSnapshot:Wo,QuerySnapshot:Ko,CollectionReference:Yo,FieldPath:zi,FieldValue:so,setLogLevel:To.setLogLevel,CACHE_SIZE_UNLIMITED:Io},Zo=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),Jo=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},e.prototype.onNetworkUnavailable=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),es=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),ts="Connection",ns={BatchGetDocuments:"batchGet",Commit:"commit"},rs="gl-js/ fire/"+c,is=function(){function e(e){this.databaseId=e.databaseId,this.baseUrl=(e.ssl?"https":"http")+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=rs},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var t=a.getResponseJson();p(ts,"XHR received:",JSON.stringify(t)),o(t);break;case u.ErrorCode.TIMEOUT:p(ts,'RPC "'+e+'" timed out'),s(new _(E.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(p(ts,'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=(c=r.status.toLowerCase().replace("_","-"),Object.values(E).indexOf(c)>=0?c:E.UNKNOWN);s(new _(i,r.message))}else s(new _(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else p(ts,'RPC "'+e+'" failed'),s(new _(E.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{p(ts,'RPC "'+e+'" completed.')}var c}));var c=JSON.stringify(t);p(ts,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),a.send(i,"POST",c,l,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),a.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(ts,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),c=!1,l=!1,h=new es({sendFn:function(e){l?p(ts,"Not sending because WebChannel is closed:",e):(c||(p(ts,"Opening WebChannel transport."),s.open(),c=!0),p(ts,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}}),d=function(e,t){s.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){l||p(ts,"WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,p(ts,"WebChannel transport closed"),h.callOnClose())})),d(u.WebChannel.EventType.ERROR,(function(e){l||(l=!0,p(ts,"WebChannel transport errored:",e),h.callOnClose(new _(E.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(e){if(!l){var t=e.data[0];v(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){p(ts,"WebChannel received error:",n);var r=n.status,i=function(e){var t=br[e];if(void 0!==t)return Er(t)}(r),o=n.message;void 0===i&&(i=E.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,h.callOnClose(new _(i,o)),s.close()}else p(ts,"WebChannel received:",t),h.callOnMessage(t)}})),setTimeout((function(){h.callOnOpen()}),0),h},e.prototype.makeUrl=function(e){var t=ns[e];v(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}();function os(e){!function(e){e.INTERNAL.registerService("firestore",(function(e){return new To(e)}),function(e){v(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Xo))}(e)}b.setPlatform(new(function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new is(e))},e.prototype.newConnectivityMonitor=function(){return Jo.isAvailable()?new Jo:new Zo},e.prototype.newSerializer=function(e){return new pi(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}())),os(i),t.registerFirestore=os},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[s.a](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;Object(r.a)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.a&&(a=Object.create(t),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"8PBF":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("uSLK");const i=()=>Object(r.a)().easing("cubic-bezier(0.0, 0.0, 0.2, 1)").duration(300),o=e=>{let t,n;const o=e.width+8,s=Object(r.a)(),a=Object(r.a)();return e.isEndSide?(t=o+"px",n="0px"):(t=-o+"px",n="0px"),s.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`),a.addElement(e.backdropEl).fromTo("opacity",.01,.32),i().addAnimation([s,a])},s=e=>{let t,n;const o=e.width;e.isEndSide?(t=-o+"px",n=o+"px"):(t=o+"px",n=-o+"px");const s=Object(r.a)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),a=Object(r.a)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),u=Object(r.a)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return i().addAnimation([s,u,a])},a=e=>{const t=e.width*(e.isEndSide?-1:1)+"px",n=Object(r.a)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`);return i().addAnimation(n)},u=(()=>{const e=new Map,t=[],n=async e=>(await d(),"start"===e||"end"===e?h(t=>t.side===e&&!t.disabled)||h(t=>t.side===e):null!=e?h(t=>t.menuId===e):h(e=>!e.disabled)||(t.length>0?t[0].el:void 0)),r=async()=>(await d(),c()),i=(t,n)=>{e.set(t,n)},u=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},c=()=>h(e=>e._isOpen),l=()=>t.some(e=>e.isAnimating),h=e=>{const n=t.find(e);if(void 0!==n)return n.el},d=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>e.componentOnReady()));return i("reveal",a),i("push",s),i("overlay",o),{registerAnimation:i,get:n,getMenus:async()=>(await d(),(()=>t.map(e=>e.el))()),getOpen:r,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await d(),l()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await r()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):r());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:c,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||u(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(l())return!1;if(t){const t=await r();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:u}})()},"8Y7J":function(e,t,n){"use strict";n.r(t);var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("z+Ro"),a=n("bHdf"),u=n("yCtX"),c=n("w1tV");n.d(t,"\u0275angular_packages_core_core_r",(function(){return zw})),n.d(t,"\u0275angular_packages_core_core_o",(function(){return $w})),n.d(t,"\u0275angular_packages_core_core_p",(function(){return qw})),n.d(t,"\u0275angular_packages_core_core_q",(function(){return Hw})),n.d(t,"\u0275angular_packages_core_core_s",(function(){return Gw})),n.d(t,"\u0275angular_packages_core_core_f",(function(){return Zv})),n.d(t,"\u0275angular_packages_core_core_m",(function(){return Of})),n.d(t,"\u0275angular_packages_core_core_n",(function(){return Ff})),n.d(t,"\u0275angular_packages_core_core_l",(function(){return Aw})),n.d(t,"\u0275angular_packages_core_core_k",(function(){return Iw})),n.d(t,"\u0275angular_packages_core_core_b",(function(){return ae})),n.d(t,"\u0275angular_packages_core_core_a",(function(){return ne})),n.d(t,"\u0275angular_packages_core_core_c",(function(){return Rt})),n.d(t,"\u0275angular_packages_core_core_d",(function(){return Et})),n.d(t,"\u0275angular_packages_core_core_e",(function(){return Tt})),n.d(t,"\u0275angular_packages_core_core_j",(function(){return dw})),n.d(t,"\u0275angular_packages_core_core_t",(function(){return Ob})),n.d(t,"\u0275angular_packages_core_core_v",(function(){return Ab})),n.d(t,"\u0275angular_packages_core_core_u",(function(){return Ib})),n.d(t,"\u0275angular_packages_core_core_y",(function(){return Nb})),n.d(t,"\u0275angular_packages_core_core_w",(function(){return Tb})),n.d(t,"\u0275angular_packages_core_core_x",(function(){return Db})),n.d(t,"\u0275angular_packages_core_core_bb",(function(){return eg})),n.d(t,"\u0275angular_packages_core_core_bc",(function(){return cs})),n.d(t,"\u0275angular_packages_core_core_bd",(function(){return Rr})),n.d(t,"\u0275angular_packages_core_core_be",(function(){return Qr})),n.d(t,"\u0275angular_packages_core_core_bf",(function(){return hi})),n.d(t,"\u0275angular_packages_core_core_bj",(function(){return ks})),n.d(t,"\u0275angular_packages_core_core_bp",(function(){return Jo})),n.d(t,"\u0275angular_packages_core_core_bo",(function(){return lr})),n.d(t,"\u0275angular_packages_core_core_g",(function(){return df})),n.d(t,"\u0275angular_packages_core_core_h",(function(){return ff})),n.d(t,"\u0275angular_packages_core_core_i",(function(){return pf})),n.d(t,"\u0275angular_packages_core_core_bh",(function(){return ho})),n.d(t,"\u0275angular_packages_core_core_bn",(function(){return Yt})),n.d(t,"\u0275angular_packages_core_core_bk",(function(){return m})),n.d(t,"\u0275angular_packages_core_core_bl",(function(){return g})),n.d(t,"\u0275angular_packages_core_core_bq",(function(){return S})),n.d(t,"\u0275angular_packages_core_core_z",(function(){return jm})),n.d(t,"\u0275angular_packages_core_core_ba",(function(){return lp})),n.d(t,"createPlatform",(function(){return nw})),n.d(t,"assertPlatform",(function(){return iw})),n.d(t,"destroyPlatform",(function(){return ow})),n.d(t,"getPlatform",(function(){return sw})),n.d(t,"PlatformRef",(function(){return aw})),n.d(t,"ApplicationRef",(function(){return cw})),n.d(t,"createPlatformFactory",(function(){return rw})),n.d(t,"NgProbeToken",(function(){return tw})),n.d(t,"enableProdMode",(function(){return ki})),n.d(t,"isDevMode",(function(){return Oi})),n.d(t,"APP_ID",(function(){return Xv})),n.d(t,"PACKAGE_ROOT_URL",(function(){return ib})),n.d(t,"PLATFORM_INITIALIZER",(function(){return tb})),n.d(t,"PLATFORM_ID",(function(){return nb})),n.d(t,"APP_BOOTSTRAP_LISTENER",(function(){return rb})),n.d(t,"APP_INITIALIZER",(function(){return Kv})),n.d(t,"ApplicationInitStatus",(function(){return Yv})),n.d(t,"DebugElement",(function(){return Vw})),n.d(t,"DebugEventListener",(function(){return Sw})),n.d(t,"DebugNode",(function(){return Bw})),n.d(t,"asNativeElements",(function(){return Tw})),n.d(t,"getDebugNode",(function(){return Fw})),n.d(t,"Testability",(function(){return zb})),n.d(t,"TestabilityRegistry",(function(){return Gb})),n.d(t,"setTestabilityGetter",(function(){return Qb})),n.d(t,"TRANSLATIONS",(function(){return ab})),n.d(t,"TRANSLATIONS_FORMAT",(function(){return ub})),n.d(t,"LOCALE_ID",(function(){return sb})),n.d(t,"MissingTranslationStrategy",(function(){return cb})),n.d(t,"ApplicationModule",(function(){return Ww})),n.d(t,"wtfCreateScope",(function(){return xb})),n.d(t,"wtfLeave",(function(){return Rb})),n.d(t,"wtfStartTimeRange",(function(){return Pb})),n.d(t,"wtfEndTimeRange",(function(){return Mb})),n.d(t,"Type",(function(){return he})),n.d(t,"EventEmitter",(function(){return ky})),n.d(t,"ErrorHandler",(function(){return Cs})),n.d(t,"Sanitizer",(function(){return no})),n.d(t,"SecurityContext",(function(){return to})),n.d(t,"Attribute",(function(){return _})),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",(function(){return Pt})),n.d(t,"ContentChild",(function(){return Ft})),n.d(t,"ContentChildren",(function(){return Lt})),n.d(t,"Query",(function(){return Mt})),n.d(t,"ViewChild",(function(){return Bt})),n.d(t,"ViewChildren",(function(){return jt})),n.d(t,"Component",(function(){return Pv})),n.d(t,"Directive",(function(){return Rv})),n.d(t,"HostBinding",(function(){return jv})),n.d(t,"HostListener",(function(){return Bv})),n.d(t,"Input",(function(){return Lv})),n.d(t,"Output",(function(){return Fv})),n.d(t,"Pipe",(function(){return Mv})),n.d(t,"NgModule",(function(){return Gv})),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",(function(){return Ss})),n.d(t,"NO_ERRORS_SCHEMA",(function(){return Is})),n.d(t,"ViewEncapsulation",(function(){return Kt})),n.d(t,"Version",(function(){return Df})),n.d(t,"VERSION",(function(){return Nf})),n.d(t,"InjectFlags",(function(){return C})),n.d(t,"\u0275\u0275defineInjectable",(function(){return A})),n.d(t,"defineInjectable",(function(){return T})),n.d(t,"\u0275\u0275defineInjector",(function(){return D})),n.d(t,"forwardRef",(function(){return M})),n.d(t,"resolveForwardRef",(function(){return L})),n.d(t,"Injectable",(function(){return Re})),n.d(t,"Injector",(function(){return et})),n.d(t,"\u0275\u0275inject",(function(){return re})),n.d(t,"inject",(function(){return ie})),n.d(t,"INJECTOR",(function(){return H})),n.d(t,"ReflectiveInjector",(function(){return xt})),n.d(t,"ResolvedReflectiveFactory",(function(){return St})),n.d(t,"ReflectiveKey",(function(){return gt})),n.d(t,"InjectionToken",(function(){return q})),n.d(t,"Inject",(function(){return y})),n.d(t,"Optional",(function(){return v})),n.d(t,"Self",(function(){return b})),n.d(t,"SkipSelf",(function(){return w})),n.d(t,"Host",(function(){return E})),n.d(t,"NgZone",(function(){return jb})),n.d(t,"\u0275NoopNgZone",(function(){return Hb})),n.d(t,"RenderComponentType",(function(){return bf})),n.d(t,"Renderer",(function(){return Ef})),n.d(t,"Renderer2",(function(){return If})),n.d(t,"RendererFactory2",(function(){return Cf})),n.d(t,"RendererStyleFlags2",(function(){return Sf})),n.d(t,"RootRenderer",(function(){return _f})),n.d(t,"COMPILER_OPTIONS",(function(){return Eb})),n.d(t,"Compiler",(function(){return wb})),n.d(t,"CompilerFactory",(function(){return _b})),n.d(t,"ModuleWithComponentFactories",(function(){return lb})),n.d(t,"ComponentFactory",(function(){return Xd})),n.d(t,"\u0275ComponentFactory",(function(){return Xd})),n.d(t,"ComponentRef",(function(){return Yd})),n.d(t,"ComponentFactoryResolver",(function(){return of})),n.d(t,"ElementRef",(function(){return gf})),n.d(t,"NgModuleFactory",(function(){return cf})),n.d(t,"NgModuleRef",(function(){return uf})),n.d(t,"NgModuleFactoryLoader",(function(){return hw})),n.d(t,"getModuleFactory",(function(){return pw})),n.d(t,"QueryList",(function(){return Ry})),n.d(t,"SystemJsNgModuleLoader",(function(){return ww})),n.d(t,"SystemJsNgModuleLoaderConfig",(function(){return vw})),n.d(t,"TemplateRef",(function(){return Qf})),n.d(t,"ViewContainerRef",(function(){return Xf})),n.d(t,"EmbeddedViewRef",(function(){return Cw})),n.d(t,"ViewRef",(function(){return _w})),n.d(t,"ChangeDetectionStrategy",(function(){return Vt})),n.d(t,"ChangeDetectorRef",(function(){return $f})),n.d(t,"DefaultIterableDiffer",(function(){return xf})),n.d(t,"IterableDiffers",(function(){return Vf})),n.d(t,"KeyValueDiffers",(function(){return Uf})),n.d(t,"SimpleChange",(function(){return xd})),n.d(t,"WrappedValue",(function(){return Hc})),n.d(t,"platformCore",(function(){return Uw})),n.d(t,"\u0275ALLOW_MULTIPLE_PLATFORMS",(function(){return ew})),n.d(t,"\u0275APP_ID_RANDOM_PROVIDER",(function(){return Jv})),n.d(t,"\u0275defaultIterableDiffers",(function(){return Gf})),n.d(t,"\u0275defaultKeyValueDiffers",(function(){return Wf})),n.d(t,"\u0275devModeEqual",(function(){return qc})),n.d(t,"\u0275isListLikeIterable",(function(){return zc})),n.d(t,"\u0275ChangeDetectorStatus",(function(){return Ut})),n.d(t,"\u0275isDefaultChangeDetectionStrategy",(function(){return $t})),n.d(t,"\u0275Console",(function(){return ob})),n.d(t,"\u0275setCurrentInjector",(function(){return ee})),n.d(t,"\u0275getInjectableDef",(function(){return N})),n.d(t,"\u0275APP_ROOT",(function(){return je})),n.d(t,"\u0275ivyEnabled",(function(){return yw})),n.d(t,"\u0275CodegenComponentFactoryResolver",(function(){return sf})),n.d(t,"\u0275clearResolutionOfComponentResourcesQueue",(function(){return Wt})),n.d(t,"\u0275resolveComponentResources",(function(){return qt})),n.d(t,"\u0275ReflectionCapabilities",(function(){return ye})),n.d(t,"\u0275RenderDebugInfo",(function(){return wf})),n.d(t,"\u0275_sanitizeHtml",(function(){return Ji})),n.d(t,"\u0275_sanitizeStyle",(function(){return oo})),n.d(t,"\u0275_sanitizeUrl",(function(){return Mi})),n.d(t,"\u0275global",(function(){return U})),n.d(t,"\u0275looseIdentical",(function(){return $c})),n.d(t,"\u0275stringify",(function(){return R})),n.d(t,"\u0275makeDecorator",(function(){return f})),n.d(t,"\u0275isObservable",(function(){return Dh})),n.d(t,"\u0275isPromise",(function(){return Th})),n.d(t,"\u0275clearOverrides",(function(){return __})),n.d(t,"\u0275initServicesIfNeeded",(function(){return FE})),n.d(t,"\u0275overrideComponentView",(function(){return E_})),n.d(t,"\u0275overrideProvider",(function(){return w_})),n.d(t,"\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",(function(){return zm})),n.d(t,"\u0275getLocalePluralCase",(function(){return ag})),n.d(t,"\u0275findLocaleData",(function(){return ug})),n.d(t,"\u0275LOCALE_DATA",(function(){return rg})),n.d(t,"\u0275LocaleDataIndex",(function(){return ig})),n.d(t,"\u0275\u0275attribute",(function(){return nl})),n.d(t,"\u0275\u0275attributeInterpolate1",(function(){return dl})),n.d(t,"\u0275\u0275attributeInterpolate2",(function(){return fl})),n.d(t,"\u0275\u0275attributeInterpolate3",(function(){return pl})),n.d(t,"\u0275\u0275attributeInterpolate4",(function(){return ml})),n.d(t,"\u0275\u0275attributeInterpolate5",(function(){return gl})),n.d(t,"\u0275\u0275attributeInterpolate6",(function(){return yl})),n.d(t,"\u0275\u0275attributeInterpolate7",(function(){return vl})),n.d(t,"\u0275\u0275attributeInterpolate8",(function(){return bl})),n.d(t,"\u0275\u0275attributeInterpolateV",(function(){return wl})),n.d(t,"\u0275\u0275defineBase",(function(){return mn})),n.d(t,"\u0275\u0275defineComponent",(function(){return un})),n.d(t,"\u0275\u0275defineDirective",(function(){return gn})),n.d(t,"\u0275\u0275definePipe",(function(){return yn})),n.d(t,"\u0275\u0275defineNgModule",(function(){return dn})),n.d(t,"\u0275detectChanges",(function(){return El})),n.d(t,"\u0275renderComponent",(function(){return Ad})),n.d(t,"\u0275Render3ComponentFactory",(function(){return tg})),n.d(t,"\u0275Render3ComponentRef",(function(){return ng})),n.d(t,"\u0275\u0275directiveInject",(function(){return eh})),n.d(t,"\u0275\u0275injectAttribute",(function(){return th})),n.d(t,"\u0275\u0275getFactoryOf",(function(){return vs})),n.d(t,"\u0275\u0275getInheritedFactory",(function(){return bs})),n.d(t,"\u0275\u0275setComponentScope",(function(){return cn})),n.d(t,"\u0275\u0275setNgModuleScope",(function(){return fn})),n.d(t,"\u0275\u0275templateRefExtractor",(function(){return rv})),n.d(t,"\u0275\u0275ProvidersFeature",(function(){return Kd})),n.d(t,"\u0275\u0275InheritDefinitionFeature",(function(){return jd})),n.d(t,"\u0275\u0275NgOnChangesFeature",(function(){return Rd})),n.d(t,"\u0275LifecycleHooksFeature",(function(){return Od})),n.d(t,"\u0275Render3NgModuleRef",(function(){return ly})),n.d(t,"\u0275markDirty",(function(){return _l})),n.d(t,"\u0275NgModuleFactory",(function(){return hy})),n.d(t,"\u0275NO_CHANGE",(function(){return Ds})),n.d(t,"\u0275\u0275container",(function(){return zl})),n.d(t,"\u0275\u0275nextContext",(function(){return Ph})),n.d(t,"\u0275\u0275elementStart",(function(){return vh})),n.d(t,"\u0275\u0275namespaceHTML",(function(){return bi})),n.d(t,"\u0275\u0275namespaceMathML",(function(){return vi})),n.d(t,"\u0275\u0275namespaceSVG",(function(){return yi})),n.d(t,"\u0275\u0275element",(function(){return wh})),n.d(t,"\u0275\u0275listener",(function(){return Nh})),n.d(t,"\u0275\u0275text",(function(){return Yh})),n.d(t,"\u0275\u0275textInterpolate",(function(){return Zh})),n.d(t,"\u0275\u0275textInterpolate1",(function(){return Jh})),n.d(t,"\u0275\u0275textInterpolate2",(function(){return ed})),n.d(t,"\u0275\u0275textInterpolate3",(function(){return td})),n.d(t,"\u0275\u0275textInterpolate4",(function(){return nd})),n.d(t,"\u0275\u0275textInterpolate5",(function(){return rd})),n.d(t,"\u0275\u0275textInterpolate6",(function(){return id})),n.d(t,"\u0275\u0275textInterpolate7",(function(){return od})),n.d(t,"\u0275\u0275textInterpolate8",(function(){return sd})),n.d(t,"\u0275\u0275textInterpolateV",(function(){return ad})),n.d(t,"\u0275\u0275embeddedViewStart",(function(){return Sh})),n.d(t,"\u0275\u0275projection",(function(){return Bh})),n.d(t,"\u0275\u0275interpolation1",(function(){return il})),n.d(t,"\u0275\u0275interpolation2",(function(){return ol})),n.d(t,"\u0275\u0275interpolation3",(function(){return sl})),n.d(t,"\u0275\u0275interpolation4",(function(){return al})),n.d(t,"\u0275\u0275interpolation5",(function(){return ul})),n.d(t,"\u0275\u0275interpolation6",(function(){return cl})),n.d(t,"\u0275\u0275interpolation7",(function(){return ll})),n.d(t,"\u0275\u0275interpolation8",(function(){return hl})),n.d(t,"\u0275\u0275interpolationV",(function(){return rl})),n.d(t,"\u0275\u0275pipeBind1",(function(){return Sy})),n.d(t,"\u0275\u0275pipeBind2",(function(){return Iy})),n.d(t,"\u0275\u0275pipeBind3",(function(){return Ay})),n.d(t,"\u0275\u0275pipeBind4",(function(){return Ty})),n.d(t,"\u0275\u0275pipeBindV",(function(){return Dy})),n.d(t,"\u0275\u0275pureFunction0",(function(){return fy})),n.d(t,"\u0275\u0275pureFunction1",(function(){return py})),n.d(t,"\u0275\u0275pureFunction2",(function(){return my})),n.d(t,"\u0275\u0275pureFunction3",(function(){return gy})),n.d(t,"\u0275\u0275pureFunction4",(function(){return yy})),n.d(t,"\u0275\u0275pureFunction5",(function(){return vy})),n.d(t,"\u0275\u0275pureFunction6",(function(){return by})),n.d(t,"\u0275\u0275pureFunction7",(function(){return wy})),n.d(t,"\u0275\u0275pureFunction8",(function(){return Ey})),n.d(t,"\u0275\u0275pureFunctionV",(function(){return _y})),n.d(t,"\u0275\u0275getCurrentView",(function(){return Ah})),n.d(t,"\u0275getDirectives",(function(){return md})),n.d(t,"\u0275getHostElement",(function(){return yd})),n.d(t,"\u0275\u0275restoreView",(function(){return Wr})),n.d(t,"\u0275\u0275containerRefreshStart",(function(){return Wl})),n.d(t,"\u0275\u0275containerRefreshEnd",(function(){return Ql})),n.d(t,"\u0275\u0275queryRefresh",(function(){return Qy})),n.d(t,"\u0275\u0275viewQuery",(function(){return Yy})),n.d(t,"\u0275\u0275staticViewQuery",(function(){return Ky})),n.d(t,"\u0275\u0275staticContentQuery",(function(){return tv})),n.d(t,"\u0275\u0275loadViewQuery",(function(){return Zy})),n.d(t,"\u0275\u0275contentQuery",(function(){return Jy})),n.d(t,"\u0275\u0275loadContentQuery",(function(){return nv})),n.d(t,"\u0275\u0275elementEnd",(function(){return bh})),n.d(t,"\u0275\u0275property",(function(){return Jc})),n.d(t,"\u0275\u0275propertyInterpolate",(function(){return Vh})),n.d(t,"\u0275\u0275propertyInterpolate1",(function(){return Uh})),n.d(t,"\u0275\u0275propertyInterpolate2",(function(){return $h})),n.d(t,"\u0275\u0275propertyInterpolate3",(function(){return qh})),n.d(t,"\u0275\u0275propertyInterpolate4",(function(){return Hh})),n.d(t,"\u0275\u0275propertyInterpolate5",(function(){return zh})),n.d(t,"\u0275\u0275propertyInterpolate6",(function(){return Gh})),n.d(t,"\u0275\u0275propertyInterpolate7",(function(){return Wh})),n.d(t,"\u0275\u0275propertyInterpolate8",(function(){return Qh})),n.d(t,"\u0275\u0275propertyInterpolateV",(function(){return Kh})),n.d(t,"\u0275\u0275updateSyntheticHostBinding",(function(){return tl})),n.d(t,"\u0275\u0275componentHostSyntheticListener",(function(){return Oh})),n.d(t,"\u0275\u0275projectionDef",(function(){return Lh})),n.d(t,"\u0275\u0275reference",(function(){return Zl})),n.d(t,"\u0275\u0275enableBindings",(function(){return kr})),n.d(t,"\u0275\u0275disableBindings",(function(){return xr})),n.d(t,"\u0275\u0275allocHostVars",(function(){return Bc})),n.d(t,"\u0275\u0275elementContainerStart",(function(){return _h})),n.d(t,"\u0275\u0275elementContainerEnd",(function(){return Ch})),n.d(t,"\u0275\u0275styling",(function(){return ch})),n.d(t,"\u0275\u0275styleMap",(function(){return fh})),n.d(t,"\u0275\u0275classMap",(function(){return ph})),n.d(t,"\u0275\u0275styleProp",(function(){return hh})),n.d(t,"\u0275\u0275stylingApply",(function(){return mh})),n.d(t,"\u0275\u0275classProp",(function(){return dh})),n.d(t,"\u0275\u0275elementHostAttrs",(function(){return Eh})),n.d(t,"\u0275\u0275select",(function(){return Vu})),n.d(t,"\u0275\u0275textBinding",(function(){return Xh})),n.d(t,"\u0275\u0275template",(function(){return Gl})),n.d(t,"\u0275\u0275embeddedViewEnd",(function(){return Ih})),n.d(t,"\u0275store",(function(){return Xl})),n.d(t,"\u0275\u0275load",(function(){return Jl})),n.d(t,"\u0275\u0275pipe",(function(){return Cy})),n.d(t,"\u0275whenRendered",(function(){return kd})),n.d(t,"\u0275\u0275i18n",(function(){return Ug})),n.d(t,"\u0275\u0275i18nAttributes",(function(){return $g})),n.d(t,"\u0275\u0275i18nExp",(function(){return zg})),n.d(t,"\u0275\u0275i18nStart",(function(){return Rg})),n.d(t,"\u0275\u0275i18nEnd",(function(){return Fg})),n.d(t,"\u0275\u0275i18nApply",(function(){return Gg})),n.d(t,"\u0275\u0275i18nPostprocess",(function(){return Lg})),n.d(t,"\u0275i18nConfigureLocalize",(function(){return Zg})),n.d(t,"\u0275\u0275i18nLocalize",(function(){return ey})),n.d(t,"\u0275setLocaleId",(function(){return ry})),n.d(t,"\u0275DEFAULT_LOCALE_ID",(function(){return ty})),n.d(t,"\u0275setClassMetadata",(function(){return dy})),n.d(t,"\u0275\u0275resolveWindow",(function(){return An})),n.d(t,"\u0275\u0275resolveDocument",(function(){return Tn})),n.d(t,"\u0275\u0275resolveBody",(function(){return Dn})),n.d(t,"\u0275compileComponent",(function(){return wv})),n.d(t,"\u0275compileDirective",(function(){return Ev})),n.d(t,"\u0275compileNgModule",(function(){return lv})),n.d(t,"\u0275compileNgModuleDefs",(function(){return hv})),n.d(t,"\u0275patchComponentDefWithScope",(function(){return gv})),n.d(t,"\u0275resetCompiledComponents",(function(){return pv})),n.d(t,"\u0275flushModuleScopingQueueAsMuchAsPossible",(function(){return uv})),n.d(t,"\u0275transitiveScopesFor",(function(){return yv})),n.d(t,"\u0275compilePipe",(function(){return xv})),n.d(t,"\u0275\u0275sanitizeHtml",(function(){return so})),n.d(t,"\u0275\u0275sanitizeStyle",(function(){return ao})),n.d(t,"\u0275\u0275defaultStyleSanitizer",(function(){return po})),n.d(t,"\u0275\u0275sanitizeScript",(function(){return lo})),n.d(t,"\u0275\u0275sanitizeUrl",(function(){return uo})),n.d(t,"\u0275\u0275sanitizeResourceUrl",(function(){return co})),n.d(t,"\u0275\u0275sanitizeUrlOrResourceUrl",(function(){return fo})),n.d(t,"\u0275bypassSanitizationTrustHtml",(function(){return _i})),n.d(t,"\u0275bypassSanitizationTrustStyle",(function(){return Ci})),n.d(t,"\u0275bypassSanitizationTrustScript",(function(){return Si})),n.d(t,"\u0275bypassSanitizationTrustUrl",(function(){return Ii})),n.d(t,"\u0275bypassSanitizationTrustResourceUrl",(function(){return Ai})),n.d(t,"\u0275getLContext",(function(){return So})),n.d(t,"\u0275NG_ELEMENT_ID",(function(){return sn})),n.d(t,"\u0275NG_COMPONENT_DEF",(function(){return Jt})),n.d(t,"\u0275NG_DIRECTIVE_DEF",(function(){return en})),n.d(t,"\u0275NG_PIPE_DEF",(function(){return tn})),n.d(t,"\u0275NG_MODULE_DEF",(function(){return nn})),n.d(t,"\u0275NG_BASE_DEF",(function(){return on})),n.d(t,"\u0275NG_INJECTABLE_DEF",(function(){return k})),n.d(t,"\u0275NG_INJECTOR_DEF",(function(){return x})),n.d(t,"\u0275bindPlayerFactory",(function(){return Os})),n.d(t,"\u0275addPlayer",(function(){return ud})),n.d(t,"\u0275getPlayers",(function(){return cd})),n.d(t,"\u0275compileNgModuleFactory__POST_R3__",(function(){return Xb})),n.d(t,"\u0275isBoundToModule__POST_R3__",(function(){return Jb})),n.d(t,"\u0275SWITCH_COMPILE_COMPONENT__POST_R3__",(function(){return Vv})),n.d(t,"\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__",(function(){return Uv})),n.d(t,"\u0275SWITCH_COMPILE_PIPE__POST_R3__",(function(){return $v})),n.d(t,"\u0275SWITCH_COMPILE_NGMODULE__POST_R3__",(function(){return Wv})),n.d(t,"\u0275getDebugNode__POST_R3__",(function(){return Lw})),n.d(t,"\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__",(function(){return Pe})),n.d(t,"\u0275SWITCH_IVY_ENABLED__POST_R3__",(function(){return gw})),n.d(t,"\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",(function(){return qf})),n.d(t,"\u0275Compiler_compileModuleSync__POST_R3__",(function(){return db})),n.d(t,"\u0275Compiler_compileModuleAsync__POST_R3__",(function(){return pb})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__",(function(){return gb})),n.d(t,"\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__",(function(){return vb})),n.d(t,"\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__",(function(){return yf})),n.d(t,"\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__",(function(){return Kf})),n.d(t,"\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",(function(){return Zf})),n.d(t,"\u0275SWITCH_RENDERER2_FACTORY__POST_R3__",(function(){return Af})),n.d(t,"\u0275getModuleFactory__POST_R3__",(function(){return fw})),n.d(t,"\u0275registerNgModuleType",(function(){return ay})),n.d(t,"\u0275publishGlobalUtil",(function(){return Id})),n.d(t,"\u0275publishDefaultGlobalUtils",(function(){return Sd})),n.d(t,"\u0275createInjector",(function(){return He})),n.d(t,"\u0275INJECTOR_IMPL__POST_R3__",(function(){return Ze})),n.d(t,"\u0275registerModuleFactory",(function(){return oy})),n.d(t,"\u0275EMPTY_ARRAY",(function(){return Qp})),n.d(t,"\u0275EMPTY_MAP",(function(){return Kp})),n.d(t,"\u0275and",(function(){return Qw})),n.d(t,"\u0275ccf",(function(){return lm})),n.d(t,"\u0275cmf",(function(){return C_})),n.d(t,"\u0275crt",(function(){return vp})),n.d(t,"\u0275did",(function(){return Mm})),n.d(t,"\u0275eld",(function(){return Kw})),n.d(t,"\u0275getComponentViewDefinitionFactory",(function(){return hm})),n.d(t,"\u0275inlineInterpolate",(function(){return Gp})),n.d(t,"\u0275interpolate",(function(){return zp})),n.d(t,"\u0275mod",(function(){return tm})),n.d(t,"\u0275mpd",(function(){return em})),n.d(t,"\u0275ncd",(function(){return oE})),n.d(t,"\u0275nov",(function(){return _m})),n.d(t,"\u0275pid",(function(){return Lm})),n.d(t,"\u0275prd",(function(){return Fm})),n.d(t,"\u0275pad",(function(){return uE})),n.d(t,"\u0275pod",(function(){return cE})),n.d(t,"\u0275ppd",(function(){return aE})),n.d(t,"\u0275qud",(function(){return eE})),n.d(t,"\u0275ted",(function(){return hE})),n.d(t,"\u0275unv",(function(){return mp})),n.d(t,"\u0275vid",(function(){return pE}));const l="__annotations__",h="__parameters__",d="__prop__metadata__";function f(e,t,n,r,i){const o=p(t);function s(...e){if(this instanceof s)return o.call(this,...e),this;const t=new s(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(l)?n[l]:Object.defineProperty(n,l,{value:[]})[l]).push(t),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}function p(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function m(e,t,n){const r=p(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(h)?e[h]:Object.defineProperty(e,h,{value:[]})[h];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function g(e,t,n,r){const i=p(t);function o(...e){if(this instanceof o)return i.apply(this,e),this;const t=new o(...e);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(d)?o[d]:Object.defineProperty(o,d,{value:{}})[d];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(t),r&&r(n,i,...e)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}const y=m("Inject",e=>({token:e})),v=m("Optional"),b=m("Self"),w=m("SkipSelf"),E=m("Host"),_=m("Attribute",e=>({attributeName:e}));var C=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function S(e){for(let t in e)if(e[t]===S)return t;throw Error("Could not find renamed property on target object.")}function I(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function A(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const T=A;function D(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function N(e){const t=e[k];return t&&t.token===e?t:null}function O(e){return e&&e.hasOwnProperty(x)?e[x]:null}const k=S({ngInjectableDef:S}),x=S({ngInjectorDef:S});function R(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(R).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const P=S({__forward_ref__:S});function M(e){return e.__forward_ref__=M,e.toString=function(){return R(this())},e}function L(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===M?t():e}const F="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=F||V||j||B;function $(){const e=U.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}class q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=A({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const H=new q("INJECTOR",-1),z=new Object,G="ngTempTokenPath",W="ngTokenPath",Q=/\n/gm,K="\u0275",Y="__source",X=S({provide:String,useValue:S});let Z,J=void 0;function ee(e){const t=J;return J=e,t}function te(e){const t=Z;return Z=e,t}function ne(e,t=C.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?oe(e,void 0,t):J.get(e,t&C.Optional?null:void 0,t)}function re(e,t=C.Default){return(Z||ne)(e,t)}const ie=re;function oe(e,t,n){const r=N(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&C.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${R(e)}]`)}function se(e){const t=[];for(let n=0;n<e.length;n++){const r=L(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=C.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=C.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=C.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=C.Self:e=i instanceof y||i===y?i.token:i}t.push(re(e,n))}else t.push(re(r))}return t}class ae{get(e,t=z){if(t===z){const t=new Error(`NullInjectorError: No provider for ${R(e)}!`);throw t.name="NullInjectorError",t}return t}}function ue(e,t,n,r){const i=e[G];throw t[Y]&&i.unshift(t[Y]),e.message=ce("\n"+e.message,i,n,r),e[W]=i,e[G]=null,e}function ce(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==K?e.substr(2):e;let i=R(t);if(t instanceof Array)i=t.map(R).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Q,"\n  ")}`}const le={"\u0275\u0275defineInjectable":A,"\u0275\u0275defineInjector":D,"\u0275\u0275inject":re,"\u0275\u0275getFactoryOf":function(e){const t=e,n=N(t)||O(t);return n&&void 0!==n.factory?n.factory:null}},he=Function;function de(e){return"function"==typeof e}const fe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,pe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,me=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,ge=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class ye{constructor(e){this._reflect=e||U.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(function(e){return fe.test(e)||ge.test(e)||pe.test(e)&&!me.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),r=e.map(e=>e&&ve(e.decorators));return this._zipTypesAndAnnotations(t,r)}const r=e.hasOwnProperty(h)&&e[h],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!de(e))return[];const t=be(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?ve(e.decorators):e.hasOwnProperty(l)?e[l]:null}annotations(e){if(!de(e))return[];const t=be(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=ve(t[e])}),n}return e.hasOwnProperty(d)?e[d]:null}propMetadata(e){if(!de(e))return{};const t=be(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return de(e)&&this._ownPropMetadata(e,be(e))||{}}hasLifecycleHook(e,t){return e instanceof he&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${R(e)}`}resourceUri(e){return`./${R(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function ve(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function be(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}let we=null;function Ee(){return we=we||new ye}function _e(e){return Ce(Ee().parameters(e))}function Ce(e){const t=$();return e.map(e=>(function(e,t){const n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)){if(0===t.length)throw new Error("Dependency array must have arguments.");for(let i=0;i<t.length;i++){const o=t[i];if(void 0!==o)if(o instanceof v||"Optional"===o.__proto__.ngMetadataName)n.optional=!0;else if(o instanceof w||"SkipSelf"===o.__proto__.ngMetadataName)n.skipSelf=!0;else if(o instanceof b||"Self"===o.__proto__.ngMetadataName)n.self=!0;else if(o instanceof E||"Host"===o.__proto__.ngMetadataName)n.host=!0;else if(o instanceof y)n.token=o.token;else if(o instanceof _){if(void 0===o.attributeName)throw new Error("Attribute name must be defined.");n.token=o.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else r(o)}}else r(t);return n})(t,e))}function Se(e,t){let n=null;e.hasOwnProperty(k)||Object.defineProperty(e,k,{get:()=>{if(null===n){const r=t||{providedIn:null},i=Ae(r)||De(r)||Te(r)||Ne(r),o={name:e.name,type:e,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:_e(e),userDeps:void 0};if((Ae(r)||De(r))&&void 0!==r.deps&&(o.userDeps=Ce(r.deps)),i)if(Ae(r))o.useClass=r.useClass;else if(Te(r))o.useValue=r.useValue;else if(De(r))o.useFactory=r.useFactory;else{if(!Ne(r))throw new Error("Unreachable state.");o.useExisting=r.useExisting}else o.useClass=e;n=$().compileInjectable(le,`ng:///${e.name}/ngInjectableDef.js`,o)}return n}})}const Ie=S({provide:String,useValue:S});function Ae(e){return void 0!==e.useClass}function Te(e){return Ie in e}function De(e){return void 0!==e.useFactory}function Ne(e){return void 0!==e.useExisting}const Oe=S({provide:String,useValue:S}),ke=[];function xe(e,t){if(!t){const t=(new ye).parameters(e);return()=>new e(...se(t))}if(Oe in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>re(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...se(e.deps||ke))}if(t.useClass){const n=t;let r=t.deps;if(!r){const t=new ye;r=t.parameters(e)}return()=>new n.useClass(...se(r))}{let n=t.deps;if(!n){const t=new ye;n=t.parameters(e)}return()=>new e(...se(n))}}const Re=f("Injectable",void 0,void 0,void 0,(e,t)=>Me(e,t)),Pe=Se,Me=function(e,t){t&&void 0!==t.providedIn&&!N(e)&&(e.ngInjectableDef=A({token:e,providedIn:t.providedIn,factory:xe(e,t)}))};function Le(e){throw new Error(`Multiple components match node with tagname ${e.tagName}`)}function Fe(){throw new Error("Cannot mix multi providers and regular providers")}const je=new q("The presence of this token marks an injector as being the root injector."),Be={},Ve={},Ue=[];let $e=void 0;function qe(){return void 0===$e&&($e=new ae),$e}function He(e,t=null,n=null,r){return t=t||qe(),new ze(e,n,t,r)}class ze{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];Ke([e],e=>this.processInjectorType(e,[],i)),t&&Ke(t,n=>this.processProvider(n,e,t)),this.records.set(H,Qe(void 0,this)),this.isRootInjector=this.records.has(je),this.injectorDefTypes.forEach(e=>this.get(e)),this.source=r||("object"==typeof e?null:R(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=z,n=C.Default){this.assertNotDestroyed();const r=ee(this);try{if(!(n&C.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof q)&&N(e);n&&this.injectableDefInScope(n)&&(t=Qe(Ge(e),Be),this.records.set(e,t))}if(void 0!==t)return this.hydrate(e,t)}return(n&C.Self?qe():this.parent).get(e,n&C.Optional?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[G]=o[G]||[]).unshift(R(e)),r)throw o;return ue(o,e,"R3InjectorError",this.source)}throw o}finally{ee(r)}var i}toString(){const e=[];return this.records.forEach((t,n)=>e.push(R(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=L(e)))return!1;let r=O(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,Qe(r.factory,Be)),null!=r.imports&&!s){let e;n.push(o);try{Ke(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Ke(r,e=>this.processProvider(e,n,r||Ue))}}const a=r.providers;if(null!=a&&!s){const t=e;Ke(a,e=>this.processProvider(e,t,a))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Xe(e=L(e))?e:L(e&&e.provide);const i=function(e,t,n){let r=We(e,t,n);return Ye(e)?Qe(void 0,e.useValue):Qe(r,Be)}(e,t,n);if(Xe(e)||!0!==e.multi){const e=this.records.get(r);e&&void 0!==e.multi&&Fe()}else{let t=this.records.get(r);t?void 0===t.multi&&Fe():((t=Qe(void 0,Be,!0)).factory=()=>se(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Ve?function(e){throw new Error(`Cannot instantiate cyclic dependency! ${e}`)}(R(e)):t.value===Be&&(t.value=Ve,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))}}function Ge(e){const t=N(e);if(null!==t)return t.factory;const n=O(e);if(null!==n)return n.factory;if(e instanceof q)throw new Error(`Token ${R(e)} is missing an ngInjectableDef definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=new Array(t).fill("?");throw new Error(`Can't resolve all parameters for ${R(e)}: (${n.join(", ")}).`)}const n=(r=e)&&r[k]?(console.warn(`DEPRECATED: DI is instantiating a token "${r.name}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${r.name}" class.`),r[k]):null;var r;return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function We(e,t,n){let r=void 0;if(Xe(e))return Ge(L(e));if(Ye(e))r=()=>L(e.useValue);else if((i=e)&&i.useExisting)r=()=>re(L(e.useExisting));else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...se(e.deps||[]));else{const i=L(e&&(e.useClass||e.provide));if(i||function(e,t,n){let r="";throw e&&t&&(r=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${R(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ge(i);r=()=>new i(...se(e.deps))}var i;return r}function Qe(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ke(e,t){e.forEach(e=>Array.isArray(e)?Ke(e,t):t(e))}function Ye(e){return null!==e&&"object"==typeof e&&X in e}function Xe(e){return"function"==typeof e}function Ze(e,t,n){return He({name:n},t,e,n)}const Je=function(e,t,n){return new st(e,t,n)};let et=(()=>{class e{static create(e,t){return Array.isArray(e)?Je(e,t,""):Je(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=z,e.NULL=new ae,e.ngInjectableDef=A({token:e,providedIn:"any",factory:()=>re(H)}),e.__NG_ELEMENT_ID__=-1,e})();const tt=function(e){return e},nt=[],rt=tt,it=function(){return Array.prototype.slice.call(arguments)},ot="\u0275";class st{constructor(e,t=et.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(et,{token:et,fn:tt,deps:nt,value:this,useNew:!1}),r.set(H,{token:H,fn:tt,deps:nt,value:this,useNew:!1}),function e(t,n){if(n)if((n=L(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ut("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ut("Unexpected provider",n);{let e=L(n.provide);const r=function(e){const t=function(e){let t=nt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=L(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof v||n==v?r|=1:n instanceof w||n==w?r&=-3:n instanceof b||n==b?r&=-5:i=n instanceof y?n.token:L(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:L(e.useExisting),options:6}];else if(!(n||X in e))throw ut("'deps' required",e);return t}(e);let n=tt,r=nt,i=!1,o=L(e.provide);if(X in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=L(e.useClass);else{if("function"!=typeof o)throw ut("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==it)throw at(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:it,value:nt});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==it)throw at(e);t.set(e,r)}}}(r,e)}get(e,t,n=C.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){let a;if(!n||s&C.SkipSelf)s&C.Self||(a=i.get(t,o,C.Default));else{if((a=n.value)==rt)throw Error(ot+"Circular dependency");if(a===nt){n.value=rt;let t=void 0,o=n.useNew,s=n.fn,u=n.deps,c=nt;if(u.length){c=[];for(let t=0;t<u.length;t++){const n=u[t],o=n.options,s=2&o?r.get(n.token):void 0;c.push(e(n.token,s,r,s||4&o?i:et.NULL,1&o?null:et.THROW_IF_NOT_FOUND,C.Default))}}n.value=a=o?new s(...c):s.apply(t,c)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[G]=a[G]||[]).unshift(t),n&&n.value==rt&&(n.value=nt),a}}(e,r,this._records,this.parent,t,n)}catch(i){return ue(i,e,"StaticInjectorError",this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(R(n))),`StaticInjector[${e.join(", ")}]`}}function at(e){return ut("Cannot mix multi providers and regular providers",e)}function ut(e,t){return new Error(ce(e,t,"StaticInjectorError"))}const ct="ngDebugContext",lt="ngOriginalError",ht="ngErrorLogger";function dt(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>R(e.token)).join(" -> ")+")":""}function ft(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[lt]=t,r}(o,r):Error(o);return s.addKey=pt,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s[lt]=r,s}function pt(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function mt(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];n.push(e&&0!=e.length?e.map(R).join(" "):"?")}return Error("Cannot resolve all parameters for '"+R(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+R(e)+"' is decorated with Injectable.")}class gt{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=R(this.token)}static get(e){return vt.get(L(e))}static get numberOfKeys(){return vt.numberOfKeys}}class yt{constructor(){this._allKeys=new Map}get(e){if(e instanceof gt)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new gt(e,gt.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const vt=new yt;class bt{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const wt=new bt(new ye);class Et{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new Et(e,!1,null)}}const _t=[];class Ct{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class St{constructor(e,t){this.factory=e,this.dependencies=t}}function It(e){let t,n;if(e.useClass){const r=L(e.useClass);t=wt.factory(r),n=Dt(r)}else e.useExisting?(t=e=>e,n=[Et.fromKey(gt.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>Nt(e,t,n))}return Dt(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=_t);return new St(t,n)}function At(e){return new Ct(gt.get(e.provide),[It(e)],e.multi||!1)}function Tt(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new Ct(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){return t.forEach(t=>{if(t instanceof he)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(t);e(t,n)}}),n}(e,[]).map(At),new Map);return Array.from(t.values())}function Dt(e){const t=wt.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw mt(e,t);return t.map(n=>Nt(e,n,t))}function Nt(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return Ot(t instanceof y?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof he?r=e:e instanceof y?r=e.token:e instanceof v?i=!0:e instanceof b||e instanceof w?o=e:e instanceof q&&(r=e)}if(null!=(r=L(r)))return Ot(r,i,o);throw mt(e,n)}function Ot(e,t,n){return new Et(gt.get(e),t,n)}const kt=new Object;class xt{static resolve(e){return Tt(e)}static resolveAndCreate(e,t){const n=xt.resolve(e);return xt.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Rt(e,t)}}let Rt=(()=>{class e{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=kt}get(e,t=z){return this._getByKey(gt.get(e),null,t)}resolveAndCreateChild(e){const t=xt.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(t){const n=new e(t);return n.parent=this,n}resolveAndInstantiate(e){return this.instantiateResolved(xt.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw ft(this,e.key,(function(e){return`Cannot instantiate cyclic dependency!${dt(e)}`}));return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{i=n(...r)}catch(s){throw ft(this,e.key,(function(e){const t=R(e[0].token);return`${o.message}: Error during instantiation of ${t}!${dt(e)}.`}),o=s)}var o;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:z)}_getByKey(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof b?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===kt&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return kt}_throwOrNull(e,t){if(t!==z)return t;throw function(e,t){return ft(e,t,(function(e){return`No provider for ${R(e[0].token)}!${dt(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==kt?n:this._throwOrNull(e,t)}_getByKeyDefault(t,n,r){let i;for(i=r instanceof w?this.parent:this;i instanceof e;){const e=i,n=e._getObjByKeyId(t.id);if(n!==kt)return n;i=e.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=gt.get(et),e})();const Pt=new q("AnalyzeForEntryComponents");class Mt{}const Lt=g("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Mt),Ft=g("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Mt),jt=g("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Mt),Bt=g("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Mt),Vt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ut=function(){var e={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};return e[e.CheckOnce]="CheckOnce",e[e.Checked]="Checked",e[e.CheckAlways]="CheckAlways",e[e.Detached]="Detached",e[e.Errored]="Errored",e[e.Destroyed]="Destroyed",e}();function $t(e){return null==e||e===Vt.Default}function qt(e){const t=[],n=new Map;function r(t){let r=n.get(t);if(!r){const i=e(t);n.set(t,r=i.then(Qt))}return r}return Ht.forEach((e,n)=>{const i=[];e.templateUrl&&i.push(r(e.templateUrl).then(t=>{e.template=t}));const o=e.styleUrls,s=e.styles||(e.styles=[]),a=e.styles.length;o&&o.forEach((t,n)=>{s.push(""),i.push(r(t).then(r=>{s[a+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>(function(e){zt.delete(e)})(n));t.push(u)}),Wt(),Promise.all(t).then(()=>void 0)}let Ht=new Map;const zt=new Set;function Gt(e){return!!(e.templateUrl&&!e.hasOwnProperty("template")||e.styleUrls&&e.styleUrls.length)}function Wt(){const e=Ht;return Ht=new Map,e}function Qt(e){return"string"==typeof e?e:e.text()}const Kt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}();function Yt(e){return""+{toString:e}}const Xt={},Zt=[],Jt=S({ngComponentDef:S}),en=S({ngDirectiveDef:S}),tn=S({ngPipeDef:S}),nn=S({ngModuleDef:S}),rn=S({ngLocaleIdDef:S}),on=S({ngBaseDef:S}),sn=S({__NG_ELEMENT_ID__:S});let an=0;function un(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Kt.Emulated,id:"c",styles:e.styles||Zt,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=Yt(()=>{const n=e.directives,o=e.features,s=e.pipes;i.id+=an++,i.inputs=pn(e.inputs,r),i.outputs=pn(e.outputs),o&&o.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(ln):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(hn):null,t.hasOwnProperty(k)||(t[k]=A({token:t,factory:e.factory}))}),i}function cn(e,t,n){const r=e.ngComponentDef;r.directiveDefs=()=>t.map(ln),r.pipeDefs=()=>n.map(hn)}function ln(e){return vn(e)||bn(e)}function hn(e){return wn(e)}function dn(e){return{type:e.type,bootstrap:e.bootstrap||Zt,declarations:e.declarations||Zt,imports:e.imports||Zt,exports:e.exports||Zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}}function fn(e,t){return Yt(()=>{const n=_n(e,!0);n.declarations=t.declarations||Zt,n.imports=t.imports||Zt,n.exports=t.exports||Zt})}function pn(e,t){if(null==e)return Xt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function mn(e){const t={};return{inputs:pn(e.inputs,t),declaredInputs:t,outputs:pn(e.outputs),viewQuery:e.viewQuery||null,contentQueries:e.contentQueries||null,hostBindings:e.hostBindings||null}}const gn=un;function yn(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function vn(e){return e[Jt]||null}function bn(e){return e[en]||null}function wn(e){return e[tn]||null}function En(e){return e[on]||null}function _n(e,t){const n=e[nn]||null;if(!n&&!0===t)throw new Error(`Type ${R(e)} does not have 'ngModuleDef' property.`);return n}function Cn(e){return"string"==typeof e?e:null==e?"":""+e}function Sn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Cn(e)}const In=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function An(e){return{name:"window",target:e.ownerDocument.defaultView}}function Tn(e){return{name:"document",target:e.ownerDocument}}function Dn(e){return{name:"body",target:e.ownerDocument.body}}const Nn="\ufffd";function On(e){return e.indexOf(Nn)>=0}function kn(e){return e instanceof Function?e():e}const xn=0,Rn=1,Pn=2,Mn=3,Ln=4,Fn=5,jn=6,Bn=7,Vn=8,Un=9,$n=10,qn=11,Hn=12,zn=13,Gn=14,Wn=15,Qn=16,Kn=17,Yn=18,Xn=20;const Zn=1,Jn=2,er=7,tr=9,nr="__ngContext__";function rr(e){for(;Array.isArray(e);)e=e[xn];return e}function ir(e){return Array.isArray(e)&&"object"==typeof e[Zn]}function or(e){return Array.isArray(e)&&!0===e[Zn]}function sr(e){return Array.isArray(e)&&"number"==typeof e[Zn]}function ar(e,t){return rr(t[e+Xn])}function ur(e,t){return rr(t[e.index])}function cr(e,t){return t[Rn].data[e+Xn]}function lr(e,t){return e[t+Xn]}function hr(e,t){const n=t[e];return ir(n)?n:n[xn]}function dr(e){return 0!=(4&e.flags)}function fr(e){return 1==(1&e.flags)}function pr(e){return null!==e.template}function mr(e){return 0!=(512&e[Pn])}function gr(e){return e[nr]}function yr(e){const t=gr(e);return t?Array.isArray(t)?t:t.lView:null}function vr(e){return or(e[Mn])}function br(e){e[Yn]=0}function wr(e,t,n,r,i,o){const{onChanges:s,onInit:a,doCheck:u}=t;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(s||a||u)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),o>=0&&(!n.preOrderCheckHooks||o===n.preOrderCheckHooks.length)&&(s||u)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,a),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}function Er(e,t){if(e.firstTemplatePass)for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function _r(e,t,n,r){n||Cr(e,t.preOrderHooks,t.preOrderCheckHooks,n,0,void 0!==r?r:null)}function Cr(e,t,n,r,i,o){if(r)return;const s=(3&e[Pn])===i?t:n;s&&function(e,t,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&e[Yn]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[Yn]+=65536),(o<i||-1==i)&&(Sr(e,n,t,s),e[Yn]=(4294901760&e[Yn])+s+2),s++}(e,s,i,o),null==o&&(3&e[Pn])===i&&3!==i&&(e[Pn]&=1023,e[Pn]+=1)}function Sr(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];i?e[Pn]>>10<e[Yn]>>16&&(3&e[Pn])===t&&(e[Pn]+=1024,o.call(s)):o.call(s)}let Ir,Ar=null;function Tr(e){Ar=e}let Dr,Nr=null;function Or(e){Nr=e}function kr(){Dr=!0}function xr(){Dr=!1}function Rr(){return Fr}const Pr=1;let Mr,Lr,Fr,jr=Pr,Br=0,Vr=0;function Ur(e=null){fi!==e&&(mi(null==e?-1:e),jr=null==e?0:Pr,Br=0,Vr=0)}function $r(){return jr}function qr(){jr+=1+Vr,Br=0,Vr=0}function Hr(e){Br+=e,Vr=Math.max(Vr,Br)}function zr(){return Vr}function Gr(){return Br}function Wr(e){ei=e}function Qr(){return Mr}function Kr(e,t){Mr=e,Lr=t}function Yr(e,t){Mr=e,Fr=t}function Xr(){return Lr}function Zr(){Lr=!1}function Jr(e=Fr){return 4==(4&e[Pn])}let ei=null,ti=!1;function ni(){return ti}function ri(e){ti=e}let ii=-1;function oi(){return ii}function si(e){ii=e}let ai=0;function ui(){return ai}function ci(e){ai=e}function li(e,t){const n=Fr;return e&&(ii=e[Rn].bindingStartIndex),Mr=t,Lr=!0,Fr=ei=e,n}function hi(e=1){return(ei=function(e,t){for(;e>0;)t=t[Kn],e--;return t}(e,ei))[Un]}function di(e,t){const n=Fr[Rn];if(Jr(Fr))Fr[Pn]&=-5;else try{br(Fr),t&&Cr(Fr,n.viewHooks,n.viewCheckHooks,ti,2,void 0)}finally{Fr[Pn]&=-73,Fr[Bn]=n.bindingStartIndex}Tr(null),li(e,null)}let fi=-1;function pi(){return fi}function mi(e){fi=e,Tr(null)}let gi=null;function yi(){gi="http://www.w3.org/2000/svg"}function vi(){gi="http://www.w3.org/1998/MathML/"}function bi(){gi=null}const wi="__SANITIZER_TRUSTED_BRAND__";function Ei(e,t){return e instanceof String&&e[wi]===t}function _i(e){return Ti(e,"Html")}function Ci(e){return Ti(e,"Style")}function Si(e){return Ti(e,"Script")}function Ii(e){return Ti(e,"Url")}function Ai(e){return Ti(e,"ResourceUrl")}function Ti(e,t){const n=new String(e);return n[wi]=t,n}let Di=!0,Ni=!1;function Oi(){return Ni=!0,Di}function ki(){if(Ni)throw new Error("Cannot enable prod mode after platform setup.");Di=!1}class xi{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ri=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Pi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mi(e){return(e=String(e)).match(Ri)||e.match(Pi)?e:(Oi()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Li(e){return(e=String(e)).split(",").map(e=>Mi(e.trim())).join(", ")}function Fi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ji(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Bi=Fi("area,br,col,hr,img,wbr"),Vi=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ui=Fi("rp,rt"),$i=ji(Ui,Vi),qi=ji(Bi,ji(Vi,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ji(Ui,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$i),Hi=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zi=Fi("srcset"),Gi=ji(Hi,zi,Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wi=Fi("script,style,template");class Qi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Wi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Gi.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=e.value;Hi[i]&&(o=Mi(o)),zi[i]&&(o=Li(o)),this.buf.push(" ",t,'="',Xi(o),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qi.hasOwnProperty(t)&&!Bi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Xi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ki=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yi=/([^\#-~ |!])/g;function Xi(e){return e.replace(/&/g,"&amp;").replace(Ki,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Yi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zi;function Ji(e,t){let n=null;try{Zi=Zi||new xi(e);let r=t?String(t):"";n=Zi.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Zi.getInertBodyElement(r)}while(r!==o);const s=new Qi,a=s.sanitizeChildren(eo(n)||n);return Oi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=eo(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function eo(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const to=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class no{}const ro=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),io=/^url\(([^)]+)\)$/;function oo(e){if(!(e=String(e).trim()))return"";const t=e.match(io);return t&&Mi(t[1])===t[1]||e.match(ro)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Oi()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function so(e){const t=mo();return t?t.sanitize(to.HTML,e)||"":Ei(e,"Html")?e.toString():Ji(document,Cn(e))}function ao(e){const t=mo();return t?t.sanitize(to.STYLE,e)||"":Ei(e,"Style")?e.toString():oo(Cn(e))}function uo(e){const t=mo();return t?t.sanitize(to.URL,e)||"":Ei(e,"Url")?e.toString():Mi(Cn(e))}function co(e){const t=mo();if(t)return t.sanitize(to.RESOURCE_URL,e)||"";if(Ei(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function lo(e){const t=mo();if(t)return t.sanitize(to.SCRIPT,e)||"";if(Ei(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")}function ho(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?co:uo}function fo(e,t,n){return ho(t,n)(e)}const po=function(e,t,n){let r=!0;return 1&(n=n||3)&&(r="background-image"===e||"background"===e||"border-image"===e||"filter"===e||"list-style"===e||"list-style-image"===e||"clip-path"===e),2&n?r?ao(t):t:r};function mo(){const e=Rr();return e&&e[zn]}const go=8,yo=8,vo=9,bo=-1;class wo{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}const Eo=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function _o(e){return!!e.listen}const Co={createRenderer:(e,t)=>document};function So(e){let t=gr(e);if(t){if(Array.isArray(t)){const r=t;let i,o=void 0,s=void 0;if((n=e)&&n.constructor&&n.constructor.ngComponentDef){if(-1==(i=Oo(r,e)))throw new Error("The provided component was not found in the application");o=e}else if(function(e){return e&&e.constructor&&e.constructor.ngDirectiveDef}(e)){if(-1==(i=function(e,t){let n=e[Rn].firstChild;for(;n;){const r=n.directiveEnd;for(let i=n.directiveStart;i<r;i++)if(e[i]===t)return n.index;n=No(n)}return-1}(r,e)))throw new Error("The provided directive was not found in the application");s=ko(i,r,!1)}else if(-1==(i=Do(r,e)))return null;const a=rr(r[i]),u=gr(a),c=u&&!Array.isArray(u)?u:Io(r,i,a);if(o&&void 0===c.component&&(c.component=o,To(c.component,c)),s&&void 0===c.directives){c.directives=s;for(let e=0;e<s.length;e++)To(s[e],c)}To(c.native,c),t=c}}else{const n=e;let r=n;for(;r=r.parentNode;){const e=gr(r);if(e){let r;if(!(r=Array.isArray(e)?e:e.lView))return null;const i=Do(r,n);if(i>=0){const e=rr(r[i]),n=Io(r,i,e);To(e,n),t=n;break}}}}var n;return t||null}function Io(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function Ao(e){let t,n=gr(e);if(Array.isArray(n)){const r=Oo(n,e),i=Io(n,r,(t=hr(r,n))[xn]);i.component=e,To(e,i),To(i.native,i)}else t=hr(n.nodeIndex,n.lView);return t}function To(e,t){e[nr]=t}function Do(e,t){let n=e[Rn].firstChild;for(;n;){if(ur(n,e)===t)return n.index;n=No(n)}return-1}function No(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function Oo(e,t){const n=e[Rn].components;if(n)for(let r=0;r<n.length;r++){const i=n[r];if(hr(i,e)[Un]===t)return i}else if(hr(Xn,e)[Un]===t)return Xn;return-1}function ko(e,t,n){const r=t[Rn].data[e];let i=r.directiveStart;return 0==i?Zt:(!n&&1&r.flags&&i++,t.slice(i,r.directiveEnd))}class xo{constructor(){this._players=[]}flushPlayers(){for(let e=0;e<this._players.length;e++){const t=this._players[e];t.parent||0!==t.state||t.play()}this._players.length=0}queuePlayer(e){this._players.push(e)}}const Ro=0,Po="@";function Mo(e,t,n,r){const i=[e||null,0,[],n||[null,null],r||[null,null],[0,0],[0],[0],null,null];return Lo(i,Ro),i}function Lo(e,t,n=-1,r){const i=e[2],o=2*t,s=o+2;for(let u=i.length;u<s;u+=2)i.push(-1,null);const a=o+0;n>=0&&-1===i[a]&&(i[a]=n,i[o+1]=r||null)}function Fo(e,t){let n=e,r=t[n],i=t;for(;Array.isArray(r);)i=r,r=r[xn];if(sr(i))return i;{const o=cr(e-Xn,t).stylingTemplate;return i!==t&&(n=xn),i[n]=o?function(e,t){const n=t.slice();for(let r=0;r<10;r++){const e=t[r];Array.isArray(e)&&(n[r]=e.slice())}return n[0]=e,n[1]|=16,n}(r,o):Mo(r)}}function jo(e){return e[0]===Po}function Bo(e){return 0!=(8&e.flags)}function Vo(e){return 0!=(16&e.flags)}function Uo(e,t,n,r,i,o){return o=o||n,i?e[i]=r:e.push(r),!!r&&(r.addEventListener(200,()=>{const t=e.indexOf(r);t&&(t<e[0]?e[t]=null:e.splice(t,1)),r.destroy()}),(t.playerHandler||(t.playerHandler=new xo)).queuePlayer(r,o),!0)}function $o(e){return e[9]}function qo(e){return e[9]=[5,null,null,null,null]}function Ho(e,t){const n=Rr()[Hn],r=_o(n);let i=0;for(;i<t.length;){const o=t[i];if("number"==typeof o){if(0!==o)break;i++;const s=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=t[++i];jo(s)?r&&n.setProperty(e,s,a):r?n.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function zo(e,t){for(let n=t;n<e.length;n++){const t=e[n];if(1===t||2===t)return n}return-1}function Go(e){return 3===e||4===e||6===e}function Wo(e){return e!==bo}function Qo(e){return 32767&e}function Ko(e){return e>>16}function Yo(e,t){let n=Ko(e),r=t;for(;n>0;)r=r[Kn],n--;return r}function Xo(e){const t=e[Mn];return or(t)?t[Mn]:t}function Zo(e){let t=e[jn];for(;null!==t&&2===t.type;)t=(e=e[Kn])[jn];return e}function Jo(e){return function(e){let t=ir(e)?e:yr(e);for(;t&&!(512&t[Pn]);)t=Xo(t);return t}(e)[Un]}let es=!0;function ts(e){const t=es;return es=e,t}const ns=255;let rs=0;function is(e,t){const n=ss(e,t);if(-1!==n)return n;const r=t[Rn];r.firstTemplatePass&&(e.injectorIndex=t.length,os(r.data,e),os(t,null),os(r.blueprint,null));const i=as(e,t),o=Qo(i),s=Yo(i,t),a=e.injectorIndex;if(Wo(i)){const e=s[Rn].data;for(let n=0;n<8;n++)t[a+n]=s[o+n]|e[o+n]}return t[a+yo]=i,a}function os(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ss(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+yo]?-1:e.injectorIndex}function as(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[jn],r=1;for(;n&&-1===n.injectorIndex;)n=(t=t[Kn])?t[jn]:null,r++;return n?n.injectorIndex|r<<16:-1}function us(e,t,n){!function(e,t,n){let r="string"!=typeof n?n[sn]:n.charCodeAt(0)||0;null==r&&(r=n[sn]=rs++);const i=r&ns,o=1<<i,s=64&i,a=32&i,u=t.data;128&i?s?a?u[e+7]|=o:u[e+6]|=o:a?u[e+5]|=o:u[e+4]|=o:s?a?u[e+3]|=o:u[e+2]|=o:a?u[e+1]|=o:u[e]|=o}(e,t[Rn],n)}function cs(e,t){const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Go(i))break;if(0===i)r+=2;else if("number"==typeof i){if(r++,1===i&&"class"===t){let t="";for(;r<e&&"string"==typeof n[r];)t+=" "+n[r++];return t.trim()}if(2===i&&"style"===t){let t="";for(;r<e&&"string"==typeof n[r];)t+=`${n[r++]}: ${n[r++]}; `;return t.trim()}for(;r<e&&"string"==typeof n[r];)r++}else{if(i===t)return n[r+1];r+=2}}}return null}function ls(e,t,n,r=C.Default,i){if(e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[sn];return"number"==typeof t&&t>0?t&ns:t}(n);if("function"==typeof i){const o=Qr(),s=Rr();Yr(e,t);try{const e=i();if(null!=e||r&C.Optional)return e;throw new Error(`No provider for ${Sn(n)}!`)}finally{Yr(o,s)}}else if("number"==typeof i){if(-1===i)return new ys(e,t);let o=null,s=ss(e,t),a=bo,u=r&C.Host?Zo(t)[jn]:null;for((-1===s||r&C.SkipSelf)&&(a=-1===s?as(e,t):t[s+yo],gs(r,!1)?(o=t[Rn],s=Qo(a),t=Yo(a,t)):s=-1);-1!==s;){a=t[s+yo];const e=t[Rn];if(ms(i,s,e.data)){const e=ds(s,t,n,o,r,u);if(e!==hs)return e}gs(r,t[Rn].data[s+go]===u)&&ms(i,s,t)?(o=e,s=Qo(a),t=Yo(a,t)):s=-1}}}if(r&C.Optional&&void 0===i&&(i=null),0==(r&(C.Self|C.Host))){const e=t[$n],o=te(void 0);try{return e?e.get(n,i,r&C.Optional):oe(n,i,r&C.Optional)}finally{te(o)}}if(r&C.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Sn(n)}]`)}const hs={};function ds(e,t,n,r,i,o){const s=t[Rn],a=s.data[e+go],u=fs(a,s,n,null==r?fr(a)&&es:r!=s&&3===a.type,i&C.Host&&o===a);return null!==u?ps(s.data,t,u,a):hs}function fs(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=65535&o,u=e.directiveStart,c=o>>16,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=s[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=s[u];if(e&&pr(e)&&e.type===n)return u}return null}function ps(e,t,n,r){let i=t[n];if(null!==(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==wo.prototype){const o=i;if(o.resolving)throw new Error(`Circular dep for ${Sn(e[n])}`);const s=ts(o.canSeeViewProviders);let a;o.resolving=!0,o.injectImpl&&(a=te(o.injectImpl));const u=Qr(),c=Rr();Yr(r,t);try{i=t[n]=o.factory(null,e,t,r)}finally{o.injectImpl&&te(a),ts(s),o.resolving=!1,Yr(u,c)}}var o;return i}function ms(e,t,n){const r=64&e,i=32&e;let o;return!!((o=128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function gs(e,t){return!(e&C.Self||e&C.Host&&t)}class ys{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return ls(this._tNode,this._lView,e,void 0,t)}}function vs(e){const t=e,n=vn(t)||bn(t)||wn(t)||N(t)||O(t);return n&&void 0!==n.factory?n.factory:null}function bs(e){const t=vs(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:e=>new e}function ws(e){return e[ct]}function Es(e){return e[lt]}function _s(e,...t){e.error(...t)}class Cs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[ht]||_s}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ws(e)?ws(e):this._findContext(Es(e)):null}_findOriginalError(e){let t=Es(e);for(;t&&Es(t);)t=Es(t);return t}}const Ss={name:"custom-elements"},Is={name:"no-errors-schema"},As=/([A-Z])/g;function Ts(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}const Ds={};function Ns(e,t,n,r){const i=e[8];if(null!=i){const e=function(e,t){for(let n=1;n<e.length;n+=3)if(e[n+0]>t)return n;return e.length}(i,t);i.splice(e,0,t,n,r)}}function Os(e,t){return new ks(e,t)}class ks{constructor(e,t){this.fn=e,this.value=t}}function xs(e,t,n=0){const r=Mo();return Rs(r,e,t,n),r}function Rs(e,t,n,r){if(16&e[1])return;Lo(e,r);let i=null,o=null,s=-1;for(let a=n;a<t.length;a++){const n=t[a];"number"==typeof n?s=n:1==s?Ps(i=i||e[4],n,!0,r):2==s&&Ps(o=o||e[3],n,t[++a],r)}}function Ps(e,t,n,r){for(let i=2;i<e.length;i+=3)if(e[i+0]===t)return void(Aa(e[i+1],n,e[i+2],r)&&ka(i,e,t,n,r));ka(null,e,t,n,r)}function Ms(e,t,n,r){const i=t[4];let o=r||2;for(;o<i.length;)i[o+1]&&zs(e,i[o+0],!0,n,null),o+=3;return o}function Ls(e,t,n,r){const i=t[3];let o=r||2;for(;o<i.length;){const t=i[o+1];t&&Hs(e,i[o+0],t,n,null),o+=3}return o}function Fs(e,t,n,r){for(let i=n;i<r;i+=4)if(da(e,i)===t)return i;return-1}function js(e,t,n=0){Vs(e,t,!0,n)}function Bs(e,t,n=0){Vs(e,t,!1,n)}function Vs(e,t,n,r=0){if(function(e,t,n,r){return!e[t?6:7][1+4*n+0]&&(r===Ds||Da(e,t,n)===r)}(e,n,r,t))return;const i=(t=t===Ds?Da(e,n,r):t)instanceof ks?new Ea(t,e[0],n?1:2):null,o=i?t.value:t,s=n?1:3;let a,u,c,l=i?s:0,h=!1;ia(e,i,s)&&(oa(e,i,s),h=!0);let d=!1;n?("string"==typeof o?(c=o.split(/\s+/),d=!0):c=o?Object.keys(o):Zt,a=ea(e),u=e.length):(a=ta(e),u=ea(e),c=o?Object.keys(o):Zt),function(e,t,n,r,i,o,s,a,u){let c=!1;const l=1+4*t,h=e[u?6:7],d=h[l+1],f=h[l+3];let p=1===h[l+0]||!(h[l+2]||!a),m=0,g=0;const y=!0===s;let v=r,b=o.length;for(;v<d;){const r=da(e,v);if(b)for(let i=0;i<o.length;i++){const a=o[i],l=a?u?a:Na(a):null;if(l&&r===l){const r=ha(e,v),a=_a(e,v),u=!!y||s[l],h=la(e,v);wa(h,r,u)&&Aa(r,u,a,t)&&(ra(e,v,u),sa(e,v,n,t),ba(e,h,u)&&(Gs(e,v,!0),c=!0)),o[i]=null,b--;break}}v+=4}if(b){const r=u?null:Ia(e,t);e:for(let a=0;a<o.length;a++){const l=o[a];if(!l)continue;const h=!!y||s[l],f=u?l:Na(l),b=v>=d;for(let r=v;r<i;r+=4)if(da(e,r)===f){const i=_a(e,r),o=aa(e,r),s=ha(e,r),a=la(e,r);Aa(s,h,i,t)&&(b&&(ma(e,v,r),m++),wa(a,s,h)&&((null===h||void 0===h&&h!==s)&&(p=!0),ra(e,v,h),(null!==s||ba(e,a,h))&&(Gs(e,v,!0),c=!0)),i===t&&n===o||sa(e,v,n,t)),v+=4;continue e}null!=h&&(p=!0,m++,ga(e,b?v:d+4*g,u,f,1|va(e,f,u,r),h,t,n),g++,i+=4,v+=4,c=!0)}}for(;v<i;){p=!0;const r=ha(e,v),i=la(e,v);_a(e,v),null!=r&&(p=!0),wa(i,r,null)&&(ra(e,v,null),ba(e,i,r)&&(Gs(e,v,!0),c=!0),sa(e,v,n,t)),v+=4}(function(e,t,n,r,i,o,s,a){const u=e[n?6:7],c=1+4*t;if(a){const e=i+4*s;for(let t=c+4;t<u.length;t+=4)u[t+1]=e,u[t+0]=1}u[c+0]=0,u[c+1]=i,u[c+2]=r,u[c+3]=s;let l=s;for(let h=1;h<c;h+=4)l+=u[h+3];if(!n){const t=e[6],n=o-t[2];for(let e=1;e<t.length;e+=4)t[e+1]+=n}u[0]=l})(e,t,u,a,d,i,m,p=p||f!==m),c&&fa(e,!0)}(e,r,l,a,u,c,d||o||Xt,t,n),h&&pa(e,!0)}function Us(e,t,n,r=0,i){qs(e,t,n,!0,r,i)}function $s(e,t,n,r=0,i){qs(e,t,n,!1,r,i)}function qs(e,t,n,r,i,o){const s=Sa(e,i,t,r),a=ha(e,s),u=la(e,s),c=_a(e,s),l=n instanceof ks?n.value:n;if(wa(u,a,l)&&(o||Aa(a,l,c,i))){const t=2==(2&u),r=e[0],o=n instanceof ks?new Ea(n,r,t?1:2):null,a=o?n.value:n,l=aa(e,s);let h=!1,d=o?l:0;if(ia(e,o,l)){const t=oa(e,o,l);d=o?t:0,h=!0}if((h||c!==i)&&sa(e,s,d,i),c!==i){const t=da(e,s),n=Ia(e,i);!function(e,t,n){n?e[t]|=4:e[t]&=-5}(e,s,!(!n||!n(t,null,1)))}ra(e,s,a);const f=Js(u),p=ha(e,f);if(!p||wa(u,p,a)){let t=!1,n=!0;!ya(a)&&ya(p)&&(t=!0,n=!1),Gs(e,f,t),Gs(e,s,n),fa(e,!0)}h&&pa(e,!0)}}function Hs(e,t,n,r,i,o,s){n=i&&n?i(t,n,3):n,o||s?(o&&o.setValue(t,n),s&&s.setValue(t,n)):n?(n=n.toString(),_o(r)?r.setStyle(e,t,n,Eo.DashCase):e.style.setProperty(t,n)):_o(r)?r.removeStyle(e,t,Eo.DashCase):e.style.removeProperty(t)}function zs(e,t,n,r,i,o){i||o?(i&&i.setValue(t,n),o&&o.setValue(t,n)):""!==t&&(n?_o(r)?r.addClass(e,t):e.classList.add(t):_o(r)?r.removeClass(e,t):e.classList.remove(t))}function Gs(e,t,n){const r=t>=10?t+0:t;n?e[r]|=1:e[r]&=-2}function Ws(e,t){return 1==(1&e[t>=10?t+0:t])}function Qs(e,t){return 2==(2&e[t>=10?t+0:t])}function Ks(e,t){return 4==(4&e[t>=10?t+0:t])}function Ys(e,t,n){return 31&e|t<<5|n<<19}function Xs(e,t){const n=Zs(t);return(2&t?e[4]:e[3])[n]}function Zs(e){return e>>5&16383}function Js(e){const t=e>>19&16383;return t>=10?t:-1}function ea(e){return e[6][2]}function ta(e){return e[7][2]}function na(e,t,n){e[t+1]=n}function ra(e,t,n){e[t+2]=n}function ia(e,t,n){const r=e[9];if(t){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==t}function oa(e,t,n){let r=e[9]||qo(e);return n>0?r[n]=t:(r.splice(n=r[0],0,t,null),r[0]+=2),n}function sa(e,t,n,r){const i=function(e,t){return t<<16|e}(r,n);e[t+3]=i}function aa(e,t){return e[t+3]>>16&65535}function ua(e,t){const n=aa(e,t);if(n){const t=e[9];if(t)return t[n]}return null}function ca(e,t,n){e[1===t?t:t+0]=n}function la(e,t){return e[1===t?t:t+0]}function ha(e,t){return e[t+2]}function da(e,t){return e[t+1]}function fa(e,t){Gs(e,1,t)}function pa(e,t){t?e[1]|=8:e[1]&=-9}function ma(e,t,n){if(t===n)return;const r=ha(e,t),i=da(e,t),o=la(e,t),s=aa(e,t),a=_a(e,t);let u=o,c=la(e,n);const l=Js(u);if(l>=0){const t=la(e,l);ca(e,l,Ys(t,Zs(t),n))}const h=Js(c);if(h>=0){const n=la(e,h);ca(e,h,Ys(n,Zs(n),t))}ra(e,t,ha(e,n)),na(e,t,da(e,n)),ca(e,t,la(e,n)),sa(e,t,aa(e,n),_a(e,n)),ra(e,n,r),na(e,n,i),ca(e,n,o),sa(e,n,s,a)}function ga(e,t,n,r,i,o,s,a){const u=t<e.length;e.splice(t,0,1|i|(n?2:0),r,o,0),sa(e,t,a,s),u&&function(e,t){for(let n=t;n<e.length;n+=4){const t=Js(la(e,n));if(t>0){const r=Zs(la(e,t));ca(e,t,Ys((Ws(e,t)?1:0)|(Qs(e,t)?2:0)|(Ks(e,t)?4:0),r,n))}}}(e,t+4)}function ya(e,t){return null!==e}function va(e,t,n,r){let i,o=r&&r(t,null,1)?4:0;return n?(o|=2,i=Ca(e[4],t)):i=Ca(e[3],t),Ys(o,i=i>0?i+1:0,0)}function ba(e,t,n){const r=Xs(e,t);return!r||wa(t,r,n)}function wa(e,t,n){return!(2&e)&&t&&n&&4&e?t.toString()!==n.toString():t!==n}class Ea{constructor(e,t,n){this._element=t,this._type=n,this._values={},this._dirty=!1,this._factory=e}setValue(e,t){this._values[e]!==t&&(this._values[e]=t,this._dirty=!0)}buildPlayer(e,t){if(this._dirty){const n=this._factory.fn(this._element,this._type,this._values,t,e||null);return this._values={},this._dirty=!1,n}}}function _a(e,t){return 65535&e[t+3]}function Ca(e,t){for(let n=2;n<e.length;n+=3)if(e[n]===t)return n;return-1}function Sa(e,t,n,r){const i=e[2][2*t+0],o=e[5];return o[i+2+(r?o[i+0]:0)+n]}function Ia(e,t){const n=e[2];return n[2*t+1]||n[1]||null}function Aa(e,t,n,r){return null==e||(null!=t?r<=n:n===r)}function Ta(e){const t=e[4];let n=t[1];if(null===n){n="";for(let e=2;e<t.length;e+=3)t[e+1]&&(n+=(n.length?" ":"")+t[e]);t[1]=n}return n}function Da(e,t,n){return e[t?6:7][1+4*n+2]||null}function Na(e){return e.replace(/[a-z][A-Z]/g,e=>`${e.charAt(0)}-${e.charAt(1).toLowerCase()}`)}function Oa(e,t,n,r,i=0){const o=e[n?6:7];if(t>0){const e=1+4*t;for(;o.length<e;)o.push(0,r,null,0)}o.push(0,r,null,i)}function ka(e,t,n,r,i){return null===e&&(e=t.length,t.push(null,null,null),t[e+0]=n),t[e+1]=r,t[e+2]=i,e}const xa="ng-template";function Ra(e,t){const n=e.length,r=e.indexOf(t),i=r+t.length;return!(-1===r||r>0&&" "!==e[r-1]||i<n&&" "!==e[i])}function Pa(e,t,n){return t===(0!==e.type||n?e.tagName:xa)}function Ma(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(Go(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Pa(e,u,n)||""===u&&1===t.length){if(La(r))return!1;s=!0}}else{const c=8&r?u:t[++a];if(8&r&&e.stylingTemplate){if(!Ra(Fa(e),c)){if(La(r))return!1;s=!0}continue}const l=ja(8&r?"class":u,i,0==e.type&&e.tagName!==xa,n);if(-1===l){if(La(r))return!1;s=!0;continue}if(""!==c){let e;e=l>o?"":i[l+1];const t=8&r?e:null;if(t&&!Ra(t,c)||2&r&&c!==e){if(La(r))return!1;s=!0}}}}else{if(!s&&!La(r)&&!La(u))return!1;if(s&&La(u))continue;s=!1,r=u|1&r}}return La(r)||s}function La(e){return 0==(1&e)}function Fa(e){return e.stylingTemplate?Ta(e.stylingTemplate):""}function ja(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Ba(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ma(e,t[r],n))return!0;return!1}function Va(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}const Ua={marker:"element"},$a={marker:"comment"};let qa,Ha=0;function za(){return Ha>0}function Ga(e){qa=e}function Wa(){return qa}const Qa="--MAP--";function Ka(e,t,n,r){return da(e,Sa(e,n,t,r))}function Ya(e,t){e[1]=t}function Xa(e){return e[0]}function Za(e,t){return e[t+2]}function Ja(e,t){return 1&e[t+0]}function eu(e,t){return(1&Ja(e,t))>0}function tu(e,t){return e[t+0]>>1}function nu(e,t,n){const r=Ja(e,t);e[t+0]=r|n<<1}function ru(e,t){return e[t+1]}function iu(e,t,n){return e[t+3+n]}function ou(e,t){return t===e[1]}function su(e){!function(e,t){e[0]=t}(e,1|Xa(e))}function au(e){return(1&Xa(e))>0}function uu(e){return 5+e[3]}function cu(e,t){return(Array.isArray(e)?e[0]:e)!==(Array.isArray(t)?t[0]:t)}function lu(e){return null!=e&&""!==e}function hu(e){const t=Wa()||e[zn];return t&&"function"!=typeof t?(Ga(t),du):t}const du=(e,t,n)=>{const r=Wa();return r?!(2&n)||r.sanitize(to.STYLE,t):t},fu=null,pu=1,mu=1,gu=0,yu=1;let vu=yu,bu=yu,wu=0,Eu=0,_u=[];function Cu(e,t,n,r,i,o,s){const a=n?bu++:gu;(Iu(e,t,a,n,r,i,o,s,!1)||s)&&(Eu|=1<<a)}function Su(e,t,n,r,i,o,s,a){const u=!n,c=u?gu:vu++;(Iu(e,t,c,n,r,i,s,a,!!u||!!o&&o(n,null,1))||a)&&(wu|=1<<c)}function Iu(e,t,n,r,i,o,s,a,u){au(e)||(s?function(e,t,n,r,i){_u.unshift(e,t,n,r,i)}(e,n,r,i,u):(_u.length&&Au(),Tu(e,n,r,i,u)));const c=a||cu(t[i],o);return c&&(t[i]=o),c}function Au(){let e=0;for(;e<_u.length;)Tu(_u[e++],_u[e++],_u[e++],_u[e++],_u[e++]);_u.length=0}function Tu(e,t,n,r,i){if(n){let o=!1,s=uu(e);for(;s<e.length;){const a=ru(e,s),u=Za(e,s);if(o=n<=u){n<u&&Du(e,s,n,i),Nu(e,!1,s,r,t);break}s+=3+a}o||(Du(e,e.length,n,i),Nu(e,!1,s,r,t))}else Nu(e,!0,2,r,t)}function Du(e,t,n,r){e.splice(t,0,r?1:0,pu,n,fu),nu(e,t,mu)}function Nu(e,t,n,r,i){let o=n+3+ru(e,n);t||o--,"number"==typeof r?(e.splice(o,0,r),e[n+1]++,nu(e,n,tu(e,n)|1<<i)):"string"==typeof r&&null==e[o]&&(e[o]=r)}function Ou(e,t,n,r,i,o,s){_u.length&&Au();const a=!0===(u=i)?-1:!1===u?0:u;var u;const c=ku,l=(a&tu(e,2))>0?1:0;let h=uu(e);for(;h<e.length;){const i=ru(e,h);if(a&tu(e,h)){let a=!1;const u=Za(e,h),d=i-1,f=iu(e,h,d);for(let i=0;i<d;i++){const c=iu(e,h,i),l=r[c];if(lu(l)){o(t,n,u,s&&eu(e,h)?s(u,l,2):l,c),a=!0;break}}if(c){const i=c(e,t,n,r,o,s,l|(a?4:2),u,f);a=a||i}a||o(t,n,u,f)}h+=3+i}c&&c(e,t,n,r,o,s,l)}let ku=null;const xu=(e,t,n,r)=>{r?(r=r.toString(),e&&_o(e)?e.setStyle(t,n,r,Eo.DashCase):t.style.setProperty(n,r)):e&&_o(e)?e.removeStyle(t,n,Eo.DashCase):t.style.removeProperty(n)},Ru=(e,t,n,r)=>{""!==n&&(r?e&&_o(e)?e.addClass(t,n):t.classList.add(n):e&&_o(e)?e.removeClass(t,n):t.classList.remove(n))},Pu=(e,t,n,r,i,o,s,a,u)=>{let c=!1;if(ru(e,2)){let l=!0;const h=!a;h&&-2&s&&(l=!1,c=!0),l&&(c=function e(t,n,r,i,o,s,a,u,c,l){let h=!1;if(c<ru(t,2)){const d=iu(t,2,c),f=i[d];let p=function(e){return e>=Fu.length&&Fu.push(1),Fu[e]}(c);for(;p<f.length;){const m=ju(f,p),g=u&&m>u,y=!g&&m===u,v=f[p+1],b=lu(v);let w=e(t,n,r,i,o,s,g?a:Mu(a,b,y),g?u:m,c+1,l);if(g)break;if(!w&&Lu(a,y)){const e=y&&!b,t=e?l:v,i=e?d:null;o(n,r,m,s?s(m,t,3):t,i),w=!0}h=w&&y,p+=2}Fu[c]=p}return h}(e,t,n,r,i,o,s,a||null,0,u||null)),h&&function(){for(let e=0;e<Fu.length;e++)Fu[e]=1}()}return c};function Mu(e,t,n){let r=e;return t||!n||4&e?(r|=4,r&=-3):(r|=2,r&=-5),r}function Lu(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const Fu=[];function ju(e,t){return e[t+0]}function Bu(e,t,n){e[t+1]=n}function Vu(e){Uu(Rr(),e)}function Uu(e,t){_r(e,e[Rn],ni(),t),mi(t)}const $u=(()=>Promise.resolve(null))();function qu(e){const t=e[Rn],n=Jr(e);if(t.firstTemplatePass=!1,e[Bn]=t.bindingStartIndex,!n){const n=ni();_r(e,t,n,void 0),function(e){for(let t=e[Gn];null!==t;t=t[Ln])if(-1===t[Jn]&&or(t))for(let e=tr;e<t.length;e++){const n=t[e];Ku(n,n[Rn],n[Un])}}(e),Hu(t,e),br(e),Cr(e,t.contentHooks,t.contentCheckHooks,n,1,void 0),function(e,t){const n=pi();try{if(e.expandoInstructions){let n=t[Bn]=e.expandoStartIndex;si(n);let r=-1,i=-1;for(let o=0;o<e.expandoInstructions.length;o++){const s=e.expandoInstructions[o];if("number"==typeof s){if(s<=0){Ur(i=-s);const t=e.expandoInstructions[++o];r=n+=vo+t}else n+=s;si(n)}else null!==s&&(t[Bn]=n,s(2,rr(t[r]),i),qr()),r++}}}finally{Ur(n)}}(t,e)}n&&t.staticContentQueries&&Hu(t,e),function(e){if(null!=e)for(let t=0;t<e.length;t++)wc(e[t])}(t.components)}function Hu(e,t){if(null!=e.contentQueries){ci(0);for(let n=0;n<e.contentQueries.length;n++){const r=e.contentQueries[n];e.data[r].contentQueries(2,t[r],r)}}}function zu(e,t){const n=t||Rr()[Hn],r=gi;return _o(n)?n.createElement(e,r):null===r?n.createElement(e):n.createElementNS(r,e)}function Gu(e,t,n,r,i,o,s,a,u,c){const l=t.blueprint.slice();return l[xn]=i,l[Pn]=140|r,br(l),l[Mn]=l[Kn]=e,l[Un]=n,l[qn]=s||e&&e[qn],l[Hn]=a||e&&e[Hn],l[zn]=u||e&&e[zn]||null,l[$n]=c||e&&e[$n]||null,l[jn]=o,l}function Wu(e,t,n,r,i,o){const s=n+Xn,a=e.data[s]||function(e,t,n,r,i,o,s){const a=Qr(),u=Xr(),c=u?a:a&&a.parent,l=e.data[n]=oc(c&&c!==t?c:null,r,n,i,o);return 0!==s&&e.firstChild||(e.firstChild=l),a&&(!u||null!=a.child||null===l.parent&&2!==a.type?u||(a.next=l):a.child=l),l}(e,t,s,r,i,o,n);return Kr(a,!0),a}function Qu(e,t,n,r){let i=e.node;return null==i&&(e.node=i=oc(t,2,n,null,null)),r[jn]=i}function Ku(e,t,n){const r=Xr(),i=Qr();let o;if(512&e[Pn])Sc(Jo(e));else{let s=!1;try{Kr(null,!0),o=li(e,e[jn]),br(e),Xu(e,t.template,Zu(e),n),e[Rn].firstTemplatePass=!1,qu(e),s=!0}finally{di(o,s),Kr(i,r)}}}function Yu(e,t,n){const r=e[qn],i=li(e,e[jn]),o=!ni(),s=Jr(e);let a=!1;try{o&&!s&&r.begin&&r.begin(),s&&(n&&Xu(e,n,1,t),qu(e),e[Pn]&=-5),br(e),n&&Xu(e,n,2,t),qu(e),a=!0}finally{o&&!s&&r.end&&r.end(),di(i,a)}}function Xu(e,t,n,r){bi();const i=pi();try{Ur(null),2&n&&Uu(e,0),t(n,r)}finally{mi(i)}}function Zu(e){return Jr(e)?1:2}function Ju(e,t,n,r){if(e.firstTemplatePass&&!t.stylingTemplate){const e=zo(n,r);e>=0&&(t.stylingTemplate=xs(n,e))}}function ec(e,t,n){if(dr(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function tc(e,t,n,r=ur){if(!Dr)return;const i=Qr();e.firstTemplatePass&&function(e,t,n,r,i){const o=i?{"":-1}:null;if(n){mc(r,e.data.length,n.length);for(let e=0;e<n.length;e++){const t=n[e];t.providersResolver&&t.providersResolver(t)}lc(e,r,n.length);const i=e.preOrderHooks&&e.preOrderHooks.length||0,s=e.preOrderCheckHooks&&e.preOrderCheckHooks.length||0,a=r.index-Xn;for(let r=0;r<n.length;r++){const u=n[r],c=e.data.length;gc(e,t,u,u.factory),pc(e.data.length-1,u,o),wr(c,u,e,a,i,s)}}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(r,i,o)}(e,t,function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const e=r[o];Ba(n,e.selectors,!1)&&(i||(i=[]),us(is(Qr(),t),t,e.type),pr(e)?(1&n.flags&&Le(n),n.flags=1,i.unshift(e)):i.push(e))}return i}(e,t,i),i,n||null),function(e,t,n){const r=n.directiveStart,i=n.directiveEnd;!e.firstTemplatePass&&r<i&&is(n,t);for(let o=r;o<i;o++){const r=e.data[o];pr(r)&&yc(t,n,r),hc(t,ps(e.data,t,o,n),r,o)}}(e,t,i),function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,s=e.firstTemplatePass,a=n.index-Xn,u=pi();try{Ur(a);for(let a=r;a<i;a++){const r=e.data[a],i=t[a];r.hostBindings?(cc(r,o,i,n,s),qr()):s&&o.push(null)}}finally{Ur(u)}}(e,t,i),function(e,t,n){const r=t.localNames;if(r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(t,i,r),Ur(null)}function nc(e){return e.tView||(e.tView=rc(-1,e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas))}function rc(e,t,n,r,i,o,s,a){const u=Xn+n,c=u+r,l=function(e,t){const n=new Array(t).fill(null,0,e).fill(Ds,e);return n[Bn]=e,n}(u,c);return l[Rn]={id:e,blueprint:l,template:t,viewQuery:s,node:null,data:l.slice().fill(null,u),bindingStartIndex:u,viewQueryStartIndex:c,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a}}function ic(e,t){const n=e.createRenderer(null,null);return"string"==typeof t?_o(n)?n.selectRootElement(t):n.querySelector(t):t}function oc(e,t,n,r,i){return{type:t,index:n,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:e,stylingTemplate:null,projection:null,onElementCreationFns:null,newStyles:null,newClasses:null}}function sc(e,t){const n=Rr()[Rn];let r=null;const i=e.directiveStart,o=e.directiveEnd;if(o>i){const e=0===t,s=n.data;for(let t=i;t<o;t++){const n=s[t],i=e?n.inputs:n.outputs;for(let e in i)if(i.hasOwnProperty(e)){const n=i[e];(r=r||{}).hasOwnProperty(e)?r[e].push(t,e,n):r[e]=[t,e,n]}}}return r}const ac={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function uc(e,t,n,r,i,o){const s=Rr(),a=ar(e,s),u=cr(e,s);let c,l;if(!i&&(c=kc(u))&&(l=c[t]))Lc(s,l,n),fr(u)&&function(e,t){const n=hr(t,e);16&n[Pn]||(n[Pn]|=64)}(s,e+Xn);else if(3===u.type){!function(e,t,n,r,i){const o=t[Bn]-1,s=r[o];s[0]==Nn&&(r[o]=n+s,i||(-1==e.propertyMetadataStartIndex&&(e.propertyMetadataStartIndex=o),e.propertyMetadataEndIndex=o+1))}(u,s,t=ac[t]||t,s[Rn].data,i);const e=o?o(u,s):s[Hn];n=null!=r?r(n,u.tagName||"",t):n,_o(e)?e.setProperty(a,t,n):jo(t)||(a.setProperty?a.setProperty(t,n):a[t]=n)}}function cc(e,t,n,r,i){const o=t.length;Or(e),e.hostBindings(1,n,r.index-Xn),Or(null),o===t.length&&i&&t.push(e.hostBindings)}function lc(e,t,n){const r=-(t.index-Xn),i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function hc(e,t,n,r){const i=Qr();dc(e,i,t),i&&i.attrs&&function(e,t,n,r){let i=r.initialInputs;(void 0===i||e>=i.length)&&(i=function(e,t,n){const r=n.initialInputs||(n.initialInputs=[]);for(let s=r.length;s<=e;s++)r.push(null);const i=n.attrs;let o=0;for(;o<i.length;){const n=i[o];if(0===n){o+=4;continue}if(5===n){o+=2;continue}if("number"==typeof n)break;const s=t[n],a=i[o+1];void 0!==s&&(r[e]||(r[e]=[])).push(n,s,a),o+=2}return r}(e,n.inputs,r));const o=i[e];if(o){const e=n.setInput;for(let r=0;r<o.length;){const i=o[r++],s=o[r++],a=o[r++];e?n.setInput(t,a,i,s):t[s]=a}}}(r,t,n,i),e[Rn].firstTemplatePass&&n.contentQueries&&(i.flags|=4),pr(n)&&(hr(i.index,e)[Un]=t)}function dc(e,t,n){const r=ur(t,e);To(n,e),r&&To(r,e)}function fc(e){const t=Rr()[Rn];(t.components||(t.components=[])).push(e.index)}function pc(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;t.template&&(n[""]=e)}}function mc(e,t,n){e.flags=1&e.flags,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function gc(e,t,n,r){e.data.push(n);const i=new wo(r,pr(n),null);e.blueprint.push(i),t.push(i)}function yc(e,t,n){const r=ur(t,e),i=nc(n),o=e[qn],s=Ec(e,Gu(e,i,null,n.onPush?64:16,e[t.index],t,o,o.createRenderer(r,n)));s[jn]=t,e[t.index]=s,e[Rn].firstTemplatePass&&fc(t)}function vc(e,t,n,r,i,o){const s=ar(e,r),a=r[Hn];if(null==n)_o(a)?a.removeAttribute(s,t,o):s.removeAttribute(t);else{const u=cr(e,r),c=null==i?Cn(n):i(n,u.tagName||"",t);_o(a)?a.setAttribute(s,t,c,o):o?s.setAttributeNS(o,t,c):s.setAttribute(t,c)}}function bc(e,t,n,r,i){return new Array(e,!0,i?-1:0,t,null,null,r,n,null)}function wc(e){const t=Rr(),n=hr(e,t);(128==(128&n[Pn])||Jr(t))&&80&n[Pn]&&(function(e){const t=e[Rn];for(let n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),Tc(n,n[Un]))}function Ec(e,t){return e[Gn]?e[Wn][Ln]=t:e[Gn]=t,e[Wn]=t,t}function _c(e){for(;e;){e[Pn]|=64;const t=Xo(e);if(mr(e)&&!t)return e;e=t}return null}function Cc(e,t){const n=0===e.flags;if(e.flags|=t,n&&e.clean==$u){let t;e.clean=new Promise(e=>t=e),e.scheduler(()=>{if(1&e.flags&&(e.flags&=-2,Sc(e)),2&e.flags){e.flags&=-3;const t=e.playerHandler;t&&t.flushPlayers()}e.clean=$u,t(null)})}}function Sc(e){for(let t=0;t<e.components.length;t++){const n=e.components[t];Yu(yr(n),n)}}function Ic(e,t){const n=e[qn];n.begin&&n.begin();try{Jr(e)&&Tc(e,t),Tc(e,t)}catch(r){throw Mc(e,r),r}finally{n.end&&n.end()}}function Ac(e){Sc(e[Un])}function Tc(e,t){const n=e[Rn],r=li(e,e[jn]),i=n.template,o=Jr(e);let s=!1;try{br(e),o&&Dc(1,n,t),Xu(e,i,Zu(e),t),qu(e),o&&!n.staticViewQueries||Dc(2,n,t),s=!0}finally{di(r,s)}}function Dc(e,t,n){const r=t.viewQuery;r&&(ci(t.viewQueryStartIndex),r(e,n))}function Nc(e,t="",n=""){const r=e[Rn].data,i=e[Bn]-1;return null==r[i]?r[i]=Nn+t+Nn+n:null}const Oc=$u;function kc(e){return void 0===e.inputs&&(e.inputs=sc(e,0)),e.inputs}function xc(e){return e[Vn]||(e[Vn]=[])}function Rc(e){return e[Rn].cleanup||(e[Rn].cleanup=[])}function Pc(e,t){return t[e.index][Hn]}function Mc(e,t){const n=e[$n],r=n?n.get(Cs,null):null;r&&r.handleError(t)}function Lc(e,t,n){const r=e[Rn];for(let i=0;i<t.length;){const o=t[i++],s=t[i++],a=t[i++],u=e[o],c=r.data[o];c.setInput?c.setInput(u,n,s,a):u[a]=n}}function Fc(e,t,n){const r=ar(t,e),i=e[Hn];_o(i)?i.setValue(r,n):r.textContent=n}function jc(e){let t;if(t=e.onElementCreationFns){for(let e=0;e<t.length;e++)t[e]();e.onElementCreationFns=null}}function Bc(e){const t=Rr(),n=t[Rn];n.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===t.hostBindings?r[i-1]=r[i-1]+n:r.push(t.hostBindings,n)}(n,Nr,e),function(e,t,n){for(let r=0;r<n;r++)t.push(Ds),e.blueprint.push(Ds),e.data.push(null)}(n,t,e))}let Vc=null;function Uc(){if(!Vc){const e=U.Symbol;if(e&&e.iterator)Vc=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Vc=n)}}}return Vc}function $c(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function qc(e,t){const n=zc(e),r=zc(t);if(n&&r)return function(e,t,n){const r=e[Uc()](),i=t[Uc()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,qc);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||$c(e,t)}}class Hc{constructor(e){this.wrapped=e}static wrap(e){return new Hc(e)}static unwrap(e){return Hc.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Hc}}function zc(e){return!!Gc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Uc()in e)}function Gc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Wc(e,t,n){return e[t]=n}function Qc(e,t){return e[t]}function Kc(e,t,n){return i=n,((r=e[t])==r||i==i)&&r!==i&&(e[t]=n,!0);var r,i}function Yc(e,t,n,r){const i=Kc(e,t,n);return Kc(e,t+1,r)||i}function Xc(e,t,n,r,i){const o=Yc(e,t,n,r);return Kc(e,t+2,i)||o}function Zc(e,t,n,r,i,o){const s=Yc(e,t,n,r);return Yc(e,t+2,i,o)||s}function Jc(e,t,n,r){const i=pi(),o=el(Rr(),t);return o!==Ds&&uc(i,e,o,n,r),Jc}function el(e,t){const n=e[Bn]++;return Nc(e),Kc(e,n,t)?t:Ds}function tl(e,t,n,r){const i=pi(),o=el(Rr(),t);o!==Ds&&uc(i,e,o,n,r,Pc)}function nl(e,t,n,r){const i=pi(),o=Rr(),s=el(o,t);return s!==Ds&&vc(i,e,s,o,n,r),nl}function rl(e){let t=!1;const n=Rr(),r=n[Rn].data;let i=n[Bn];if(null==r[i]){for(let t=2;t<e.length;t+=2)r[i++]=e[t];i=n[Bn]}for(let s=1;s<e.length;s+=2)t=Kc(n,i++,e[s])||t;if(n[Bn]=i,Nc(n,e[0],e[e.length-1]),!t)return Ds;let o=e[0];for(let s=1;s<e.length;s+=2)o+=Cn(e[s])+e[s+1];return o}function il(e,t,n){const r=Rr(),i=Kc(r,r[Bn]++,t);return Nc(r,e,n),i?e+Cn(t)+n:Ds}function ol(e,t,n,r,i){const o=Rr(),s=o[Bn],a=Yc(o,s,t,r);return o[Bn]+=2,Nc(o,e,i)&&(o[Rn].data[s]=n),a?e+Cn(t)+n+Cn(r)+i:Ds}function sl(e,t,n,r,i,o,s){const a=Rr(),u=a[Bn],c=Xc(a,u,t,r,o);if(a[Bn]+=3,Nc(a,e,s)){const e=a[Rn].data;e[u]=n,e[u+1]=i}return c?e+Cn(t)+n+Cn(r)+i+Cn(o)+s:Ds}function al(e,t,n,r,i,o,s,a,u){const c=Rr(),l=c[Bn],h=Zc(c,l,t,r,o,a);if(c[Bn]+=4,Nc(c,e,u)){const e=c[Rn].data;e[l]=n,e[l+1]=i,e[l+2]=s}return h?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u:Ds}function ul(e,t,n,r,i,o,s,a,u,c,l){const h=Rr(),d=h[Bn];let f=Zc(h,d,t,r,o,a);if(f=Kc(h,d+4,c)||f,h[Bn]+=5,Nc(h,e,l)){const e=h[Rn].data;e[d]=n,e[d+1]=i,e[d+2]=s,e[d+3]=u}return f?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(c)+l:Ds}function cl(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=Rr(),p=f[Bn];let m=Zc(f,p,t,r,o,a);if(m=Yc(f,p+4,c,h)||m,f[Bn]+=6,Nc(f,e,d)){const e=f[Rn].data;e[p]=n,e[p+1]=i,e[p+2]=s,e[p+3]=u,e[p+4]=l}return m?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(c)+l+Cn(h)+d:Ds}function ll(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const m=Rr(),g=m[Bn];let y=Zc(m,g,t,r,o,a);if(y=Xc(m,g+4,c,h,f)||y,m[Bn]+=7,Nc(m,e,p)){const e=m[Rn].data;e[g]=n,e[g+1]=i,e[g+2]=s,e[g+3]=u,e[g+4]=l,e[g+5]=d}return y?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(c)+l+Cn(h)+d+Cn(f)+p:Ds}function hl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){const y=Rr(),v=y[Bn];let b=Zc(y,v,t,r,o,a);if(b=Zc(y,v+4,c,h,f,m)||b,y[Bn]+=8,Nc(y,e,g)){const e=y[Rn].data;e[v]=n,e[v+1]=i,e[v+2]=s,e[v+3]=u,e[v+4]=l,e[v+5]=d,e[v+6]=p}return b?e+Cn(t)+n+Cn(r)+i+Cn(o)+s+Cn(a)+u+Cn(c)+l+Cn(h)+d+Cn(f)+p+Cn(m)+g:Ds}function dl(e,t,n,r,i,o){const s=pi(),a=Rr(),u=il(t,n,r);return u!==Ds&&vc(s,e,u,a,i,o),dl}function fl(e,t,n,r,i,o,s,a){const u=pi(),c=Rr(),l=ol(t,n,r,i,o);return l!==Ds&&vc(u,e,l,c,s,a),fl}function pl(e,t,n,r,i,o,s,a,u,c){const l=pi(),h=Rr(),d=sl(t,n,r,i,o,s,a);return d!==Ds&&vc(l,e,d,h,u,c),pl}function ml(e,t,n,r,i,o,s,a,u,c,l,h){const d=pi(),f=Rr(),p=al(t,n,r,i,o,s,a,u,c);return p!==Ds&&vc(d,e,p,f,l,h),ml}function gl(e,t,n,r,i,o,s,a,u,c,l,h,d,f){const p=pi(),m=Rr(),g=ul(t,n,r,i,o,s,a,u,c,l,h);return g!==Ds&&vc(p,e,g,m,d,f),gl}function yl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m){const g=pi(),y=Rr(),v=cl(t,n,r,i,o,s,a,u,c,l,h,d,f);return v!==Ds&&vc(g,e,v,y,p,m),yl}function vl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y){const v=pi(),b=Rr(),w=ll(t,n,r,i,o,s,a,u,c,l,h,d,f,p,m);return w!==Ds&&vc(v,e,w,b,g,y),vl}function bl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v,b){const w=pi(),E=Rr(),_=hl(t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y);return _!==Ds&&vc(w,e,_,E,v,b),bl}function wl(e,t,n,r){const i=pi(),o=Rr(),s=rl(t);return s!==Ds&&vc(i,e,s,o,n,r),wl}function El(e){Ic(Ao(e),e)}function _l(e){Cc(_c(Ao(e))[Un],1)}function Cl(e,t){const n=t[Mn];return-1===e.index?or(n)?n:null:n}function Sl(e,t){const n=Cl(e,t);return n?Ll(t[Hn],n[er]):null}function Il(e,t,n,r,i){let o,s=!1;or(r)?o=r:ir(r)&&(s=!0,r=r[xn]);const a=rr(r);0===e?Pl(t,n,a,i||null):1===e?Bl(t,a,s):2===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[er];o!==rr(n)&&Il(t,e,r,o,i);for(let s=tr;s<n.length;s++)ql(e,t,n[s],r,o)}(t,e,o,n,i)}function Al(e,t){return _o(t)?t.createText(Cn(e)):t.createTextNode(Cn(e))}function Tl(e,t,n){const r=Sl(e[Rn].node,e);r&&ql(e[Hn],t?0:1,e,r,n)}function Dl(e,t,n){const r=tr+n,i=t.length;n>0&&(t[r-1][Ln]=e),n<i-tr?(e[Ln]=t[r],t.splice(tr+n,0,e)):(t.push(e),e[Ln]=null),e[Mn]=t,e[Fn]&&e[Fn].insertView(n),e[Pn]|=128}function Nl(e,t){if(e.length<=tr)return;const n=tr+t,r=e[n];return r&&(t>0&&(e[n-1][Ln]=r[Ln]),e.splice(tr+t,1),Tl(r,!1),128&r[Pn]&&!(256&r[Pn])&&r[Fn]&&r[Fn].removeView(),r[Mn]=null,r[Ln]=null,r[Pn]&=-129),r}function Ol(e,t){const n=Nl(e,t);n&&kl(n)}function kl(e){if(!(256&e[Pn])){const t=e[Hn];_o(t)&&t.destroyNode&&ql(t,2,e,null,null),function(e){let t=e[Gn];if(!t)return Rl(e);for(;t;){let n=null;if(ir(t))n=t[Gn];else{const e=t[tr];e&&(n=e)}if(!n){for(;t&&!t[Ln]&&t!==e;)Rl(t),t=xl(t,e);Rl(t||e),n=t&&t[Ln]}t=n}}(e)}}function xl(e,t){let n;return ir(e)&&(n=e[jn])&&2===n.type?Cl(n,e):e[Mn]===t?null:e[Mn]}function Rl(e){if(ir(e)&&!(256&e[Pn])){e[Pn]&=-129,e[Pn]|=256,function(e){const t=e[Rn];let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof wo||n[r+1].call(t)}}(e),function(e){const t=e[Rn].cleanup;if(null!==t){const n=e[Vn];for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const i=t[r+1],o="function"==typeof i?i(e):rr(e[i]),s=n[t[r+2]],a=t[r+3];"boolean"==typeof a?o.removeEventListener(t[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else t[r].call(n[t[r+1]]);e[Vn]=null}}(e);const t=e[jn];t&&3===t.type&&_o(e[Hn])&&e[Hn].destroy(),vr(e)&&e[Fn]&&e[Fn].removeView()}}function Pl(e,t,n,r){_o(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Ml(e,t,n,r){null!==r?Pl(e,t,n,r):function(e,t,n){_o(e)?e.appendChild(t,n):t.appendChild(n)}(e,t,n)}function Ll(e,t){return _o(e)?e.parentNode(t):t.parentNode}function Fl(e,t,n){const r=function(e,t){if(mr(t))return Ll(t[Hn],ur(e,t));const n=function(e){for(;null!=e.parent&&(4===e.parent.type||5===e.parent.type);)e=e.parent;return e}(e),r=n.parent;if(null==r){const e=t[jn];return 2===e.type?Sl(e,t):function(e){const t=e[jn];return t&&3===t.type?ur(t,Xo(e)):null}(t)}{const e=n&&5===n.type;if(e&&2&n.flags)return ur(n,t).parentNode;if(1&r.flags&&!e){const e=t[Rn].data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Kt.ShadowDom&&n!==Kt.Native)return null}return ur(r,t)}}(t,n);if(null!=r){const i=n[Hn],o=function(e,t){if(2===e.type){const n=Cl(e,t);return jl(n.indexOf(t,tr)-tr,n)}return 4===e.type||5===e.type?ur(e,t):null}(t.parent||n[jn],n);if(Array.isArray(e))for(let t of e)Ml(i,r,t,o);else Ml(i,r,e,o)}}function jl(e,t){const n=tr+e+1;if(n<t.length){const e=t[n],r=e[jn].child;return null!==r?ur(r,e):t[er]}return t[er]}function Bl(e,t,n){const r=Ll(e,t);r&&function(e,t,n,r){_o(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function Vl(e,t,n,r){const i=r[Mn];let o=r[jn].projection[n];if(Array.isArray(o))Fl(o,t,e);else for(;o;)32&o.flags||(1===o.type?Vl(e,t,o.projection,Zo(i)):(o.flags|=2,$l(o,t,e,i))),o=o.projectionNext}function Ul(e,t,n,r){for(;e;)$l(e,t,n,r),e=e.next}function $l(e,t,n,r){const i=ur(e,r);Fl(i,t,n),To(i,r);const o=r[e.index];if(0===e.type)for(let s=tr;s<o.length;s++)Tl(o[s],!0,o[er]);else if(5===e.type){let t=e.child;Ul(t,t,r,r)}else 4===e.type&&Ul(e.child,t,n,r),or(o)&&Fl(o[er],t,n)}function ql(e,t,n,r,i){let o=n[Rn].node.child;for(;null!==o;)Hl(e,t,n,o,r,i),o=o.next}function Hl(e,t,n,r,i,o){const s=r.type;4===s?function(e,t,n,r,i,o){Il(t,e,i,n[r.index],o);let s=r.child;for(;s;)Hl(e,t,n,s,i,o),s=s.next}(e,t,n,r,i,o):1===s?function(e,t,n,r,i,o){const s=Zo(n),a=s[jn].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Il(t,e,i,a[u],o);else{let n=a;const r=s[Mn];for(;null!==n;)Hl(e,t,r,n,i,o),n=n.projectionNext}}(e,t,n,r,i,o):Il(t,e,i,n[r.index],o)}function zl(e){const t=Yl(e,null,null),n=Rr();n[Rn].firstTemplatePass&&(t.tViews=[]),Kl(n,t),Zr()}function Gl(e,t,n,r,i,o,s,a){const u=Rr(),c=u[Rn],l=Yl(e,i||null,o||null);c.firstTemplatePass&&(l.tViews=rc(-1,t,n,r,c.directiveRegistry,c.pipeRegistry,null,null)),tc(c,u,s,a),Kl(u,l),To(ur(l,u),u),Er(c,l),Zr()}function Wl(e){const t=Rr(),n=t[Rn];Kr(lr(n.data,e),!0),t[e+Xn][Jn]=0,_r(t,n,ni(),void 0)}function Ql(){let e=Qr();Xr()?Zr():Kr(e=e.parent,!1);const t=Rr()[e.index],n=t[Jn];for(;n<t.length-tr;)Ol(t,n)}function Kl(e,t){const n=e[Fn];if(n){const r=e[t.index];r[Fn]?n.insertNodeBeforeViews(t):(n.addNode(t),r[Fn]=n.container())}}function Yl(e,t,n){const r=Rr(),i=e+Xn,o=r[e+Xn]=r[Hn].createComment(""),s=Wu(r[Rn],r[jn],e,0,t,n),a=r[i]=bc(r[i],r,o,s);return Fl(o,s,r),Ec(r,a),s}function Xl(e,t){const n=Rr(),r=n[Rn],i=e+Xn;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=t}function Zl(e){return lr(ei,e)}function Jl(e){return lr(Rr(),e)}function eh(e,t=C.Default){e=L(e);const n=Rr();return null==n?re(e,t):ls(Qr(),n,e,t)}function th(e){return cs(Qr(),e)}function nh(e){Ga(e)}function rh(e,t,n){const r=pi(),i=Rr(),o=i[Bn]++,s=cr(r,i),a=zr()>0;if(n)Cu(ah(s),i,e,o,t,a,!1);else{const n=hu(i);Su(sh(s),i,e,o,t,n,a,!1)}}function ih(e,t){ku=Pu;const n=pi(),r=Rr(),i=r[Bn]++;if(e!==Ds){const o=cr(n,r),s=zr()>0,a=r[i],u=cu(a,e),c=function(e,t){const n=Array.isArray(e)?e:[null];n[0]=t||null;for(let s=1;s<n.length;s+=2)Bu(n,s,null);let r,i=null,o=!1;if("string"==typeof t?t.length&&(i=t.split(/\s+/),o=!0):(i=t?Object.keys(t):null,r=t),i)e:for(let s=0;s<i.length;s++){const e=i[s],t=!!o||r[e];for(let r=1;r<n.length;r+=2){const i=ju(n,r);if(e<=i){i===e?Bu(n,r,t):n.splice(r,0,e,t);continue e}}n.push(e,t)}return n}(a,e);if(t)Cu(ah(o),r,null,i,c,s,u);else{const e=hu(r);Su(sh(o),r,null,i,c,e,s,u)}}}function oh(){return $r()+Gr()}function sh(e){return uh(e,!1)}function ah(e){return uh(e,!0)}function uh(e,t){let n=t?e.newClasses:e.newStyles;return n||(n=[0,0,1,0,Qa],t?e.newClasses=n:e.newStyles=n),n}function ch(e,t,n){const r=Qr();r.stylingTemplate||(r.stylingTemplate=Mo());const i=gh();i?(za()&&function(){const e=Rr();var t,n;t=cr(pi(),e),n=oh(),Ya(ah(t),n),Ya(sh(t),n)}(),Lo(r.stylingTemplate,i),(r.onElementCreationFns=r.onElementCreationFns||[]).push(()=>{lh(r,e,t,n,i),function(e,t){let n=e[8];n||(n=e[8]=[Ro]),n[0]=t}(r.stylingTemplate,i)})):lh(r,e,t,n,Ro)}function lh(e,t,n,r,i){!function(e,t,n,r,i){if(16&e[1])return;if(!function(e,t,n,r){const i=e[2],o=2*t;return!(o<i.length&&i[o+0]>=0||(Lo(e,t,e[5].length,r),0))}(e,t,0,i))return;r&&(r=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(Na(e[n]));return t}(r));const o=e[5],s=o[1],a=o[0],u=e[6],c=e[7],l=4*a;let h=10+l,d=h+4*s,f=d+l;const p=o.length;o.push(r?r.length:0,n?n.length:0);let m=0;const g=[];if(r&&r.length)for(let A=0;A<r.length;A++){const t=r[A];let n=Fs(e,t,10,h);-1==n&&(n=h+m,m+=4,g.push(t)),o.push(n)}const y=[];if(n&&n.length)for(let A=0;A<n.length;A++){const t=n[A];let r=Fs(e,t,h,d);-1==r?(r=d+m,m+=4,y.push(t)):r+=4*g.length,o.push(r)}let v=2;if(g.length)for(;v<p;){const e=o[v+0],t=o[v+1];if(t){const n=v+2+e;for(let e=n;e<n+t;e++)o[e]+=4*g.length}v+=2+(e+t)}const b=y.length+g.length;for(let A=10;A<e.length;A+=4){const t=A>=d,n=A>=(t?f:h),r=la(e,A),i=Zs(r);let o=Js(r);ca(e,A,Ys(r,i,o+=t?n?4*g.length:0:4*b+4*(n?g.length:0)))}for(let A=0;A<4*g.length;A++)e.splice(f,0,null),e.splice(h,0,null),h++,d++,f+=2;for(let A=0;A<4*y.length;A++)e.splice(d,0,null),e.push(null),d++,f++;const w=e[4],E=e[3];for(let A=0;A<b;A++){const n=A>=g.length,r=n?A-g.length:A,o=n?y[r]:g[r];let u,c;n?(u=f+4*(s+r),c=h+4*(s+r)):(u=d+4*(a+r),c=10+4*(a+r));let l=n?w:E,p=Ca(l,o);-1===p?p=ka(null,l,o,!n&&null,t)+1:p+=1;const m=va(e,o,n,i||null);ca(e,c,Ys(m,p,u)),na(e,c,o),ra(e,c,null),sa(e,c,0,t),ca(e,u,Ys(m,p,c)),na(e,u,o),ra(e,u,null),sa(e,u,0,t)}o[1]=s+y.length,o[0]=a+g.length,u[0]+=y.length,c[0]+=g.length;const _=4*g.length,C=4*y.length,S=c.length;Oa(e,t,!1,d+4*a,g.length);for(let A=1;A<S;A+=4)c[A+1]+=C+_;const I=u.length;Oa(e,t,!0,f+4*s,y.length);for(let A=1;A<I;A+=4)u[A+1]+=2*_+C;ca(e,1,Ys(0,0,d))}(e.stylingTemplate,i,t,n,r)}function hh(e,t,n,r){const i=pi(),o=function(e,t){let n=null;return null!==e&&(n=t?Cn(e)+t:e),n}(t,n),s=yh(i,Rr()),a=gh();a?Ns(s,a,$s,[s,e,o,a,r]):$s(s,e,o,Ro,r),za()&&function(e,t,n){rh(e,function(e,t){let n=null;return null!==e&&(n=t?Cn(e)+t:e),n}(t,n),!1)}(Ka(s,e,a,!1),t,n)}function dh(e,t,n){const r=pi(),i=t instanceof ks?t:function(e){return"boolean"==typeof e?e:!!e||null}(t),o=gh(),s=yh(r,Rr());o?Ns(s,o,Us,[s,e,i,o,n]):Us(s,e,i,Ro,n),za()&&function(e,t){rh(e,t,!0)}(Ka(s,e,o,!0),i)}function fh(e){const t=pi(),n=Rr(),r=yh(t,n),i=gh();if(i)Ns(r,i,Bs,[r,e,i]);else{const i=cr(t,n);if(Vo(i)&&e!==Ds){const t=Ta(r),o=(t.length?t+" ":"")+function(e){let t="";if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];t+=(r?";":"")+`${i}:${e[i]}`}}return t}(e);Lc(n,i.inputs.style,o),e=Ds}Bs(r,e)}za()&&function(e){ih(e,!1)}(e)}function ph(e){const t=pi(),n=Rr(),r=yh(t,n),i=gh();if(i)Ns(r,i,js,[r,e,i]);else{const i=cr(t,n);if(Bo(i)&&e!==Ds){const t=Ta(r),o=(t.length?t+" ":"")+function(e){return e&&"string"!=typeof e&&(e=Object.keys(e).join(" ")),e||""}(e);Lc(n,i.inputs.class,o),e=Ds}js(r,e)}za()&&function(e){ih(e,!0)}(e)}function mh(){const e=pi(),t=gh()||Ro,n=Rr(),r=3===cr(e,n).type?n[Hn]:null,i=0!=(8&n[Pn]),o=yh(e,n);Ha<2&&function(e,t,n,r,i,o,s=0){let a=0;if(function(e,t){const n=e[8];return!n||n[0]===t}(e,s)&&(function(e){const t=e[8];if(t){for(let e=1;e<t.length;e+=3)t[e+1].apply(this,t[e+2]);t.length=1}}(e),function(e){return Ws(e,1)}(e))){const s=e[0],u=8&e[1],c=ta(e);for(let n=10;n<e.length;n+=4)if(Ws(e,n)){const a=la(e,n),u=_a(e,n),l=da(e,n),h=ha(e,n),d=4&a?Ia(e,u):null,f=ua(e,n),p=!!(2&a);let m=h;n<c&&!ya(m)&&(m=ha(e,Js(a))),ya(m)||(m=Xs(e,a)),t&&(!r||m)&&(p?zs(s,l,!!m,t,i,f):Hs(s,l,m,t,d,o,f)),Gs(e,n,!1)}if(u){const t=Array.isArray(n)?Jo(n):n,i=$o(e),o=i[0];for(let e=1;e<o;e+=2){const n=i[e],o=e+1,u=i[o];if(n){const e=n.buildPlayer(u,r);void 0!==e&&(null!=e&&Uo(i,t,s,e,o)&&a++,u&&u.destroy())}else u&&u.destroy()}pa(e,!1)}fa(e,!1)}return a}(o,r,n,i,null,null,t)>0&&Cc(Jo(n),2),Tr(null),za()&&function(){const e=pi(),t=Rr(),n=cr(e,t),r=function(e,t){return 3===e.type?t[Hn]:null}(n,t),i=function(e,t){let n=t[e+Xn],r=t;for(;Array.isArray(n);)r=n,n=n[xn];return sr(r)?r[0]:n}(e,t),o=oh();!function(e,t,n,r,i){let o=!1;ou(n,i)&&(!au(n)&&su(n),Eu&&(Ou(n,e,r,t,Eu,Ru,null),Eu=0,!0),bu=yu)}(r,t,ah(n),i,o);const s=hu(t);!function(e,t,n,r,i,o){let s=!1;ou(n,i)&&(!au(n)&&su(n),wu&&(Ou(n,e,r,t,wu,xu,o),wu=0,!0),vu=yu)}(r,t,sh(n),i,o,s),Ga(null)}()}function gh(){return $r()+Gr()}function yh(e,t){let n=Ar;return n||Tr(n=Fo(e+Xn,t)),n}function vh(e,t,n,r){const i=Rr(),o=i[Rn],s=i[e+Xn]=zu(t),a=i[Hn],u=Wu(o,i[jn],e,3,t,n||null);let c=0,l=0,h=-1;if(n){Ju(o,u,n,h=Ho(s,n));const e=u.stylingTemplate;e&&(c=Ls(s,e,a),l=Ms(s,e,a))}if(Fl(s,u,i),tc(o,i,r),0===Ir&&To(s,i),Ir++,o.firstTemplatePass){const e=kc(u);e&&e.hasOwnProperty("class")&&(u.flags|=8),e&&e.hasOwnProperty("style")&&(u.flags|=16)}u.stylingTemplate&&(Ms(s,u.stylingTemplate,a,l),Ls(s,u.stylingTemplate,a,c)),za()&&h>=0&&function(e,t,n){let r,i,o=-1;for(let s=n;s<t.length;s++){const n=t[s];"number"==typeof n?o=n:1==o?Tu(r=r||ah(e),-1,n,!0,!1):2==o&&Tu(i=i||sh(e),-1,n,t[++s],!1)}}(u,n,h);const d=i[Fn];d&&(d.addNode(u),i[Fn]=d.clone(u)),ec(o,u,i)}function bh(){let e=Qr();Xr()?Zr():Kr(e=e.parent,!1),e.onElementCreationFns&&jc(e);const t=Rr(),n=t[Fn];n&&e.index===n.nodeIndex&&(t[Fn]=n.parent),Er(t[Rn],e),Ir--;let r=null;Bo(e)&&(r=Fo(e.index,t),Lc(t,e.inputs.class,Ta(r))),Vo(e)&&(r=r||Fo(e.index,t),Lc(t,e.inputs.style,function(e){const t=e[3];let n=t[1];if(null===n){n="";for(let e=2;e<t.length;e+=3){const r=t[e+1];null!==r&&(n+=(n.length?";":"")+`${t[e]}:${r}`)}t[1]=n}return n}(r)))}function wh(e,t,n,r){vh(e,t,n,r),bh()}function Eh(e){const t=pi(),n=Rr(),r=cr(t,n);if(3===r.type){const t=zo(e,Ho(ur(r,n),e));if(t>=0){const n=gh();r.stylingTemplate?Rs(r.stylingTemplate,e,t,n):r.stylingTemplate=xs(e,t,n)}}}function _h(e,t,n){const r=Rr(),i=r[Rn],o=r[e+Xn]=r[Hn].createComment(""),s=Wu(i,r[jn],e,4,"ng-container",t||null);t&&Ju(i,s,t,0),Fl(o,s,r),tc(i,r,n),To(o,r);const a=r[Fn];a&&(a.addNode(s),r[Fn]=a.clone(s)),ec(i,s,r)}function Ch(){let e=Qr();const t=Rr(),n=t[Rn];Xr()?Zr():Kr(e=e.parent,!1);const r=t[Fn];r&&e.index===r.nodeIndex&&(t[Fn]=r.parent),e.onElementCreationFns&&jc(e),Er(n,e)}function Sh(e,t,n){const r=Rr(),i=Qr(),o=2===i.type?i.parent:i,s=r[o.index];let a=function(e,t,n){for(let r=t+tr;r<e.length;r++){const t=e[r][Rn].id;if(t===n)return e[r];if(!(t<n))break;Ol(e,r-tr)}return null}(s,s[Jn],e);if(a)Lr=!0,li(a,a[Rn].node);else{a=Gu(r,function(e,t,n,r){const i=Rr()[Rn],o=r.tViews;return(e>=o.length||null==o[e])&&(o[e]=rc(e,null,t,n,i.directiveRegistry,i.pipeRegistry,null,null)),o[e]}(e,t,n,o),null,16,null,null),s[Fn]&&(a[Fn]=s[Fn].createView());const u=Xr()?i:i&&i.parent;Qu(a[Rn],u,e,a),li(a,a[Rn].node)}return s&&(Jr(a)&&Dl(a,s,s[Jn]),s[Jn]++),Jr(a)?3:2}function Ih(){const e=Rr(),t=e[jn];Jr(e)&&(qu(e),e[Pn]&=-5),br(e),qu(e),di(e[Mn][Mn],!0),Kr(t,!1)}function Ah(){return Rr()}function Th(e){return!!e&&"function"==typeof e.then}function Dh(e){return!!e&&"function"==typeof e.subscribe}function Nh(e,t,n=!1,r){kh(e,t,n,r)}function Oh(e,t,n=!1,r){kh(e,t,n,r,Pc)}function kh(e,t,n=!1,r,i){const o=Rr(),s=Qr(),a=o[Rn],u=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[]));let c=!0;if(3===s.type){const a=ur(s,o),l=r?r(a):Xt,h=l.target||a,d=i?i(s,o):o[Hn],f=xc(o),p=f.length,m=r?e=>r(rr(e[s.index])).target:s.index;if(_o(d)){let n=null;if(!r&&function(e){return e.directiveEnd>e.directiveStart}(s)&&(n=function(e,t,n){const r=e[Rn].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===t&&r[i+1]===n){const t=e[Vn],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof o&&(i+=2)}return null}(o,e,s.index)),null!==n)t.__ngNextListenerFn__=n.__ngNextListenerFn__,n.__ngNextListenerFn__=t,c=!1;else{t=Rh(s,o,t,!1);const n=d.listen(l.name||h,e,t);f.push(t,n),u&&u.push(e,m,p,p+1)}}else t=Rh(s,o,t,!0),h.addEventListener(e,t,n),f.push(t),u&&u.push(e,m,p,n)}void 0===s.outputs&&(s.outputs=sc(s,1));const l=s.outputs;let h;if(c&&l&&(h=l[e])){const n=h.length;if(n){const r=xc(o);for(let i=0;i<n;i+=3){const n=o[h[i]][h[i+2]].subscribe(t),a=r.length;r.push(t,n),u&&u.push(e,s.index,a,-(a+1))}}}}function xh(e,t,n){try{return!1!==t(n)}catch(r){return Mc(e,r),!1}}function Rh(e,t,n,r){return function i(o){const s=1&e.flags?hr(e.index,t):t;0==(32&t[Pn])&&_c(s);let a=xh(t,n,o),u=i.__ngNextListenerFn__;for(;u;)a=xh(t,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ph(e=1){return hi(e)}function Mh(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Ba(e,o,!0):Va(r,o))return i}else n=i}return n}function Lh(e){const t=Zo(Rr())[jn];if(!t.projection){const n=t.projection=new Array(e?e.length:1).fill(null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Mh(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}let Fh=!1;function jh(e){Fh=e}function Bh(e,t=0,n){const r=Rr(),i=Wu(r[Rn],r[jn],e,1,null,n||null);null===i.projection&&(i.projection=t),Zr(),Fh||Vl(r,i,t,Zo(r))}function Vh(e,t,n){return Uh(e,"",t,"",n),Vh}function Uh(e,t,n,r,i){const o=pi(),s=il(t,n,r);return s!==Ds&&uc(o,e,s,i),Uh}function $h(e,t,n,r,i,o,s){const a=pi(),u=ol(t,n,r,i,o);return u!==Ds&&uc(a,e,u,s),$h}function qh(e,t,n,r,i,o,s,a,u){const c=pi(),l=sl(t,n,r,i,o,s,a);return l!==Ds&&uc(c,e,l,u),qh}function Hh(e,t,n,r,i,o,s,a,u,c,l){const h=pi(),d=al(t,n,r,i,o,s,a,u,c);return d!==Ds&&uc(h,e,d,l),Hh}function zh(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=pi(),p=ul(t,n,r,i,o,s,a,u,c,l,h);return p!==Ds&&uc(f,e,p,d),zh}function Gh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const m=pi(),g=cl(t,n,r,i,o,s,a,u,c,l,h,d,f);return g!==Ds&&uc(m,e,g,p),Gh}function Wh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){const y=pi(),v=ll(t,n,r,i,o,s,a,u,c,l,h,d,f,p,m);return v!==Ds&&uc(y,e,v,g),Wh}function Qh(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v){const b=pi(),w=hl(t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y);return w!==Ds&&uc(b,e,w,v),Qh}function Kh(e,t,n){const r=pi(),i=rl(t);return i!==Ds&&uc(r,e,i,n),Kh}function Yh(e,t){const n=Rr(),r=n[e+Xn]=Al(t,n[Hn]),i=Wu(n[Rn],n[jn],e,3,null,null);Zr(),Fl(r,i,n)}function Xh(e){const t=Rr(),n=pi(),r=el(t,e);r!==Ds&&Fc(t,n,Cn(r))}function Zh(e){return Jh("",e,""),Zh}function Jh(e,t,n){const r=pi(),i=Rr(),o=il(e,t,n);return o!==Ds&&Fc(i,r,o),Jh}function ed(e,t,n,r,i){const o=pi(),s=Rr(),a=ol(e,t,n,r,i);return a!==Ds&&Fc(s,o,a),ed}function td(e,t,n,r,i,o,s){const a=pi(),u=Rr(),c=sl(e,t,n,r,i,o,s);return c!==Ds&&Fc(u,a,c),td}function nd(e,t,n,r,i,o,s,a,u){const c=pi(),l=Rr(),h=al(e,t,n,r,i,o,s,a,u);return h!==Ds&&Fc(l,c,h),nd}function rd(e,t,n,r,i,o,s,a,u,c,l){const h=pi(),d=Rr(),f=ul(e,t,n,r,i,o,s,a,u,c,l);return f!==Ds&&Fc(d,h,f),rd}function id(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=pi(),p=Rr(),m=cl(e,t,n,r,i,o,s,a,u,c,l,h,d);return m!==Ds&&Fc(p,f,m),id}function od(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p){const m=pi(),g=Rr(),y=ll(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p);return y!==Ds&&Fc(g,m,y),od}function sd(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){const y=pi(),v=Rr(),b=hl(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g);return b!==Ds&&Fc(v,y,b),sd}function ad(e){const t=pi(),n=Rr(),r=rl(e);return r!==Ds&&Fc(n,t,r),ad}function ud(e,t){const n=So(e);if(!n)return;const r=n.native,i=n.lView,o=function(e,t){if(!(t=t||So(e)))return null;const{lView:n,nodeIndex:r}=t,i=Fo(r,n);return $o(i)||qo(i)}(r,n),s=Jo(i);Uo(o,s,r,t,0,e),Cc(s,2)}function cd(e){const t=So(e);if(!t)return[];const n=Fo(t.nodeIndex,t.lView),r=n?$o(n):null;return r?function(e){const t=[],n=e[0];for(let r=2;r<n;r+=2){const n=e[r];n&&t.push(n)}for(let r=n;r<e.length;r++)t.push(e[r]);return t}(r):[]}function ld(e){const t=vd(e);return void 0===t.component&&(t.component=function(e,t){const n=t[Rn].data[e];return 1&n.flags?t[n.directiveStart]:null}(t.nodeIndex,t.lView)),t.component}function hd(e){return vd(e).lView[Un]}function dd(e){let t,n=gd(e).lView;for(;null===n[xn]&&(t=Xo(n));)n=t;return 512&n[Pn]?null:n[Un]}function fd(e){return[...Jo(e).components]}function pd(e){const t=gd(e);return new ys(t.lView[Rn].data[t.nodeIndex],t.lView)}function md(e){const t=gd(e);return void 0===t.directives&&(t.directives=ko(t.nodeIndex,t.lView,!1)),t.directives||[]}function gd(e,t=!0){const n=So(e);if(!n&&t)throw new Error("Invalid ng target");return n}function yd(e){return So(e).native}function vd(e){if(!(e instanceof Node))throw new Error("Expecting instance of DOM Node");return gd(e)}function bd(e){return"boolean"==typeof e.useCapture}function wd(e){const t=vd(e).lView,n=t[Vn],r=t[Rn].cleanup,i=[];if(r&&n)for(let o=0;o<r.length;){const s=r[o++],a=r[o++];if("string"==typeof s){const u=s,c=rr(t[a]),l=n[r[o++]],h=r[o++],d="boolean"==typeof h?h:!(h>=0)&&null;e==c&&i.push({element:e,name:u,callback:l,useCapture:d})}}return i.sort(Ed),i}function Ed(e,t){return e.name==t.name?0:e.name<t.name?-1:1}const _d="ng";let Cd=!1;function Sd(){Cd||(Cd=!0,Id("getComponent",ld),Id("getContext",hd),Id("getListeners",wd),Id("getViewComponent",dd),Id("getHostElement",yd),Id("getInjector",pd),Id("getRootComponents",fd),Id("getDirectives",md),Id("getPlayers",cd),Id("markDirty",_l))}function Id(e,t){if(U){let n=U[_d];n||(n=U[_d]={}),n[e]=t}}function Ad(e,t={}){Ur(null);const n=t.rendererFactory||Co,r=t.sanitizer||null,i=vn(e);i.type!=e&&(i.type=e);const o=ic(n,t.host||i.selectors[0][0]),s=i.onPush?576:528,a=Nd(t.scheduler,t.playerHandler),u=n.createRenderer(o,i),c=Gu(null,rc(-1,null,1,0,null,null,null,null),a,s,null,null,n,u,void 0,t.injector||null),l=li(c,null);let h,d=!1;try{n.begin&&n.begin();const e=Td(o,i,c,n,u,r);h=Dd(e,i,c,a,t.hostFeatures||null),Ec(c,e),qu(c),c[Pn]&=-5,br(c),qu(c),d=!0}finally{di(l,d),n.end&&n.end()}return h}function Td(e,t,n,r,i,o){Lr=!1,Mr=null,Ir=0,Dr=!0;const s=n[Rn];n[0+Xn]=e;const a=Wu(s,null,0,3,null,null),u=Gu(n,nc(t),null,t.onPush?64:16,n[Xn],a,r,i,o);return s.firstTemplatePass&&(us(is(a,n),n,t.type),a.flags=1,mc(a,n.length,1),fc(a)),n[Xn]=u}function Dd(e,t,n,r,i){const o=n[Rn],s=function(e,t,n){const r=Qr();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),lc(e,r,1),gc(e,t,n,n.factory));const i=ps(e.data,t,t.length-1,r);return dc(t,r,i),i}(o,n,t);r.components.push(s),e[Un]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,n.length-1);const a=Qr();if(o.firstTemplatePass&&t.hostBindings&&(Ur(a.index-Xn),cc(t,o.expandoInstructions,s,a,o.firstTemplatePass),a.onElementCreationFns&&jc(a),Ur(null)),a.stylingTemplate){const t=e[xn];Ms(t,a.stylingTemplate,e[Hn]),Ls(t,a.stylingTemplate,e[Hn])}return s}function Nd(e,t){return{components:[],scheduler:e||In,clean:Oc,playerHandler:t||null,flags:0}}function Od(e,t){const n=yr(e)[Rn],r=n.data.length-1;wr(r,t,n,-1,-1,-1),Er(n,{directiveStart:r,directiveEnd:r+1})}function kd(e){return Jo(e).clean}class xd{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Rd(){return Pd.ngInherit=!0,Pd}function Pd(e){e.type.prototype.ngOnChanges&&(e.setInput=Md,e.onChanges=function(){const e=Fd(this),t=e&&e.current;if(t){const n=e.previous;if(n===Xt)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function Md(e,t,n,r){const i=Fd(e)||function(e,t){return e[Ld]=t}(e,{previous:Xt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new xd(u&&u.currentValue,t,s===Xt),e[r]=t}const Ld="__ngSimpleChanges__";function Fd(e){return e[Ld]||null}function jd(e){let t=Object.getPrototypeOf(e.type.prototype).constructor;for(;t;){let n=void 0;if(pr(e))n=t.ngComponentDef||t.ngDirectiveDef;else{if(t.ngComponentDef)throw new Error("Directives cannot inherit Components");n=t.ngDirectiveDef}const r=t.ngBaseDef;if(r||n){const t=e;t.inputs=Bd(e.inputs),t.declaredInputs=Bd(e.declaredInputs),t.outputs=Bd(e.outputs)}if(r){const t=r.viewQuery,n=r.contentQueries,i=r.hostBindings;i&&$d(e,i),t&&Vd(e,t),n&&Ud(e,n),I(e.inputs,r.inputs),I(e.declaredInputs,r.declaredInputs),I(e.outputs,r.outputs)}if(n){const t=n.hostBindings;t&&$d(e,t);const r=n.viewQuery,i=n.contentQueries;r&&Vd(e,r),i&&Ud(e,i),I(e.inputs,n.inputs),I(e.declaredInputs,n.declaredInputs),I(e.outputs,n.outputs),e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit;const o=n.features;if(o)for(const n of o)n&&n.ngInherit&&n(e)}else{const n=t.prototype;n&&(e.afterContentChecked=e.afterContentChecked||n.ngAfterContentChecked,e.afterContentInit=e.afterContentInit||n.ngAfterContentInit,e.afterViewChecked=e.afterViewChecked||n.ngAfterViewChecked,e.afterViewInit=e.afterViewInit||n.ngAfterViewInit,e.doCheck=e.doCheck||n.ngDoCheck,e.onDestroy=e.onDestroy||n.ngOnDestroy,e.onInit=e.onInit||n.ngOnInit,n.ngOnChanges&&Rd()(e))}t=Object.getPrototypeOf(t)}}function Bd(e){return e===Xt?{}:e===Zt?[]:e}function Vd(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Ud(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function $d(e,t){const n=e.hostBindings;t!==n&&(e.hostBindings=n?(e,r,i)=>{Hr(1);try{t(e,r,i)}finally{Hr(-1)}n(e,r,i)}:t)}function qd(e,t,n,r,i){if(e=L(e),Array.isArray(e))for(let o=0;o<e.length;o++)qd(e[o],t,n,r,i);else{const o=Rr();let s=Xe(e)?e:L(e.provide),a=We(e);const u=Qr(),c=65535&u.providerIndexes,l=u.directiveStart,h=u.providerIndexes>>16;if(e.useClass||Xe(e)){const n=(e.useClass||e).prototype.ngOnDestroy;if(n){const e=o[Rn];(e.destroyHooks||(e.destroyHooks=[])).push(t.length,n)}}if(Xe(e)||!e.multi){const e=new wo(a,i,eh),r=zd(s,t,i?c:c+h,l);-1==r?(us(is(u,o),o,s),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(e),o.push(e)):(n[r]=e,o[r]=e)}else{const e=zd(s,t,c+h,l),d=zd(s,t,c,c+h),f=e>=0&&n[e],p=d>=0&&n[d];if(i&&!p||!i&&!f){us(is(u,o),o,s);const e=function(e,t,n,r,i){const o=new wo(e,n,eh);return o.multi=[],o.index=t,o.componentProviders=0,Hd(o,i,r&&!n),o}(i?Wd:Gd,n.length,i,r,a);!i&&p&&(n[d].providerFactory=e),t.push(s),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(e),o.push(e)}else Hd(n[i?d:e],a,!i&&r);!i&&r&&p&&n[d].componentProviders++}}}function Hd(e,t,n){e.multi.push(t),n&&e.componentProviders++}function zd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Gd(e,t,n,r){return Qd(this.multi,[])}function Wd(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,s=ps(t,n,this.providerFactory.index,r);Qd(i,o=s.slice(0,e));for(let t=e;t<s.length;t++)o.push(s[t])}else Qd(i,o=[]);return o}function Qd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Kd(e,t=[]){return n=>{n.providersResolver=(n,r)=>(function(e,t,n){const r=Rr()[Rn];if(r.firstTemplatePass){const i=pr(e);qd(n,r.data,r.blueprint,i,!0),qd(t,r.data,r.blueprint,i,!1)}})(n,r?r(e):e,t)}}class Yd{}class Xd{}function Zd(e){const t=Error(`No component factory found for ${R(e)}. Did you add it to @NgModule.entryComponents?`);return t[Jd]=e,t}const Jd="ngComponent";class ef{resolveComponentFactory(e){throw Zd(e)}}let tf,nf,rf,of=(()=>{class e{}return e.NULL=new ef,e})();class sf{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Zd(e);return new af(t,this._ngModule)}}class af extends Xd{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}class uf{}class cf{}class lf{constructor(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}get rootNodes(){return null==this._lView[xn]?function e(t,n,r){let i=n.child;for(;i;){const n=ur(i,t);if(n&&r.push(n),4===i.type)e(t,i,r);else if(1===i.type){const e=Zo(t),n=e[jn],o=Xo(e);let s=n.projection[i.projection];for(;s&&o;)r.push(ur(s,o)),s=s.next}i=i.next}return r}(this._lView,this._lView[jn],[]):[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[Pn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}kl(this._lView)}onDestroy(e){var t,n;n=e,xc(t=this._lView).push(n),t[Rn].firstTemplatePass&&Rc(t).push(t[Vn].length-1,null)}markForCheck(){_c(this._lView)}detach(){this._lView[Pn]&=-129}reattach(){this._lView[Pn]|=128}detectChanges(){Ic(this._lView,this.context)}checkNoChanges(){!function(e,t){ri(!0);try{Ic(e,t)}finally{ri(!1)}}(this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){this._appRef=null,function(e){ql(e[Hn],1,e,null,null)}(this._lView)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}_lookUpContext(){return this._context=Xo(this._lView)[this._componentIndex]}}class hf extends lf{constructor(e){super(e,null,-1),this._view=e}detectChanges(){Ac(this._view)}checkNoChanges(){!function(e){ri(!0);try{Ac(e)}finally{ri(!1)}}(this._view)}get context(){return null}}function df(e,t,n){return tf||(tf=class extends e{}),new tf(ur(t,n))}function ff(e,t,n,r){if(nf||(nf=class extends e{constructor(e,t,n,r,i){super(),this._declarationParentView=e,this.elementRef=t,this._tView=n,this._hostLContainer=r,this._injectorIndex=i}createEmbeddedView(e,t,n){const r=this._declarationParentView[Fn];r&&null==this._hostLContainer[Fn]&&(this._hostLContainer[Fn]=r.container());const i=function(e,t,n,r,i){const o=Xr(),s=Qr();Kr(null,!0);const a=Gu(n,e,t,16,null,null);return a[Kn]=n,r&&(a[Fn]=r.createView()),Qu(e,null,-1,a),e.firstTemplatePass&&(e.node.injectorIndex=i),Kr(s,o),a}(this._tView,e,this._declarationParentView,this._hostLContainer[Fn],this._injectorIndex);t&&Dl(i,t,n),Ku(i,this._tView,e);const o=new lf(i,e,-1);return o._tViewNode=i[jn],o}}),0===n.type){const e=r[n.index];return new nf(r,df(t,n,r),n.tViews,e,n.injectorIndex)}return null}function pf(e,t,n){if(fr(e)){const r=e.directiveStart,i=hr(e.index,t);return new lf(i,n,r)}if(3===e.type||0===e.type||4===e.type){const e=Zo(t);return new lf(e,e[Un],-1)}return null}function mf(...e){}let gf=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>vf(e),e})();const yf=function(e){return df(e,Qr(),Rr())},vf=mf;class bf{constructor(e,t,n,r,i,o){this.id=e,this.templateUrl=t,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}}class wf{}class Ef{}class _f{}class Cf{}const Sf=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let If=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Tf(),e})();const Af=function(){const e=Rr(),t=hr(Qr().index,e);return function(e){const t=e[Hn];if(_o(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ir(t)?t:e)},Tf=mf;class Df{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Nf=new Df("8.1.3");class Of{constructor(){}supports(e){return zc(e)}create(e){return new xf(e)}}const kf=(e,t)=>t;class xf{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kf}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Lf(n,r,i)?t:n,s=Lf(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!zc(e))throw new Error(`Error trying to diff '${R(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&$c(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),$c(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Uc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&$c(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),$c(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?($c(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?($c(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Rf(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Mf),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Rf{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pf{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&$c(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Mf{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Pf,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lf(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ff{constructor(){}supports(e){return e instanceof Map||Gc(e)}create(){return new jf}}class jf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Gc(e)))throw new Error(`Error trying to diff '${R(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Bf(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){$c(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Bf{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Vf=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new v]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=A({token:e,providedIn:"root",factory:()=>new e([new Of])}),e})(),Uf=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new w,new v]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=A({token:e,providedIn:"root",factory:()=>new e([new Ff])}),e})(),$f=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Hf(),e})();const qf=function(){return pf(Qr(),Rr(),null)},Hf=(...e)=>{},zf=[new Ff],Gf=new Vf([new Of]),Wf=new Uf(zf);let Qf=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Yf(e,gf),e})();const Kf=function(e,t){return ff(e,t,Qr(),Rr())},Yf=mf;let Xf=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Jf(e,gf),e})();const Zf=function(e,t){return function(e,t,n,r){let i;rf||(rf=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return df(t,this._hostTNode,this._hostView)}get injector(){return new ys(this._hostTNode,this._hostView)}get parentInjector(){const e=as(this._hostTNode,this._hostView),t=Yo(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.injectorIndex;)t=t.parent;return t}let r=Ko(e),i=t,o=t[jn];for(;r>1;)o=(i=i[Kn])[jn],r--;return o}(e,this._hostView,this._hostTNode);return Wo(e)&&null!=n?new ys(n,t):new ys(null,this._hostView)}clear(){for(;this.length;)this.remove(0)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){const e=this._lContainer.length-tr;return e>0?e:0}createEmbeddedView(e,t,n){this.allocateContainerIfNeeded();const r=this._adjustIndex(n),i=e.createEmbeddedView(t||{},this._lContainer,r);return i.attachToViewContainerRef(this),this._lContainer[8].splice(r,0,i),i}createComponent(e,t,n,r,i){const o=n||this.parentInjector;!i&&null==e.ngModule&&o&&(i=o.get(uf,null));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();const n=e._lView,r=this._adjustIndex(t);return vr(n)?this.move(e,r):(Dl(n,this._lContainer,r),Tl(n,!0,jl(r,this._lContainer)),e.attachToViewContainerRef(this),this._lContainer[8].splice(r,0,e),e)}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(e);return-1!==n&&this.detach(n),this.insert(e,t),e}indexOf(e){return null!==this._lContainer[8]?this._lContainer[8].indexOf(e):0}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);Ol(this._lContainer,t),this._lContainer[8].splice(t,1)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=Nl(this._lContainer,t);return n&&null!=this._lContainer[8].splice(t,1)[0]?new lf(n,n[Un],-1):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(or(o))(i=o)[Jn]=-1;else{let e;if(e=4===n.type?rr(o):r[Hn].createComment(""),mr(r)){const t=r[Hn],i=ur(n,r);Pl(t,Ll(t,i),e,function(e,t){return _o(e)?e.nextSibling(t):t.nextSibling}(t,i))}else Fl(e,n,r);r[n.index]=i=bc(o,r,e,n,!0),Ec(r,i)}return new rf(i,n,r)}(e,t,Qr(),Rr())},Jf=mf;function ep(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return tp(n,t),n}(i,e)}function tp(e,t){e[ct]=t,e[ht]=t.logError.bind(t)}function np(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function rp(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function ip(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function op(e,t){return e.nodes[t]}function sp(e,t){return e.nodes[t]}function ap(e,t){return e.nodes[t]}function up(e,t){return e.nodes[t]}function cp(e,t){return e.nodes[t]}class lp{}const hp={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},dp=()=>{},fp=new Map;function pp(e){let t=fp.get(e);return t||(t=R(e)+"_"+fp.size,fp.set(e,t)),t}function mp(e,t,n,r){if(Hc.isWrapped(r)){r=Hc.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=Hc.unwrap(e.oldValues[i]);e.oldValues[i]=new Hc(o)}return r}const gp="$$undefined",yp="$$empty";function vp(e){return{id:gp,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let bp=0;function wp(e,t,n,r){return!(!(2&e.state)&&$c(e.oldValues[t.bindingIndex+n],r))}function Ep(e,t,n,r){return!!wp(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function _p(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!qc(i,r)){const o=t.bindings[n].name;throw ep(hp.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function Cp(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Sp(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Ip(e,t,n,r){try{return Cp(33554432&e.def.nodes[t].flags?sp(e,t).componentView:e),hp.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Ap(e){return e.parent?sp(e.parent,e.parentNodeDef.nodeIndex):null}function Tp(e){return e.parent?e.parentNodeDef.parent:null}function Dp(e,t){switch(201347067&t.flags){case 1:return sp(e,t.nodeIndex).renderElement;case 2:return op(e,t.nodeIndex).renderText}}function Np(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Op(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function kp(e){return 1<<e%32}function xp(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=kp(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Rp(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Y,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:pp(n)}})}function Pp(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Kt.Native?sp(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Mp=new WeakMap;function Lp(e){let t=Mp.get(e);return t||((t=e(()=>dp)).factory=e,Mp.set(e,t)),t}function Fp(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Dp(e,e.def.lastRenderRootNode))),jp(e,t,0,e.def.nodes.length-1,n,r,i)}function jp(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Vp(e,n,t,i,o,s),a+=n.childCount}}function Bp(e,t,n,r,i,o){let s=e;for(;s&&!Np(s);)s=s.parent;const a=s.parent,u=Tp(s),c=u.nodeIndex+u.childCount;for(let l=u.nodeIndex+1;l<=c;l++){const e=a.def.nodes[l];e.ngContentIndex===t&&Vp(a,e,n,r,i,o),l+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Up(e,s[t],n,r,i,o)}}function Vp(e,t,n,r,i,o){if(8&t.flags)Bp(e,t.ngContent.index,n,r,i,o);else{const s=Dp(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Up(e,s,n,r,i,o),32&t.bindingFlags&&Up(sp(e,t.nodeIndex).componentView,s,n,r,i,o)):Up(e,s,n,r,i,o),16777216&t.flags){const s=sp(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Fp(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&jp(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Up(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const $p=/^:([^:]+):(.+)$/;function qp(e){if(":"===e[0]){const t=e.match($p);return[t[1],t[2]]}return["",e]}function Hp(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function zp(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+Wp(t[r+1]);return n+t[2*e]}function Gp(e,t,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v,b){switch(e){case 1:return t+Wp(n)+r;case 2:return t+Wp(n)+r+Wp(i)+o;case 3:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a;case 4:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c;case 5:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c+Wp(l)+h;case 6:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c+Wp(l)+h+Wp(d)+f;case 7:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c+Wp(l)+h+Wp(d)+f+Wp(p)+m;case 8:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c+Wp(l)+h+Wp(d)+f+Wp(p)+m+Wp(g)+y;case 9:return t+Wp(n)+r+Wp(i)+o+Wp(s)+a+Wp(u)+c+Wp(l)+h+Wp(d)+f+Wp(p)+m+Wp(g)+y+Wp(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Wp(e){return null!=e?e.toString():""}const Qp=[],Kp={},Yp=new Object,Xp=pp(et),Zp=pp(H),Jp=pp(uf);function em(e,t,n,r){return n=L(n),{index:-1,deps:Rp(r,R(t)),flags:e,token:t,value:n}}function tm(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===je&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[pp(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function nm(e,t,n=et.THROW_IF_NOT_FOUND){const r=ee(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Xp:case Zp:case Jp:return e}const a=e._def.providersByKey[s];let u;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=rm(e,a)),t===Yp?void 0:t}if((u=N(t.token))&&(i=e,null!=(o=u).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=Yp,e._providers[n]=rm(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{ee(r)}var i,o}function rm(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(nm(e,n[0]));case 2:return new t(nm(e,n[0]),nm(e,n[1]));case 3:return new t(nm(e,n[0]),nm(e,n[1]),nm(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=nm(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(nm(e,n[0]));case 2:return t(nm(e,n[0]),nm(e,n[1]));case 3:return t(nm(e,n[0]),nm(e,n[1]),nm(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=nm(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=nm(e,t.deps[0]);break;case 256:n=t.value}return n===Yp||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Yp:n}function im(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,um(n,t),hp.dirtyParentQueries(r),sm(r),r}function om(e,t,n){const r=t?Dp(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Fp(n,2,i,o,void 0)}function sm(e){Fp(e,3,null,null,void 0)}function am(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function um(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const cm=new Object;function lm(e,t,n,r,i,o){return new dm(e,t,n,r,i,o)}function hm(e){return e.viewDefFactory}class dm extends Xd{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Lp(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=hp.createRootView(e,t||[],n,i,r,cm),a=ap(s,o).instance;return n&&s.renderer.setAttribute(sp(s,0).renderElement,"ng-version",Nf.full),new fm(s,new ym(s),a)}}class fm extends Yd{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new gf(sp(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Em(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function pm(e,t,n){return new mm(e,t,n)}class mm{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new gf(this._data.renderElement)}get injector(){return new Em(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Tp(e),e=e.parent;return e?new Em(e,t):new Em(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=im(this._data,e);hp.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new ym(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof af||(i=o.get(uf));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,am(i,n,r),function(e,t){const n=Ap(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),hp.dirtyParentQueries(r),om(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];um(r,t),null==n&&(n=r.length),am(r,n,i),hp.dirtyParentQueries(i),sm(i),om(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=im(this._data,e);t&&hp.destroyView(t)}detach(e){const t=im(this._data,e);return t?new ym(t):null}}function gm(e){return new ym(e)}class ym{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Fp(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Cp(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{hp.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){hp.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hp.destroyView(this._view)}detachFromAppRef(){this._appRef=null,sm(this._view),hp.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function vm(e,t){return new bm(e,t)}class bm extends Qf{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new ym(hp.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new gf(sp(this._parentView,this._def.nodeIndex).renderElement)}}function wm(e,t){return new Em(e,t)}class Em{constructor(e,t){this.view=e,this.elDef=t}get(e,t=et.THROW_IF_NOT_FOUND){return hp.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:pp(e)},t)}}function _m(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=sp(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return op(e,n.nodeIndex).renderText;if(20240&n.flags)return ap(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Cm(e){return new Sm(e.renderer)}class Sm{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=qp(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=qp(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Im(e,t,n,r){return new Am(e,t,n,r)}class Am{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=rm(e,i))}}(this)}get(e,t=et.THROW_IF_NOT_FOUND,n=C.Default){let r=0;return n&C.SkipSelf?r|=1:n&C.Self&&(r|=4),nm(this,{token:e,tokenKey:pp(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(of)}destroy(){if(this._destroyed)throw new Error(`The ng module ${R(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Yp){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Tm=pp(Ef),Dm=pp(If),Nm=pp(gf),Om=pp(Xf),km=pp(Qf),xm=pp($f),Rm=pp(et),Pm=pp(H);function Mm(e,t,n,r,i,o,s,a){const u=[];if(s)for(let l in s){const[e,t]=s[l];u[e]={flags:8,name:l,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return jm(e,t|=16384,n,r,i,i,o,u,c)}function Lm(e,t,n){return jm(-1,e|=16,null,0,t,t,n)}function Fm(e,t,n,r,i){return jm(-1,e,t,0,n,r,i)}function jm(e,t,n,r,i,o,s,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=xp(n);u||(u=[]),a||(a=[]),o=L(o);const d=Rp(s,R(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Hp(a),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Bm(e,t){return qm(e,t)}function Vm(e,t){let n=e;for(;n.parent&&!Np(n);)n=n.parent;return Hm(n.parent,Tp(n),!0,t.provider.value,t.provider.deps)}function Um(e,t){const n=Hm(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!Dh(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe($m(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function $m(e,t,n){return r=>Ip(e,t,n,r)}function qm(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Hm(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Gm(e,t,n,i[0]));case 2:return r(Gm(e,t,n,i[0]),Gm(e,t,n,i[1]));case 3:return r(Gm(e,t,n,i[0]),Gm(e,t,n,i[1]),Gm(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Gm(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Gm(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Hm(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Gm(e,t,n,i[0]));case 2:return new r(Gm(e,t,n,i[0]),Gm(e,t,n,i[1]));case 3:return new r(Gm(e,t,n,i[0]),Gm(e,t,n,i[1]),Gm(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Gm(e,t,n,i[r]);return new r(...s)}}const zm={};function Gm(e,t,n,r,i=et.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===xm&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case Tm:return Cm(Wm(a,t,n));case Dm:return Wm(a,t,n).renderer;case Nm:return new gf(sp(a,t.nodeIndex).renderElement);case Om:return sp(a,t.nodeIndex).viewContainer;case km:if(t.element.template)return sp(a,t.nodeIndex).template;break;case xm:return gm(Wm(a,t,n));case Rm:case Pm:return wm(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=ap(a,e.nodeIndex);return t||(t={instance:qm(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Np(a),t=Tp(a),a=a.parent,4&r.flags&&(a=null)}const u=o.root.injector.get(r.token,zm);return u!==zm||i===zm?u:o.root.ngModule.injector.get(r.token,i)}function Wm(e,t,n){let r;if(n)r=sp(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Np(r);)r=r.parent;return r}function Qm(e,t,n,r,i,o){if(32768&n.flags){const t=sp(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=Hc.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new xd(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Km(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&Xm(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ym(e,s,t,r)),s=s.parent}}function Ym(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Xm(e,i,t.flags&n,r++),i+=t.childCount}return r}function Xm(e,t,n,r){const i=ap(e,t);if(!i)return;const o=i.instance;o&&(hp.setCurrentNode(e,t),1048576&n&&ip(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ip(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}function Zm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Jm=new q("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:()=>Nd(re(eg))}),eg=new q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>In});class tg extends Xd{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors[0][0],this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Zm(this.componentDef.inputs)}get outputs(){return Zm(this.componentDef.outputs)}create(e,t,n,r){const i=void 0===n,o=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,zm,i);return o!==zm||r===zm?o:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(Cf,Co),a=o.get(no,null),u=i?zu(this.selector,s.createRenderer(null,this.componentDef)):ic(s,n),c=this.componentDef.onPush?576:528,l="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h=i||l?Nd():o.get(Jm),d=s.createRenderer(u,this.componentDef);n&&u&&(_o(d)?d.setAttribute(u,"ng-version",Nf.full):u.setAttribute("ng-version",Nf.full));const f=Gu(null,rc(-1,null,1,0,null,null,null,null),h,c,null,null,s,d,a,o),p=li(f,null);let m,g,y=!1;try{const e=Td(u,this.componentDef,f,s,d);g=cr(0,f),t&&(g.projection=t.map(e=>Array.from(e))),m=Dd(e,this.componentDef,f,h,[Od]),Ec(f,e),qu(f),y=!0}finally{di(p,y)}const v=new ng(this.componentType,m,df(gf,g,f),f,g);return i&&(v.hostView._tViewNode.child=g),v}}class ng extends Yd{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new hf(r),this.hostView._tViewNode=Qu(r[Rn],null,-1,r),this.componentType=e}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const rg={},ig=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),og=void 0;var sg=["en",[["a","p"],["AM","PM"],og],[["AM","PM"],og,og],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],og,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],og,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",og,"{1} 'at' {0}",og],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function ag(e){return ug(e)[ig.PluralCase]}function ug(e){const t=e.toLowerCase().replace(/_/g,"-");let n=rg[t];if(n)return n;const r=t.split("-")[0];if(n=rg[r])return n;if("en"===r)return sg;throw new Error(`Missing locale data for the locale "${e}".`)}function cg(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function lg(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),lg(r,t)):t!==e&&t.push(r)}return t}const hg="\ufffd",dg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fg=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,pg=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,mg=/\ufffd(\d+):?\d*\ufffd/gi,gg=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,yg=0,vg=/\[(\ufffd.+?\ufffd?)\]/,bg=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,wg=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Eg=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,_g=/\/\*/,Cg=/\d+\:(\d+)/;function Sg(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(e);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);dg.test(n)?r.push(Ig(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const s=e.substring(t);return r.push(s),r}function Ig(e){const t=[],n=[];let r=1,i=0;const o=Sg(e=e.replace(dg,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})));for(let u=0;u<o.length;){let e=o[u++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=Sg(o[u++]);t.length>n.length&&n.push(i)}return s=t.indexOf("other"),a='Missing key "other" in ICU statement.',s<=-1&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(a),{type:r,mainBinding:i,cases:t,values:n};var s,a}function Ag(e){let t,n,r="",i=0,o=!1;for(;null!==(t=fg.exec(e));)o?t[0]===`${hg}/*${n}${hg}`&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+e.substr(i)}function Tg(e,t,n,r=null){const i=[null,null],o=e.split(mg);let s=0;for(let a=0;a<o.length;a++){const e=o[a];if(1&a){const t=parseInt(e,10);i.push(-1-t),s|=kg(t)}else""!==e&&i.push(e)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Dg(e,t=0){let n;t|=kg(e.mainBinding);for(let r=0;r<e.values.length;r++){const i=e.values[r];for(let e=0;e<i.length;e++){const r=i[e];if("string"==typeof r)for(;n=mg.exec(r);)t|=kg(parseInt(n[1],10));else t=Dg(r,t)}}return t}const Ng=[];let Og=-1;function kg(e){return 1<<Math.min(e,31)}const xg=[];function Rg(e,t,n){const r=Rr()[Rn];Ng[++Og]=e,jh(!0),r.firstTemplatePass&&null===r.data[e+Xn]&&function(e,t,n,r){const i=Rr(),o=e.blueprint.length-Xn;Pg=0;const s=Qr(),a=Xr()?Qr():s&&s.parent;let u=a&&a!==i[jn]?a.index-Xn:t,c=0;xg[c]=u;const l=[];t>0&&s!==a&&l.push(s.index<<3|0);const h=[],d=[],f=function(e,t){if("number"!=typeof t)return Ag(e);{const n=e.indexOf(`:${t}${hg}`)+2+t.toString().length,r=e.search(new RegExp(`${hg}\\/\\*\\d+:${t}${hg}`));return Ag(e.substring(n,r))}}(n,r).split(pg);for(let p=0;p<f.length;p++){let e=f[p];if(1&p)if("/"===e.charAt(0)){if("#"===e.charAt(1)){const t=parseInt(e.substr(2),10);u=xg[--c],l.push(t<<3|5)}}else{const t=parseInt(e.substr(1),10);l.push(t<<3|0,u<<17|1),"#"===e.charAt(0)&&(xg[++c]=u=t)}else{const t=Sg(e);for(let e=0;e<t.length;e++)if(1&e){const n=o+Pg++;l.push($a,"",n,u<<17|1);const r=t[e],i=Dg(r);Qg(d,r,n,n);const s=d.length-1;h.push(kg(r.mainBinding),3,-1-r.mainBinding,n<<2|2,s,i,2,n<<2|3,s)}else if(""!==t[e]){const n=t[e],r=n.match(mg),i=o+Pg++;l.push(r?"":n,i,u<<17|1),r&&cg(Tg(n,i),h)}}}(function(e,t){const n=e[Rn];if(n.firstTemplatePass){for(let r=0;r<t;r++)n.blueprint.push(null),n.data.push(null),e.push(null);n.expandoInstructions?n.expandoInstructions.push(t):n.expandoStartIndex+=t}})(i,Pg),e.data[t+Xn]={vars:Pg,create:l,update:h,icus:d.length?d:null}}(r,e,t,n)}let Pg;function Mg(e,t,n,r){const i=e.next;n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==r[jn]&&(e.parent=t);let o=e.next;for(;o;)o.next===e&&(o.next=i),o=o.next;if(1===e.type)return Vl(r,e,e.projection,Zo(r)),e;Fl(ur(e,r),e,r);const s=r[e.index];return 0!==e.type&&or(s)&&Fl(s[er],e,r),e}function Lg(e,t={}){let n=e;if(vg.test(e)){const e={},t=[yg];n=n.replace(bg,(n,r,i)=>{const o=r||i,s=e[o]||[];if(s.length||(o.split("|").forEach(e=>{const t=e.match(Cg),n=t?parseInt(t[1],10):yg,r=_g.test(e);s.push([n,r,e])}),e[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=t[t.length-1];let u=0;for(let e=0;e<s.length;e++)if(s[e][0]===a){u=e;break}const[c,l,h]=s[u];return l?t.pop():a!==c&&t.push(c),s.splice(u,1),h})}return Object.keys(t).length?n=(n=n.replace(wg,(e,n,r,i,o,s)=>t.hasOwnProperty(r)?`${n}${t[r]}${s}`:e)).replace(Eg,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}):n}function Fg(){!function(e){const t=Rr(),n=Ng[Og--],r=e.data[n+Xn];let i=Qr();const o=Bg(n,r.create,0,t);for(let s=n+1;s<=i.index-Xn;s++)-1===o.indexOf(s)&&Vg(s,t)}(Rr()[Rn]),jh(!1)}function jg(e,t,n,r,i){const o=Qr();e[t+Xn]=r;const s=Wu(e[Rn],e[jn],t,n,i,null);return o.next===s&&(o.next=null),s}function Bg(e,t,n,r){const i=Rr()[Hn];let o=null,s=null;const a=[];for(let u=0;u<t.length;u++){const n=t[u];if("string"==typeof n){const e=Al(n,i),c=t[++u];s=o,o=jg(r,c,3,e,null),a.push(c),Zr()}else if("number"==typeof n)switch(7&n){case 1:const i=n>>>17;let c;s=Mg(o,c=i===e?r[jn]:cr(i,r),s,r);break;case 0:const l=n>>>3;a.push(l),s=o,(o=cr(l,r))&&Kr(o,3===o.type);break;case 5:s=o=cr(n>>>3,r),Kr(o,!1);break;case 4:vc(n>>>3,t[++u],t[++u],r);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}else switch(n){case $a:const e=t[++u],c=t[++u],l=i.createComment(e);s=o,o=jg(r,c,5,l,null),a.push(c),To(l,r),o.activeCaseIndex=null,Zr();break;case Ua:const h=t[++u],d=t[++u];s=o,o=jg(r,d,3,i.createElement(h),h),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}}return Zr(),a}function Vg(e,t){const n=cr(e,t),r=ar(e,t);r&&Bl(t[Hn],r);const i=Jl(e);if(or(i)){const e=i;0!==n.type&&Bl(t[Hn],e[er])}n.flags|=32}function Ug(e,t,n){Rg(e,t,n),Fg()}function $g(e,t){!function(e,t,n){const r=Qr().index-Xn,i=[];for(let o=0;o<n.length;o+=2){const s=n[o],a=n[o+1].split(gg);for(let n=0;n<a.length;n++){const o=a[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(mg))e.firstTemplatePass&&null===e.data[t+Xn]&&cg(Tg(o,r,s),i);else{const e=Rr();vc(r,s,o,e);const t=cr(r,e),n=t.inputs&&t.inputs[s];n&&Lc(e,n,o)}}}e.firstTemplatePass&&null===e.data[t+Xn]&&(e.data[t+Xn]=i)}(Rr()[Rn],e,t)}let qg=0,Hg=0;function zg(e){return el(Rr(),e)!==Ds&&(qg|=1<<Hg),Hg++,zg}function Gg(e){if(Hg){const t=Rr(),n=t[Rn].data[e+Xn];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus),function e(t,n,r,i,o,s=!1){let a=!1;for(let u=0;u<t.length;u++){const c=t[u],l=t[++u];if(s||c&i){let s="";for(let c=u+1;c<=u+l;c++){const u=t[c];if("string"==typeof u)s+=u;else if("number"==typeof u)if(u<0)s+=Cn(o[r-u]);else{const l=u>>>2;let h,d,f;switch(3&u){case 1:uc(l,t[++c],s,t[++c]);break;case 0:Fc(o,l,s);break;case 2:if(d=n[h=t[++c]],null!==(f=cr(l,o)).activeCaseIndex){const e=d.remove[f.activeCaseIndex];for(let t=0;t<e.length;t++){const r=e[t];switch(7&r){case 3:Vg(r>>>3,o);break;case 6:const i=cr(e[t+1]>>>3,o).activeCaseIndex;null!==i&&cg(n[r>>>3].remove[i],e)}}}const u=Wg(d,s);f.activeCaseIndex=-1!==u?u:null,Bg(-1,d.create[u],0,o),a=!0;break;case 3:d=n[h=t[++c]],f=cr(l,o),e(d.update[f.activeCaseIndex],n,r,i,o,a)}}}}u+=l}}(r,i,t[Bn]-Hg-1,qg,t),qg=0,Hg=0}}function Wg(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){switch(ag(t)(e)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(t,ny);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function Qg(e,t,n,r){const i=[],o=[],s=[],a=[],u=[];for(let c=0;c<t.values.length;c++){const l=t.values[c],h=[];for(let e=0;e<l.length;e++){const t=l[e];if("string"!=typeof t){const n=h.push(t)-1;l[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const d=Kg(l.join(""),n,h,e,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),u.push(d.childIcus)}e.push({type:t.type,vars:a,childIcus:u,cases:t.cases,create:i,remove:o,update:s}),Pg+=Math.max(...a)}function Kg(e,t,n,r,i){const o=new xi(document).getInertBodyElement(e);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,o,s){if(t){const a=[];for(;t;){const u=t.nextSibling,c=s+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const u=t,l=u.tagName.toLowerCase();if(qi.hasOwnProperty(l)){n.create.push(Ua,l,c,r<<17|1);const a=u.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),r=t.name.toLowerCase();t.value.match(mg)?Gi.hasOwnProperty(r)&&cg(Hi[r]?Tg(t.value,c,t.name,Mi):zi[r]?Tg(t.value,c,t.name,Li):Tg(t.value,c,t.name),n.update):n.create.push(c<<3|4,t.name,t.value)}e(t.firstChild,n,c,i,o,s),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=t.textContent||"",d=h.match(mg);n.create.push(d?"":h,c,r<<17|1),n.remove.push(c<<3|3),d&&cg(Tg(h,c),n.update);break;case Node.COMMENT_NODE:const f=Yg.exec(t.textContent||"");if(f){const e=parseInt(f[1],10);n.create.push($a,"",c,r<<17|1),a.push([i[e],c])}else n.vars--;break;default:n.vars--}t=u}for(let e=0;e<a.length;e++){const t=a[e][0],r=a[e][1];Qg(o,t,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const u=Dg(t);n.update.push(kg(t.mainBinding),3,-1-t.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((eo(o)||o).firstChild,s,t,n,r,i),s}const Yg=/\ufffd(\d+)\ufffd/;let Xg={};function Zg(e={translations:{}}){Xg=e.translations}const Jg=/\{\$(.*?)\}/g;function ey(e,t){return void 0!==Xg[e]&&(e=Xg[e]),void 0!==t&&Object.keys(t).length?e.replace(Jg,(e,n)=>t[n]||""):e}const ty="en-US";let ny=ty;function ry(e){ny=e.toLowerCase().replace(/_/g,"-")}const iy=new Map;function oy(e,t){const n=iy.get(e);sy(e,n&&n.moduleType,t.moduleType),iy.set(e,t)}function sy(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${R(t)} vs ${R(t.name)}`)}function ay(e){if(null!==e.ngModuleDef.id){const t=e.ngModuleDef.id;sy(t,iy.get(t),e),iy.set(t,e)}let t=e.ngModuleDef.imports;t instanceof Function&&(t=t()),t&&t.forEach(e=>ay(e))}function uy(e){return iy.get(e)}const cy={provide:of,useClass:class extends of{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=vn(e);return new tg(t,this.ngModule)}},deps:[uf]};class ly extends uf{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=_n(e),r=e[rn]||null;r&&ry(r),this._bootstrapComponents=kn(n.bootstrap),this._r3Injector=He(e,t,[{provide:uf,useValue:this},cy],R(e)),this.instance=this.get(e)}get(e,t=et.THROW_IF_NOT_FOUND,n=C.Default){return e===et||e===uf||e===H?this:this._r3Injector.get(e,t,n)}get componentFactoryResolver(){return this.get(of)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class hy extends cf{constructor(e){super(),this.moduleType=e,null!==_n(e)&&ay(e)}create(e){return new ly(this.moduleType,e)}}function dy(e,t,n,r){return Yt(()=>{const i=e,o=i.prototype?Object.getPrototypeOf(i.prototype):null,s=o&&o.constructor;null!==t&&(void 0===i.decorators||s&&s.decorators===i.decorators?i.decorators=t:i.decorators.push(...t)),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=void 0===i.propDecorators||s&&s.propDecorators===i.propDecorators?r:Object.assign({},i.propDecorators,r))})}function fy(e,t,n){const r=oi()+e,i=Rr();return Jr()?Wc(i,r,n?t.call(n):t()):Qc(i,r)}function py(e,t,n,r){const i=Rr(),o=oi()+e;return Kc(i,o,n)?Wc(i,o+1,r?t.call(r,n):t(n)):Qc(i,o+1)}function my(e,t,n,r,i){const o=oi()+e,s=Rr();return Yc(s,o,n,r)?Wc(s,o+2,i?t.call(i,n,r):t(n,r)):Qc(s,o+2)}function gy(e,t,n,r,i,o){const s=oi()+e,a=Rr();return Xc(a,s,n,r,i)?Wc(a,s+3,o?t.call(o,n,r,i):t(n,r,i)):Qc(a,s+3)}function yy(e,t,n,r,i,o,s){const a=oi()+e,u=Rr();return Zc(u,a,n,r,i,o)?Wc(u,a+4,s?t.call(s,n,r,i,o):t(n,r,i,o)):Qc(u,a+4)}function vy(e,t,n,r,i,o,s,a){const u=oi()+e,c=Rr(),l=Zc(c,u,n,r,i,o);return Kc(c,u+4,s)||l?Wc(c,u+5,a?t.call(a,n,r,i,o,s):t(n,r,i,o,s)):Qc(c,u+5)}function by(e,t,n,r,i,o,s,a,u){const c=oi()+e,l=Rr(),h=Zc(l,c,n,r,i,o);return Yc(l,c+4,s,a)||h?Wc(l,c+6,u?t.call(u,n,r,i,o,s,a):t(n,r,i,o,s,a)):Qc(l,c+6)}function wy(e,t,n,r,i,o,s,a,u,c){const l=oi()+e,h=Rr();let d=Zc(h,l,n,r,i,o);return Xc(h,l+4,s,a,u)||d?Wc(h,l+7,c?t.call(c,n,r,i,o,s,a,u):t(n,r,i,o,s,a,u)):Qc(h,l+7)}function Ey(e,t,n,r,i,o,s,a,u,c,l){const h=oi()+e,d=Rr(),f=Zc(d,h,n,r,i,o);return Zc(d,h+4,s,a,u,c)||f?Wc(d,h+8,l?t.call(l,n,r,i,o,s,a,u,c):t(n,r,i,o,s,a,u,c)):Qc(d,h+8)}function _y(e,t,n,r){let i=oi()+e,o=!1;const s=Rr();for(let a=0;a<n.length;a++)Kc(s,i++,n[a])&&(o=!0);return o?Wc(s,i,t.apply(r,n)):Qc(s,i)}function Cy(e,t){const n=Rr()[Rn];let r;const i=e+Xn;n.firstTemplatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory();return Xl(e,o),o}function Sy(e,t,n){const r=Jl(e);return Oy(Ny(e)?py(t,r.transform,n,r):r.transform(n))}function Iy(e,t,n,r){const i=Jl(e);return Oy(Ny(e)?my(t,i.transform,n,r,i):i.transform(n,r))}function Ay(e,t,n,r,i){const o=Jl(e);return Oy(Ny(e)?gy(t,o.transform,n,r,i,o):o.transform(n,r,i))}function Ty(e,t,n,r,i,o){const s=Jl(e);return Oy(Ny(e)?yy(t,s.transform,n,r,i,o,s):s.transform(n,r,i,o))}function Dy(e,t,n){const r=Jl(e);return Oy(Ny(e)?_y(t,r.transform,n,r):r.transform.apply(r,n))}function Ny(e){return Rr()[Rn].data[e+Xn].pure}function Oy(e){if(Hc.isWrapped(e)){e=Hc.unwrap(e);const t=Rr();t[t[Bn]]=Ds}return e}class ky extends r.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,o=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(o=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(o=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return e instanceof i.a&&e.add(a),a}}function xy(){return this._results[Uc()]()}class Ry{constructor(){this.dirty=!0,this._results=[],this.changes=new ky,this.length=0;const e=Uc(),t=Ry.prototype;t[e]||(t[e]=xy)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=lg(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Py{constructor(e,t,n,r,i){this.next=e,this.list=t,this.predicate=n,this.values=r,this.containerValues=i}}class My{constructor(e,t,n,r=-1){this.parent=e,this.shallow=t,this.deep=n,this.nodeIndex=r}track(e,t,n,r){n?this.deep=Gy(this.deep,e,t,null!=r?r:null):this.shallow=Gy(this.shallow,e,t,null!=r?r:null)}clone(e){return null!==this.shallow||dr(e)?new My(this,null,this.deep,e.index):this}container(){const e=Ly(this.shallow),t=Ly(this.deep);return e||t?new My(this,e,t):null}createView(){const e=Fy(this.shallow),t=Fy(this.deep);return e||t?new My(this,e,t):null}insertView(e){jy(e,this.shallow),jy(e,this.deep)}addNode(e){Hy(this.deep,e,!1),Hy(this.shallow,e,!1)}insertNodeBeforeViews(e){Hy(this.deep,e,!0),Hy(this.shallow,e,!0)}removeView(){By(this.shallow),By(this.deep)}}function Ly(e){let t=null;for(;e;){const n=[];e.values.push(n),t=new Py(t,e.list,e.predicate,n,null),e=e.next}return t}function Fy(e){let t=null;for(;e;)t=new Py(t,e.list,e.predicate,[],e.values),e=e.next;return t}function jy(e,t){for(;t;)t.containerValues.splice(e,0,t.values),t.values.length&&t.list.setDirty(),t=t.next}function By(e){for(;e;){const t=e.containerValues,n=t.indexOf(e.values);t.splice(n,1)[0].length&&e.list.setDirty(),e=e.next}}function Vy(e,t){const n=e.localNames;if(n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Uy(e,t,n){const r=e[sn];if("function"==typeof r)return r();{const r=n[Rn],i=fs(t,r,e,!1,!1);if(null!==i)return ps(r.data,n,i,t)}return null}function $y(e,t,n,r){const i=e[sn]();return r?i?Uy(r,t,n):null:i}function qy(e,t,n,r){return n?Uy(n,e,t):r>-1?ps(t[Rn].data,t,r,e):function(e,t){return 3===e.type||4===e.type?df(gf,e,t):0===e.type?ff(Qf,gf,e,t):null}(e,t)}function Hy(e,t,n){const r=Rr(),i=r[Rn];for(;e;){const o=e.predicate,s=o.type;if(s){let a=null;if(s===Qf)a=$y(s,t,r,o.read);else{const e=fs(t,i,s,!1,!1);null!==e&&(a=qy(t,r,o.read,e))}null!==a&&zy(e,a,n)}else{const i=o.selector;for(let s=0;s<i.length;s++){const a=Vy(t,i[s]);if(null!==a){const i=qy(t,r,o.read,a);null!==i&&zy(e,i,n)}}}e=e.next}}function zy(e,t,n){n?e.values.unshift(t):e.values.push(t),e.list.setDirty()}function Gy(e,t,n,r){return new Py(e,t,function(e,t){const n=Array.isArray(e);return{type:n?null:e,selector:n?e:null,read:t}}(n,r),t._valuesTree,null)}function Wy(e,t,n,r,i,o){const s=new Ry,a=e[Fn]||(e[Fn]=new My(null,null,null,o));return s._valuesTree=[],s._static=i,a.track(s,t,n,r),function(e,t,n){const r=xc(e);r.push(t),e[Rn].firstTemplatePass&&Rc(e).push(n,r.length-1)}(e,s,s.destroy),s}function Qy(e){const t=e,n=Jr();return!(!e.dirty||n!==t._static||(e.reset(t._valuesTree||[]),e.notifyOnChanges(),0))}function Ky(e,t,n){const r=Rr(),i=r[Rn];Xy(r,i,e,t,n,!0),i.staticViewQueries=!0}function Yy(e,t,n){const r=Rr();return Xy(r,r[Rn],e,t,n,!1)}function Xy(e,t,n,r,i,o){t.firstTemplatePass&&t.expandoStartIndex++;const s=ui(),a=Wy(e,n,r,i,o,-1);return Xl(s-Xn,a),ci(s+1),a}function Zy(){const e=ui();return ci(e+1),lr(Rr(),e-Xn)}function Jy(e,t,n,r){const i=Rr();return ev(i,i[Rn],e,t,n,r,!1,Qr().index)}function ev(e,t,n,r,i,o,s,a){const u=Wy(e,r,i,o,s,a);if((e[Qn]||(e[Qn]=[])).push(u),t.firstTemplatePass){const e=t.contentQueries||(t.contentQueries=[]);n!==(t.contentQueries.length?t.contentQueries[t.contentQueries.length-1]:-1)&&e.push(n)}return u}function tv(e,t,n,r){const i=Rr(),o=i[Rn];ev(i,o,e,t,n,r,!0,Qr().index),o.staticContentQueries=!0}function nv(){const e=Rr(),t=ui();return ci(t+1),e[Qn][t]}function rv(e,t){return ff(Qf,gf,e,t)}const iv=(()=>({"\u0275\u0275attribute":nl,"\u0275\u0275attributeInterpolate1":dl,"\u0275\u0275attributeInterpolate2":fl,"\u0275\u0275attributeInterpolate3":pl,"\u0275\u0275attributeInterpolate4":ml,"\u0275\u0275attributeInterpolate5":gl,"\u0275\u0275attributeInterpolate6":yl,"\u0275\u0275attributeInterpolate7":vl,"\u0275\u0275attributeInterpolate8":bl,"\u0275\u0275attributeInterpolateV":wl,"\u0275\u0275defineBase":mn,"\u0275\u0275defineComponent":un,"\u0275\u0275defineDirective":gn,"\u0275\u0275defineInjectable":A,"\u0275\u0275defineInjector":D,"\u0275\u0275defineNgModule":dn,"\u0275\u0275definePipe":yn,"\u0275\u0275directiveInject":eh,"\u0275\u0275getFactoryOf":vs,"\u0275\u0275getInheritedFactory":bs,"\u0275\u0275inject":re,"\u0275\u0275injectAttribute":th,"\u0275\u0275templateRefExtractor":rv,"\u0275\u0275NgOnChangesFeature":Rd,"\u0275\u0275ProvidersFeature":Kd,"\u0275\u0275InheritDefinitionFeature":jd,"\u0275\u0275container":zl,"\u0275\u0275nextContext":Ph,"\u0275\u0275containerRefreshStart":Wl,"\u0275\u0275containerRefreshEnd":Ql,"\u0275\u0275namespaceHTML":bi,"\u0275\u0275namespaceMathML":vi,"\u0275\u0275namespaceSVG":yi,"\u0275\u0275enableBindings":kr,"\u0275\u0275disableBindings":xr,"\u0275\u0275allocHostVars":Bc,"\u0275\u0275elementStart":vh,"\u0275\u0275elementEnd":bh,"\u0275\u0275element":wh,"\u0275\u0275elementContainerStart":_h,"\u0275\u0275elementContainerEnd":Ch,"\u0275\u0275pureFunction0":fy,"\u0275\u0275pureFunction1":py,"\u0275\u0275pureFunction2":my,"\u0275\u0275pureFunction3":gy,"\u0275\u0275pureFunction4":yy,"\u0275\u0275pureFunction5":vy,"\u0275\u0275pureFunction6":by,"\u0275\u0275pureFunction7":wy,"\u0275\u0275pureFunction8":Ey,"\u0275\u0275pureFunctionV":_y,"\u0275\u0275getCurrentView":Ah,"\u0275\u0275restoreView":Wr,"\u0275\u0275interpolation1":il,"\u0275\u0275interpolation2":ol,"\u0275\u0275interpolation3":sl,"\u0275\u0275interpolation4":al,"\u0275\u0275interpolation5":ul,"\u0275\u0275interpolation6":cl,"\u0275\u0275interpolation7":ll,"\u0275\u0275interpolation8":hl,"\u0275\u0275interpolationV":rl,"\u0275\u0275listener":Nh,"\u0275\u0275load":Jl,"\u0275\u0275projection":Bh,"\u0275\u0275updateSyntheticHostBinding":tl,"\u0275\u0275componentHostSyntheticListener":Oh,"\u0275\u0275pipeBind1":Sy,"\u0275\u0275pipeBind2":Iy,"\u0275\u0275pipeBind3":Ay,"\u0275\u0275pipeBind4":Ty,"\u0275\u0275pipeBindV":Dy,"\u0275\u0275projectionDef":Lh,"\u0275\u0275property":Jc,"\u0275\u0275propertyInterpolate":Vh,"\u0275\u0275propertyInterpolate1":Uh,"\u0275\u0275propertyInterpolate2":$h,"\u0275\u0275propertyInterpolate3":qh,"\u0275\u0275propertyInterpolate4":Hh,"\u0275\u0275propertyInterpolate5":zh,"\u0275\u0275propertyInterpolate6":Gh,"\u0275\u0275propertyInterpolate7":Wh,"\u0275\u0275propertyInterpolate8":Qh,"\u0275\u0275propertyInterpolateV":Kh,"\u0275\u0275pipe":Cy,"\u0275\u0275queryRefresh":Qy,"\u0275\u0275viewQuery":Yy,"\u0275\u0275staticViewQuery":Ky,"\u0275\u0275staticContentQuery":tv,"\u0275\u0275loadViewQuery":Zy,"\u0275\u0275contentQuery":Jy,"\u0275\u0275loadContentQuery":nv,"\u0275\u0275reference":Zl,"\u0275\u0275elementHostAttrs":Eh,"\u0275\u0275classMap":ph,"\u0275\u0275styling":ch,"\u0275\u0275styleMap":fh,"\u0275\u0275styleProp":hh,"\u0275\u0275styleSanitizer":nh,"\u0275\u0275stylingApply":mh,"\u0275\u0275classProp":dh,"\u0275\u0275select":Vu,"\u0275\u0275template":Gl,"\u0275\u0275text":Yh,"\u0275\u0275textBinding":Xh,"\u0275\u0275textInterpolate":Zh,"\u0275\u0275textInterpolate1":Jh,"\u0275\u0275textInterpolate2":ed,"\u0275\u0275textInterpolate3":td,"\u0275\u0275textInterpolate4":nd,"\u0275\u0275textInterpolate5":rd,"\u0275\u0275textInterpolate6":id,"\u0275\u0275textInterpolate7":od,"\u0275\u0275textInterpolate8":sd,"\u0275\u0275textInterpolateV":ad,"\u0275\u0275embeddedViewStart":Sh,"\u0275\u0275embeddedViewEnd":Ih,"\u0275\u0275i18n":Ug,"\u0275\u0275i18nAttributes":$g,"\u0275\u0275i18nExp":zg,"\u0275\u0275i18nStart":Rg,"\u0275\u0275i18nEnd":Fg,"\u0275\u0275i18nApply":Gg,"\u0275\u0275i18nPostprocess":Lg,"\u0275\u0275i18nLocalize":ey,"\u0275\u0275resolveWindow":An,"\u0275\u0275resolveDocument":Tn,"\u0275\u0275resolveBody":Dn,"\u0275\u0275setComponentScope":cn,"\u0275\u0275setNgModuleScope":fn,"\u0275\u0275sanitizeHtml":so,"\u0275\u0275sanitizeStyle":ao,"\u0275\u0275defaultStyleSanitizer":po,"\u0275\u0275sanitizeResourceUrl":co,"\u0275\u0275sanitizeScript":lo,"\u0275\u0275sanitizeUrl":uo,"\u0275\u0275sanitizeUrlOrResourceUrl":fo}))(),ov=[],sv=[];let av=!1;function uv(){if(!av){av=!0;try{for(let e=sv.length-1;e>=0;e--){const{moduleType:t,ngModule:n}=sv[e];n.declarations&&n.declarations.every(cv)&&(sv.splice(e,1),mv(t,n))}}finally{av=!1}}}function cv(e){return Array.isArray(e)?e.every(cv):!!L(e)}function lv(e,t={}){hv(e,t),function(e,t){sv.push({moduleType:e,ngModule:t})}(e,t)}function hv(e,t,n=!1){const r=lg(t.declarations||ov);let i=null;Object.defineProperty(e,nn,{configurable:!0,get:()=>(null===i&&(i=$().compileNgModule(iv,`ng:///${e.name}/ngModuleDef.js`,{type:e,bootstrap:lg(t.bootstrap||ov).map(L),declarations:r.map(L),imports:lg(t.imports||ov).map(L).map(vv),exports:lg(t.exports||ov).map(L).map(vv),emitInline:!0,schemas:t.schemas?lg(t.schemas):null,id:t.id||null})),i)});let o=null;Object.defineProperty(e,x,{get:()=>{if(null===o){const n={name:e.name,type:e,deps:_e(e),providers:t.providers||ov,imports:[(t.imports||ov).map(L),(t.exports||ov).map(L)]};o=$().compileInjector(iv,`ng:///${e.name}/ngInjectorDef.js`,n)}return o},configurable:!1})}let dv=new Map,fv=new Map;function pv(){dv=new Map,fv=new Map,sv.length=0}function mv(e,t){const n=lg(t.declarations||ov),r=yv(e);n.forEach(t=>{t.hasOwnProperty(Jt)?gv(vn(t),r):t.hasOwnProperty(en)||t.hasOwnProperty(tn)||(t.ngSelectorScope=e)})}function gv(e,t){e.directiveDefs=()=>Array.from(t.compilation.directives).map(e=>e.hasOwnProperty(Jt)?vn(e):bn(e)).filter(e=>!!e),e.pipeDefs=()=>Array.from(t.compilation.pipes).map(e=>wn(e)),e.schemas=t.schemas,e.tView=null}function yv(e,t){if(!bv(e))throw new Error(`${e.name} does not have an ngModuleDef`);const n=_n(e);if(null!==n.transitiveCompileScopes)return n.transitiveCompileScopes;const r={schemas:n.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return kn(n.declarations).forEach(e=>{wn(e)?r.compilation.pipes.add(e):r.compilation.directives.add(e)}),kn(n.imports).forEach(e=>{const n=e;if(!bv(n))throw new Error(`Importing ${n.name} which does not have an ngModuleDef`);t&&t(n);const i=yv(n,t);i.exported.directives.forEach(e=>r.compilation.directives.add(e)),i.exported.pipes.forEach(e=>r.compilation.pipes.add(e))}),kn(n.exports).forEach(e=>{const n=e;if(bv(n)){const e=yv(n,t);e.exported.directives.forEach(e=>{r.compilation.directives.add(e),r.exported.directives.add(e)}),e.exported.pipes.forEach(e=>{r.compilation.pipes.add(e),r.exported.pipes.add(e)})}else wn(n)?r.exported.pipes.add(n):r.exported.directives.add(n)}),n.transitiveCompileScopes=r,r}function vv(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function bv(e){return!!_n(e)}function wv(e,t){let n=null;!function(e,t){Gt(t)&&(Ht.set(e,t),zt.add(e))}(e,t),Object.defineProperty(e,Jt,{get:()=>{const r=$();if(null===n){if(Gt(t)){const n=[`Component '${e.name}' is not resolved:`];throw t.templateUrl&&n.push(` - templateUrl: ${t.templateUrl}`),t.styleUrls&&t.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(t.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=t.templateUrl||`ng:///${e.name}/template.html`,o=Object.assign({},Cv(e,t),{typeSourceSpan:r.createParseSourceSpan("Component",e.name,i),template:t.template||"",preserveWhitespaces:t.preserveWhitespaces||!1,styles:t.styles||Zt,animations:t.animations,directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:t.encapsulation||Kt.Emulated,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(o.usesInheritance&&Sv(e),n=r.compileComponent(iv,i,o),uv(),function(e){return void 0!==e.ngSelectorScope}(e)){const t=yv(e.ngSelectorScope);gv(n,t)}}return n},configurable:!1}),Se(e)}function Ev(e,t){let n=null;Object.defineProperty(e,en,{get:()=>{if(null===n){const r=e&&e.name,i=`ng:///${r}/ngDirectiveDef.js`,o=$(),s=Cv(e,t);s.typeSourceSpan=o.createParseSourceSpan("Directive",r,i),s.usesInheritance&&Sv(e),n=o.compileDirective(iv,i,s)}return n},configurable:!1}),Se(e)}function _v(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function Cv(e,t){const n=Ee().ownPropMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:t.selector,deps:_e(e),host:t.host||Xt,propMetadata:n,inputs:t.inputs||Zt,outputs:t.outputs||Zt,queries:Dv(e,n,Nv),lifecycle:{usesOnChanges:e.prototype.hasOwnProperty("ngOnChanges")},typeSourceSpan:null,usesInheritance:!_v(e),exportAs:(r=t.exportAs,void 0===r?null:r.split(",").map(e=>e.trim())),providers:t.providers||null,viewQueries:Dv(e,n,Ov)};var r}function Sv(e){const t=Object.prototype;let n=Object.getPrototypeOf(e);for(;n&&n!==t;){if(!bn(n)&&!vn(n)&&!En(n)){const e=Av(n);e&&Iv(n,e)}n=Object.getPrototypeOf(n)}}function Iv(e,t){let n=null;Object.defineProperty(e,on,{get:()=>{if(null===n){const r=`ng://${e&&e.name}/ngBaseDef.js`,i=$();n=i.compileBase(iv,r,t)}return n},configurable:!1})}function Av(e){const t=Ee().ownPropMetadata(e),n=Dv(e,t,Ov),r=Dv(e,t,Nv);let i,o,s=!1;for(const a in t)t[a].forEach(e=>{const t=e.ngMetadataName;"Input"===t?(i=i||{})[a]=e.bindingPropertyName?[e.bindingPropertyName,a]:a:"Output"===t?(o=o||{})[a]=e.bindingPropertyName||a:"HostBinding"!==t&&"HostListener"!==t||(s=!0)});return i||o||n.length||r.length||s?{name:e.name,inputs:i,outputs:o,viewQueries:n,queries:r,propMetadata:t}:null}function Tv(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?n.split(",").map(e=>e.trim()):L(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null,static:!!t.static};var n}function Dv(e,t,n){const r=[];for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];o.forEach(t=>{if(n(t)){if(!t.selector)throw new Error(`Can't construct a query for the property "${i}" of `+`"${Sn(e)}" since the query selector wasn't defined.`);if(o.some(kv))throw new Error("Cannot combine @Input decorators with query decorators");r.push(Tv(i,t))}})}return r}function Nv(e){const t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Ov(e){const t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}function kv(e){return"Input"===e.ngMetadataName}function xv(e,t){let n=null;Object.defineProperty(e,tn,{get:()=>{if(null===n){const r=e.name;n=$().compilePipe(iv,`ng:///${r}/ngPipeDef.js`,{type:e,typeArgumentCount:0,name:r,deps:_e(e),pipeName:t.name,pure:void 0===t.pure||t.pure})}return n},configurable:!1})}const Rv=f("Directive",(e={})=>e,void 0,void 0,(e,t)=>Hv(e,t)),Pv=f("Component",(e={})=>Object.assign({changeDetection:Vt.Default},e),Rv,void 0,(e,t)=>qv(e,t)),Mv=f("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>zv(e,t)),Lv=g("Input",e=>({bindingPropertyName:e})),Fv=g("Output",e=>({bindingPropertyName:e})),jv=g("HostBinding",e=>({hostPropertyName:e})),Bv=g("HostListener",(e,t)=>({eventName:e,args:t})),Vv=wv,Uv=Ev,$v=xv,qv=mf,Hv=mf,zv=mf,Gv=f("NgModule",e=>e,void 0,void 0,(e,t)=>Qv(e,t)),Wv=lv,Qv=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=D({factory:xe(e,{useClass:e}),providers:t&&t.providers,imports:n})},Kv=new q("Application Initializer");let Yv=(()=>(class{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Th(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}))();const Xv=new q("AppId");function Zv(){return`${eb()}${eb()}${eb()}`}const Jv={provide:Xv,useFactory:Zv,deps:[]};function eb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tb=new q("Platform Initializer"),nb=new q("Platform ID"),rb=new q("appBootstrapListener"),ib=new q("Application Packages Root URL");let ob=(()=>(class{log(e){console.log(e)}warn(e){console.warn(e)}}))();const sb=new q("LocaleId"),ab=new q("Translations"),ub=new q("TranslationsFormat"),cb=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}();class lb{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}function hb(){throw new Error("Runtime compiler is not loaded")}const db=function(e){return new hy(e)},fb=hb,pb=function(e){return Promise.resolve(db(e))},mb=hb,gb=function(e){const t=db(e),n=kn(_n(e).declarations).reduce((e,t)=>{const n=vn(t);return n&&e.push(new tg(n)),e},[]);return new lb(t,n)},yb=hb,vb=function(e){return Promise.resolve(gb(e))},bb=hb;let wb=(()=>(class{constructor(){this.compileModuleSync=fb,this.compileModuleAsync=mb,this.compileModuleAndAllComponentsSync=yb,this.compileModuleAndAllComponentsAsync=bb}clearCache(){}clearCacheFor(e){}getModuleId(e){}}))();const Eb=new q("compilerOptions");class _b{}let Cb,Sb;function Ib(){const e=U.wtf;return!(!e||!(Cb=e.trace)||(Sb=Cb.events,0))}function Ab(e,t=null){return Sb.createScope(e,t)}function Tb(e,t){return Cb.leaveScope(e,t),t}function Db(e,t){return Cb.beginTimeRange(e,t)}function Nb(e){Cb.endTimeRange(e)}const Ob=Ib();function kb(e,t){return null}const xb=Ob?Ab:(e,t)=>kb,Rb=Ob?Tb:(e,t)=>t,Pb=Ob?Db:(e,t)=>null,Mb=Ob?Nb:e=>null,Lb=(()=>Promise.resolve(0))();function Fb(e){"undefined"==typeof Zone?Lb.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jb{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ky(!1),this.onMicrotaskEmpty=new ky(!1),this.onStable=new ky(!1),this.onError=new ky(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return $b(t),e.invokeTask(r,i,o,s)}finally{qb(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return $b(t),e.invoke(r,i,o,s,a)}finally{qb(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Ub(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jb.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jb.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Vb,Bb,Bb);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Bb(){}const Vb={};function Ub(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $b(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qb(e){e._nesting--,Ub(e)}class Hb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ky,this.onMicrotaskEmpty=new ky,this.onStable=new ky,this.onError=new ky}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}let zb=(()=>(class{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jb.assertNotInAngularZone(),Fb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fb(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}))(),Gb=(()=>{class e{constructor(){this._applications=new Map,Yb.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Yb.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class Wb{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Qb(e){Yb=e}let Kb,Yb=new Wb;function Xb(e,t,n){const r=new hy(n);if(0===Ht.size)return Promise.resolve(r);const i=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(e.get(Eb,[]).concat(t).map(e=>e.providers));if(0===i.length)return Promise.resolve(r);const o=$(),s=et.create({providers:i}).get(o.ResourceLoader);return qt(e=>Promise.resolve(s.get(e))).then(()=>r)}let Zb=function(e){return e instanceof af};function Jb(e){return e.isBoundToModule}const ew=new q("AllowMultipleToken");class tw{constructor(e,t){this.name=e,this.token=t}}function nw(e){if(Kb&&!Kb.destroyed&&!Kb.injector.get(ew,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kb=e.get(aw);const t=e.get(tb,null);return t&&t.forEach(e=>e()),Kb}function rw(e,t,n=[]){const r=`Platform: ${t}`,i=new q(r);return(t=[])=>{let o=sw();if(!o||o.injector.get(ew,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});nw(et.create({providers:e,name:r}))}return iw(i)}}function iw(e){const t=sw();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function ow(){Kb&&!Kb.destroyed&&Kb.destroy()}function sw(){return Kb&&!Kb.destroyed?Kb:null}let aw=(()=>(class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new Hb:("zone.js"===i?void 0:i)||new jb({enableLongStackTrace:Oi()}),r=[{provide:jb,useValue:n}];var i;return n.run(()=>{const t=et.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Cs,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ry(i.injector.get(sb,ty)),i.onDestroy(()=>lw(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return Th(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Yv);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=uw({},t);return function(e,t,n){return e.get(_b).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(cw);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${R(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}))();function uw(e,t){return Array.isArray(t)?t.reduce(uw,e):Object.assign({},e,t)}let cw=(()=>{class e{constructor(e,t,n,r,i,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Oi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new o.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),d=new o.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jb.assertNotInAngularZone(),Fb(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{jb.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return Object(s.a)(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof o.a?e[0]:Object(a.a)(t)(Object(u.a)(e,n))}(h,d.pipe(Object(c.a)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Xd?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Zb(n)?null:this._injector.get(uf),i=n.create(et.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(zb,null);return o&&i.injector.get(Gb).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Oi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Rb(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;lw(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(rb,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),lw(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=xb("ApplicationRef#tick()"),e})();function lw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class hw{}function dw(e){const t=uy(e);if(!t)throw mw(e);return t}function fw(e){const t=uy(e);if(!t)throw mw(e);return new hy(t)}const pw=dw;function mw(e){return new Error(`No module with ID ${e} loaded`)}const gw=!0,yw=!1;class vw{}const bw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ww=(()=>(class{constructor(e,t){this._compiler=e,this._config=t||bw}load(e){return!yw&&this._compiler instanceof wb?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Ew(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Ew(e,t,r))}}))();function Ew(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class _w extends $f{}class Cw extends _w{}class Sw{constructor(e,t){this.name=e,this.callback=t}}class Iw{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof Aw&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Aw extends Iw{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof Aw&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof Aw&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof Aw&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Aw)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}function Tw(e){return e.map(e=>e.nativeElement)}class Dw{constructor(e){this.nativeNode=e}get parent(){const e=this.nativeNode.parentNode;return e?new Nw(e):null}get injector(){return pd(this.nativeNode)}get componentInstance(){const e=this.nativeNode;return e&&(ld(e)||dd(e))}get context(){return hd(this.nativeNode)}get listeners(){return wd(this.nativeNode).filter(bd)}get references(){return function(e){const t=gd(e);return void 0===t.localRefs&&(t.localRefs=function(e,t){const n=e[Rn].data[t];if(n&&n.localNames){const t={};let r=n.index+1;for(let i=0;i<n.localNames.length;i+=2)t[n.localNames[i]]=e[r],r++;return t}return null}(t.lView,t.nodeIndex)),t.localRefs||{}}(this.nativeNode)}get providerTokens(){return function(e){const t=gd(e,!1);if(!t)return[];const n=t.lView[Rn],r=n.data[t.nodeIndex],i=[],o=r.directiveEnd;for(let a=65535&r.providerIndexes;a<o;a++){let e=n.data[a];void 0!==(s=e).type&&void 0!==s.template&&void 0!==s.declaredInputs&&(e=e.type),i.push(e)}var s;return i}(this.nativeNode)}}class Nw extends Dw{constructor(e){super(e)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){return this.nativeElement.nodeName}get properties(){const e=gd(this.nativeNode),t=e.lView,n=t[Rn].data,r=n[e.nodeIndex],i=function(e,t,n){const r={};let i=function(e,t){let n=e-1,r=t[n];for(;"string"==typeof r&&!On(r);)r=t[--n];return n+1}(e.propertyMetadataStartIndex,n);for(;i<e.propertyMetadataEndIndex;){let e,o=n[i];for(;!On(o);)e=(e||"")+Cn(t[i])+n[i],o=n[++i];e=void 0===e?t[i]:e+=t[i];const s=o.split(Nn),a=s[0];a&&(r[a]=s[1]&&s[2]?s[1]+e+s[2]:e),i++}return r}(r,t,n),o=function(e,t,n){const r={};let i=e.directiveEnd,o=n[i];for(;"string"==typeof o;)r[o.split(Nn)[0]]=t[i],o=n[++i];return r}(r,t,n),s=function(e){const t=e.classes;let n="";for(const r of Object.keys(t))t[r]&&(n=n?n+` ${r}`:r);return n}(this),a=Object.assign({},i,o);return s&&(a.className=a.className?a.className+` ${s}`:s),a}get attributes(){const e={},t=this.nativeElement;if(!t)return e;const n=gd(t),r=n.lView[Rn].data[n.nodeIndex].attrs,i=[];if(r){let t=0;for(;t<r.length;){const n=r[t];if("string"!=typeof n)break;e[n]=r[t+1],i.push(n.toLowerCase()),t+=2}}const o=t.attributes;for(let s=0;s<o.length;s++){const t=o[s];-1===i.indexOf(t.name)&&(e[t.name]=t.value)}return e}get classes(){const e={},t=this.nativeElement;if(t){const n=vd(t),r=Fo(n.nodeIndex,n.lView);if(r){for(let t=10;t<r.length;t+=4)if(Qs(r,t)){const n=da(r,t),i=ha(r,t);"boolean"==typeof i&&(e[n]=i)}}else{const n=t.classList;for(let t=0;t<n.length;t++)e[n[t]]=!0}}return e}get styles(){const e={},t=this.nativeElement;if(t){const n=vd(t),r=Fo(n.nodeIndex,n.lView);if(r){for(let t=10;t<r.length;t+=4)if(!Qs(r,t)){const n=da(r,t),i=ha(r,t);null!==i&&(e[n]=i)}}else{const n=t.style;for(let t=0;t<n.length;t++){const r=n.item(t);e[r]=n.getPropertyValue(r)}}}return e}get childNodes(){const e=this.nativeNode.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(Lw(e[n]));return t}get children(){const e=this.nativeElement;if(!e)return[];const t=e.children,n=[];for(let r=0;r<t.length;r++)n.push(Lw(t[r]));return n}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return Ow(this,e,t,!0),t}queryAllNodes(e){const t=[];return Ow(this,e,t,!1),t}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name===e&&n.callback(t)})}}function Ow(e,t,n,r){const i=gd(e.nativeNode);kw(i.lView[Rn].data[i.nodeIndex],i.lView,t,n,r,e.nativeNode)}function kw(e,t,n,r,i,o){const s=ur(e,t);if(3===e.type||4===e.type){if(Rw(s,n,r,i,o),fr(e)){const s=hr(e.index,t);s&&s[Rn].firstChild&&kw(s[Rn].firstChild,s,n,r,i,o)}else e.child&&kw(e.child,t,n,r,i,o);const a=t[e.index];or(a)&&xw(a,n,r,i,o)}else if(0===e.type){const s=t[e.index];Rw(s[er],n,r,i,o),xw(s,n,r,i,o)}else if(1===e.type){const s=Zo(t),a=s[jn].projection[e.projection];if(Array.isArray(a))for(let e of a)Rw(e,n,r,i,o);else if(a){const e=s[Mn];kw(e[Rn].data[a.index],e,n,r,i,o)}}else e.child&&kw(e.child,t,n,r,i,o);if(o!==s){const s=2&e.flags?e.projectionNext:e.next;s&&kw(s,t,n,r,i,o)}}function xw(e,t,n,r,i){for(let o=tr;o<e.length;o++){const s=e[o];kw(s[Rn].node,s,t,n,r,i)}}function Rw(e,t,n,r,i){if(i!==e){const i=Fw(e);i&&(!r||i instanceof Nw)&&t(i)&&n.push(i)}}const Pw=new Map,Mw="__ng_debug__";function Lw(e){return e instanceof Node?(e.hasOwnProperty(Mw)||(e[Mw]=e.nodeType==Node.ELEMENT_NODE?new Nw(e):new Dw(e)),e[Mw]):null}const Fw=function(e){return Pw.get(e)||null};function jw(e){Pw.set(e.nativeNode,e)}const Bw=Iw,Vw=Aw,Uw=rw(null,"core",[{provide:nb,useValue:"unknown"},{provide:aw,deps:[et]},{provide:Gb,deps:[]},{provide:ob,deps:[]}]);function $w(){return Gf}function qw(){return Wf}function Hw(e){return e||"en-US"}const zw=[{provide:cw,useClass:cw,deps:[jb,ob,et,Cs,of,Yv]},{provide:eg,deps:[jb],useFactory:Gw},{provide:Yv,useClass:Yv,deps:[[new v,Kv]]},{provide:wb,useClass:wb,deps:[]},Jv,{provide:Vf,useFactory:$w,deps:[]},{provide:Uf,useFactory:qw,deps:[]},{provide:sb,useFactory:Hw,deps:[[new y(sb),new v,new w]]}];function Gw(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let Ww=(()=>(class{constructor(e){}}))();function Qw(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:u}=xp(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Lp(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dp},provider:null,text:null,query:null,ngContent:null}}function Kw(e,t,n,r,i,o,s=[],a,u,c,l,h){c||(c=dp);const{matchedQueries:d,references:f,matchedQueryIds:p}=xp(n);let m=null,g=null;o&&([m,g]=qp(o)),a=a||[];const y=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[r,i]=qp(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}y[w]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}u=u||[];const v=new Array(u.length);for(let w=0;w<u.length;w++){const[e,t]=u[w];v[w]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=qp(e);return[n,r,t]});return h=function(e){if(e&&e.id===gp){const t=null!=e.encapsulation&&e.encapsulation!==Kt.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${bp++}`:yp}return e&&e.id===yp&&(e=null),e||null}(h),l&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Hp(y),outputs:v,element:{ns:m,name:g,attrs:b,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||dp},provider:null,text:null,query:null,ngContent:null}}function Yw(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Pp(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Kt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function Xw(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],u=Zw(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let c=a.target,l=e;"component"===a.target&&(c=null,l=t);const h=l.renderer.listen(c||r,a.eventName,u);e.disposables[n.outputIndex+s]=h}var i,o}function Zw(e,t,n){return r=>Ip(e,t,n,r)}function Jw(e,t,n,r){if(!Ep(e,t,n,r))return!1;const i=t.bindings[n],o=sp(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const u=e.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(to.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function eE(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:kp(t),bindings:r},ngContent:null}}function tE(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Op(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&cp(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&cp(e,n).setDirty(),n+=t.childCount}}function nE(e,t){const n=cp(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=rE(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=ap(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=rE(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function rE(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(iE(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=sp(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(rE(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=Ap(o);s&&s===n&&rE(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];rE(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function iE(e,t,n){if(null!=n)switch(n){case 1:return sp(e,t.nodeIndex).renderElement;case 0:return new gf(sp(e,t.nodeIndex).renderElement);case 2:return sp(e,t.nodeIndex).template;case 3:return sp(e,t.nodeIndex).viewContainer;case 4:return ap(e,t.nodeIndex).instance}}function oE(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function sE(e,t,n){const r=Pp(e,t,n);r&&Bp(e,n.ngContent.index,1,r,null,void 0)}function aE(e,t){return lE(128,e,new Array(t+1))}function uE(e,t){return lE(32,e,new Array(t))}function cE(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const e=n[o];i[t[e]]=e}return lE(64,e,i)}function lE(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Hp(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function hE(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function dE(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=Pp(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function fE(e,t){return(null!=e?e.toString():"")+t.suffix}function pE(e,t,n,r){let i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=c,e.bindingIndex=i,e.outputIndex=o,e.renderParent=l,s|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(gE(c,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!l&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?c.element.publicProviders[pp(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[pp(e.provider.token)]=e),t&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,mE(e)||(l=e);else for(;c&&p===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),l=(c=e)&&mE(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||dp,updateRenderer:r||dp,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function mE(e){return 0!=(1&e.flags)&&null===e.element.name}function gE(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function yE(e,t,n,r){const i=wE(e.root,e.renderer,e,t,n);return EE(i,e.component,r),_E(i),i}function vE(e,t,n){const r=wE(e,e.renderer,null,null,t);return EE(r,n,n),_E(r),r}function bE(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,wE(e.root,o,e,t.element.componentProvider,n)}function wE(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function EE(e,t,n){e.component=t,e.context=n}function _E(e){let t;Np(e)&&(t=sp(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(hp.setCurrentNode(e,i),201347067&o.flags){case 1:const n=Yw(e,t,o);let a=void 0;if(33554432&o.flags){const t=Lp(o.element.componentView);a=hp.createComponentView(e,o,t,n)}Xw(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?vm(e,o):void 0},16777216&o.flags&&(s.viewContainer=pm(e,o,s));break;case 2:s=dE(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Bm(e,o)});break;case 16:s={instance:Vm(e,o)};break;case 16384:(s=r[i])||(s={instance:Um(e,o)}),32768&o.flags&&EE(sp(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Ry;break;case 8:sE(e,t,o),s=void 0}r[i]=s}kE(e,OE.CreateViewNodes),ME(e,201326592,268435456,0)}function CE(e){AE(e),hp.updateDirectives(e,1),xE(e,OE.CheckNoChanges),hp.updateRenderer(e,1),kE(e,OE.CheckNoChanges),e.state&=-97}function SE(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,rp(e,0,256),AE(e),hp.updateDirectives(e,0),xE(e,OE.CheckAndUpdate),ME(e,67108864,536870912,0);let t=rp(e,256,512);Km(e,2097152|(t?1048576:0)),hp.updateRenderer(e,0),kE(e,OE.CheckAndUpdate),ME(e,134217728,536870912,0),Km(e,8388608|((t=rp(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,rp(e,768,1024)}function IE(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;let f=!1;return d>0&&Jw(e,t,0,n)&&(f=!0),d>1&&Jw(e,t,1,r)&&(f=!0),d>2&&Jw(e,t,2,i)&&(f=!0),d>3&&Jw(e,t,3,o)&&(f=!0),d>4&&Jw(e,t,4,s)&&(f=!0),d>5&&Jw(e,t,5,a)&&(f=!0),d>6&&Jw(e,t,6,u)&&(f=!0),d>7&&Jw(e,t,7,c)&&(f=!0),d>8&&Jw(e,t,8,l)&&(f=!0),d>9&&Jw(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,u,c,l,h);case 2:return function(e,t,n,r,i,o,s,a,u,c,l,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&Ep(e,t,0,n)&&(d=!0),p>1&&Ep(e,t,1,r)&&(d=!0),p>2&&Ep(e,t,2,i)&&(d=!0),p>3&&Ep(e,t,3,o)&&(d=!0),p>4&&Ep(e,t,4,s)&&(d=!0),p>5&&Ep(e,t,5,a)&&(d=!0),p>6&&Ep(e,t,6,u)&&(d=!0),p>7&&Ep(e,t,7,c)&&(d=!0),p>8&&Ep(e,t,8,l)&&(d=!0),p>9&&Ep(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=fE(n,f[0])),p>1&&(d+=fE(r,f[1])),p>2&&(d+=fE(i,f[2])),p>3&&(d+=fE(o,f[3])),p>4&&(d+=fE(s,f[4])),p>5&&(d+=fE(a,f[5])),p>6&&(d+=fE(u,f[6])),p>7&&(d+=fE(c,f[7])),p>8&&(d+=fE(l,f[8])),p>9&&(d+=fE(h,f[9]));const m=op(e,t.nodeIndex).renderText;e.renderer.setValue(m,d)}return d}(e,t,n,r,i,o,s,a,u,c,l,h);case 16384:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=ap(e,t.nodeIndex),f=d.instance;let p=!1,m=void 0;const g=t.bindings.length;return g>0&&wp(e,t,0,n)&&(p=!0,m=Qm(e,d,t,0,n,m)),g>1&&wp(e,t,1,r)&&(p=!0,m=Qm(e,d,t,1,r,m)),g>2&&wp(e,t,2,i)&&(p=!0,m=Qm(e,d,t,2,i,m)),g>3&&wp(e,t,3,o)&&(p=!0,m=Qm(e,d,t,3,o,m)),g>4&&wp(e,t,4,s)&&(p=!0,m=Qm(e,d,t,4,s,m)),g>5&&wp(e,t,5,a)&&(p=!0,m=Qm(e,d,t,5,a,m)),g>6&&wp(e,t,6,u)&&(p=!0,m=Qm(e,d,t,6,u,m)),g>7&&wp(e,t,7,c)&&(p=!0,m=Qm(e,d,t,7,c,m)),g>8&&wp(e,t,8,l)&&(p=!0,m=Qm(e,d,t,8,l,m)),g>9&&wp(e,t,9,h)&&(p=!0,m=Qm(e,d,t,9,h,m)),m&&f.ngOnChanges(m),65536&t.flags&&ip(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&Ep(e,t,0,n)&&(f=!0),p>1&&Ep(e,t,1,r)&&(f=!0),p>2&&Ep(e,t,2,i)&&(f=!0),p>3&&Ep(e,t,3,o)&&(f=!0),p>4&&Ep(e,t,4,s)&&(f=!0),p>5&&Ep(e,t,5,a)&&(f=!0),p>6&&Ep(e,t,6,u)&&(f=!0),p>7&&Ep(e,t,7,c)&&(f=!0),p>8&&Ep(e,t,8,l)&&(f=!0),p>9&&Ep(e,t,9,h)&&(f=!0),f){const f=up(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(d.length),p>0&&(m[0]=n),p>1&&(m[1]=r),p>2&&(m[2]=i),p>3&&(m[3]=o),p>4&&(m[4]=s),p>5&&(m[5]=a),p>6&&(m[6]=u),p>7&&(m[7]=c),p>8&&(m[8]=l),p>9&&(m[9]=h);break;case 64:m={},p>0&&(m[d[0].name]=n),p>1&&(m[d[1].name]=r),p>2&&(m[d[2].name]=i),p>3&&(m[d[3].name]=o),p>4&&(m[d[4].name]=s),p>5&&(m[d[5].name]=a),p>6&&(m[d[6].name]=u),p>7&&(m[d[7].name]=c),p>8&&(m[d[8].name]=l),p>9&&(m[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:m=e.transform(n);break;case 2:m=e.transform(r);break;case 3:m=e.transform(r,i);break;case 4:m=e.transform(r,i,o);break;case 5:m=e.transform(r,i,o,s);break;case 6:m=e.transform(r,i,o,s,a);break;case 7:m=e.transform(r,i,o,s,a,u);break;case 8:m=e.transform(r,i,o,s,a,u,c);break;case 9:m=e.transform(r,i,o,s,a,u,c,l);break;case 10:m=e.transform(r,i,o,s,a,u,c,l,h)}}f.value=m}return f}(e,t,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Jw(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Ep(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=fE(n[e],r[e]);i=t.text.prefix+i;const o=op(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=ap(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)wp(e,t,a,n[a])&&(o=!0,s=Qm(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&ip(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Ep(e,t,o,n[o])&&(i=!0);if(i){const i=up(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function AE(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=sp(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Sp(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function TE(e,t,n,r,i,o,s,a,u,c,l,h,d){return 0===n?function(e,t,n,r,i,o,s,a,u,c,l,h){const d=t.bindings.length;d>0&&_p(e,t,0,n),d>1&&_p(e,t,1,r),d>2&&_p(e,t,2,i),d>3&&_p(e,t,3,o),d>4&&_p(e,t,4,s),d>5&&_p(e,t,5,a),d>6&&_p(e,t,6,u),d>7&&_p(e,t,7,c),d>8&&_p(e,t,8,l),d>9&&_p(e,t,9,h)}(e,t,r,i,o,s,a,u,c,l,h,d):function(e,t,n){for(let r=0;r<n.length;r++)_p(e,t,r,n[r])}(e,t,r),!1}function DE(e,t){if(cp(e,t.nodeIndex).dirty)throw ep(hp.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function NE(e){if(!(128&e.state)){if(xE(e,OE.Destroy),kE(e,OE.Destroy),Km(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Ap(e);if(t){const n=t.template._projectedViews;n&&(um(n,n.indexOf(e)),hp.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(sp(e,n).renderElement):2&t.flags?e.renderer.destroyNode(op(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&cp(e,n).destroy()}}(e),Np(e)&&e.renderer.destroy(),e.state|=128}}const OE=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function kE(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?RE(sp(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function xE(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=sp(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)RE(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function RE(e,t){const n=e.state;switch(t){case OE.CheckNoChanges:0==(128&n)&&(12==(12&n)?CE(e):64&n&&PE(e,OE.CheckNoChangesProjectedViews));break;case OE.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?CE(e):64&n&&PE(e,t));break;case OE.CheckAndUpdate:0==(128&n)&&(12==(12&n)?SE(e):64&n&&PE(e,OE.CheckAndUpdateProjectedViews));break;case OE.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?SE(e):64&n&&PE(e,t));break;case OE.Destroy:NE(e);break;case OE.CreateViewNodes:_E(e)}}function PE(e,t){xE(e,t),kE(e,t)}function ME(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(hp.setCurrentNode(e,i.nodeIndex),r){case 0:nE(e,i);break;case 1:DE(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let LE=!1;function FE(){if(LE)return;LE=!0;const e=Oi()?{setCurrentNode:s_,createRootView:BE,createEmbeddedView:UE,createComponentView:$E,createNgModuleRef:qE,overrideProvider:WE,overrideComponentView:QE,clearOverrides:KE,checkAndUpdateView:JE,checkNoChangesView:e_,destroyView:t_,createDebugContext:(e,t)=>new p_(e,t),handleEvent:a_,updateDirectives:u_,updateRenderer:c_}:{setCurrentNode:()=>{},createRootView:jE,createEmbeddedView:yE,createComponentView:bE,createNgModuleRef:Im,overrideProvider:dp,overrideComponentView:dp,clearOverrides:dp,checkAndUpdateView:SE,checkNoChangesView:CE,destroyView:NE,createDebugContext:(e,t)=>new p_(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?XE:ZE,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?XE:ZE,e)};hp.setCurrentNode=e.setCurrentNode,hp.createRootView=e.createRootView,hp.createEmbeddedView=e.createEmbeddedView,hp.createComponentView=e.createComponentView,hp.createNgModuleRef=e.createNgModuleRef,hp.overrideProvider=e.overrideProvider,hp.overrideComponentView=e.overrideComponentView,hp.clearOverrides=e.clearOverrides,hp.checkAndUpdateView=e.checkAndUpdateView,hp.checkNoChangesView=e.checkNoChangesView,hp.destroyView=e.destroyView,hp.resolveDep=Gm,hp.createDebugContext=e.createDebugContext,hp.handleEvent=e.handleEvent,hp.updateDirectives=e.updateDirectives,hp.updateRenderer=e.updateRenderer,hp.dirtyParentQueries=tE}function jE(e,t,n,r,i,o){const s=i.injector.get(Cf);return vE(VE(e,i,s,t,n),r,o)}function BE(e,t,n,r,i,o){const s=i.injector.get(Cf),a=VE(e,i,new v_(s),t,n),u=YE(r);return g_(n_.create,vE,null,[a,u,o])}function VE(e,t,n,r,i){const o=t.injector.get(no),s=t.injector.get(Cs),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function UE(e,t,n,r){const i=YE(n);return g_(n_.create,yE,null,[e,t,i,r])}function $E(e,t,n,r){return n=GE.get(t.element.componentProvider.provider.token)||YE(n),g_(n_.create,bE,null,[e,t,n,r])}function qE(e,t,n,r){return Im(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===HE.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=HE.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{zE.forEach((r,i)=>{N(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=HE.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Rp(i.deps),r.value=i.value)}if(zE.size>0){let t=new Set(e.modules);zE.forEach((r,i)=>{if(t.has(N(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Rp(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[pp(i)]=t}})}}(e=e.factory(()=>dp)),e):e}(r))}const HE=new Map,zE=new Map,GE=new Map;function WE(e){let t;HE.set(e.token,e),"function"==typeof e.token&&(t=N(e.token))&&"function"==typeof t.providedIn&&zE.set(e.token,e)}function QE(e,t){const n=Lp(hm(t)),r=Lp(n.nodes[0].element.componentView);GE.set(e,r)}function KE(){HE.clear(),zE.clear(),GE.clear()}function YE(e){if(0===HE.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&HE.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>dp);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=HE.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Rp(n.deps),e.value=n.value)}}}}function XE(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return IE(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?up(e,t).value:void 0}function ZE(e,t,n,r,i,o,s,a,u,c,l,h,d){const f=e.def.nodes[t];return TE(e,f,n,r,i,o,s,a,u,c,l,h,d),224&f.flags?up(e,t).value:void 0}function JE(e){return g_(n_.detectChanges,SE,null,[e])}function e_(e){return g_(n_.checkNoChanges,CE,null,[e])}function t_(e){return g_(n_.destroy,NE,null,[e])}const n_=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let r_,i_,o_;function s_(e,t){i_=e,o_=t}function a_(e,t,n,r){return s_(e,t),g_(n_.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function u_(e,t){if(128&e.state)throw np(n_[r_]);return s_(e,d_(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?l_(e,o,r,i):h_(e,o,r,i),16384&o.flags&&s_(e,d_(e,n)),224&o.flags?up(e,o.nodeIndex).value:void 0}),e)}function c_(e,t){if(128&e.state)throw np(n_[r_]);return s_(e,f_(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?l_(e,o,r,i):h_(e,o,r,i),3&o.flags&&s_(e,f_(e,n)),224&o.flags?up(e,o.nodeIndex).value:void 0}),e)}function l_(e,t,n,r){if(IE(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(As,(...e)=>"-"+e[1].toLowerCase())}`)]=Ts(a))}const r=t.parent,a=sp(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function h_(e,t,n,r){TE(e,t,n,...r)}function d_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function f_(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class p_{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Tp(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return sp(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return wm(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){m_(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&m_(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Np(e);)e=e.parent;return e.parent?sp(e.parent,Tp(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Dp(this.view,this.nodeDef):Dp(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):dp),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function m_(e,t,n){for(let r in t.references)n[r]=iE(e,t,t.references[r])}function g_(e,t,n,r){const i=r_,o=i_,s=o_;try{r_=e;const a=t.apply(n,r);return i_=o,o_=s,r_=i,a}catch(a){if(ws(a)||!i_)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),tp(e,t),e}(a,y_())}}function y_(){return i_?new p_(i_,o_):null}class v_{constructor(e){this.delegate=e}createRenderer(e,t){return new b_(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class b_{constructor(e){this.delegate=e,this.debugContextFactory=y_,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Pw.delete(e.nativeNode)}(Fw(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new Aw(n,null,r);t.name=e,jw(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&jw(new Iw(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&jw(new Iw(t,null,n)),t}appendChild(e,t){const n=Fw(e),r=Fw(t);n&&r&&n instanceof Aw&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=Fw(e),i=Fw(t),o=Fw(n);r&&i&&r instanceof Aw&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Fw(e),r=Fw(t);n&&r&&n instanceof Aw&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=y_();return r&&jw(new Aw(n,null,r)),n}setAttribute(e,t,n,r){const i=Fw(e);i&&i instanceof Aw&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=Fw(e);r&&r instanceof Aw&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Fw(e);n&&n instanceof Aw&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Fw(e);n&&n instanceof Aw&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=Fw(e);i&&i instanceof Aw&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=Fw(e);r&&r instanceof Aw&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=Fw(e);r&&r instanceof Aw&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=Fw(e);r&&r.listeners.push(new Sw(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function w_(e){return FE(),hp.overrideProvider(e)}function E_(e,t){return FE(),hp.overrideComponentView(e,t)}function __(){return FE(),hp.clearOverrides()}function C_(e,t,n){return new S_(e,t,n)}class S_ extends cf{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){FE();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Lp(this._ngModuleDefFactory));return hp.createNgModuleRef(this.moduleType,e||et.NULL,this._bootstrapComponents,t)}}},"9GLg":function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return S})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return d}));var r=n("pcH8");let i=0;const o=e=>({create:t=>p(e,t),dismiss:(t,n,r)=>g(document,t,n,e,r),getTop:async()=>y(document,e)}),s=o("ion-alert"),a=o("ion-action-sheet"),u=o("ion-loading"),c=o("ion-modal"),l=o("ion-picker"),h=o("ion-popover"),d=o("ion-toast"),f=e=>{const t=document;m(t);const n=i++;e.overlayIndex=n,e.hasAttribute("id")||(e.id=`ion-overlay-${n}`)},p=(e,t)=>customElements.whenDefined(e).then(()=>{const n=document,r=n.createElement(e);return r.classList.add("overlay-hidden"),Object.assign(r,t),w(n).appendChild(r),r.componentOnReady()}),m=e=>{0===i&&(i=1,e.addEventListener("focusin",t=>{const n=y(e);if(n&&n.backdropDismiss&&!I(n,t.target)){const e=n.querySelector("input,button");e&&e.focus()}}),e.addEventListener("ionBackButton",t=>{const n=y(e);n&&n.backdropDismiss&&t.detail.register(100,()=>n.dismiss(void 0,D))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=y(e);t&&t.backdropDismiss&&t.dismiss(void 0,D)}}))},g=(e,t,n,r,i)=>{const o=y(e,r,i);return o?o.dismiss(t,n):Promise.reject("overlay does not exist")},y=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},v=async(e,t,n,i,o)=>{if(e.presented)return;e.presented=!0,e.willPresent.emit();const s=e.enterAnimation?e.enterAnimation:r.b.get(t,"ios"===e.mode?n:i);await E(e,s,e.el,o)&&e.didPresent.emit()},b=async(e,t,n,i,o,s,a)=>{if(!e.presented)return!1;e.presented=!1;try{e.willDismiss.emit({data:t,role:n});const u=e.leaveAnimation?e.leaveAnimation:r.b.get(i,"ios"===e.mode?o:s);await E(e,u,e.el,a),e.didDismiss.emit({data:t,role:n})}catch(u){console.error(u)}return e.el.remove(),!0},w=e=>e.querySelector("ion-app")||e.body,E=async(e,t,i,o)=>{if(e.animation)return e.animation.destroy(),e.animation=void 0,!1;i.classList.remove("overlay-hidden");const s=i.shadowRoot||e.el;let a,u=!0;try{const e=await n.e(6).then(n.bind(null,"vK52"));a=await e.create(t,s,o)}catch(h){(a=t(s,o)).fill("both"),u=!1}e.animation=a,e.animated&&r.b.getBoolean("animated",!0)||a.duration(0),e.keyboardClose&&a.beforeAddWrite(()=>{const e=i.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const c=await a.playAsync(),l="boolean"==typeof c?c:a.hasCompleted;return u&&a.destroy(),e.animation=void 0,l},_=(e,t)=>{let n;const r=new Promise(e=>n=e);return C(e,t,e=>{n(e.detail)}),r},C=(e,t,n)=>{const r=i=>{e.removeEventListener(t,r),n(i)};e.addEventListener(t,r)},S=e=>"cancel"===e||e===D,I=(e,t)=>{for(;t;){if(t===e)return!0;t=t.parentElement}return!1},A=e=>e(),T=(e,t)=>{if("function"==typeof e)return r.b.get("_zoneGate",A)(()=>{try{return e(t)}catch(n){console.error(n)}})},D="backdrop"},"9ppp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(n=>{const r=new o.a;return r.add(t.schedule(()=>{const i=e[s.a]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a(n=>{const r=new o.a;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(Object(l.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.a](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}n.d(t,"a",(function(){return h}))},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");n.d(t,"a",(function(){return c}));let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.a?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},HPGL:function(e,t,n){"use strict";function r(){if("undefined"==typeof process){var e="undefined"!=typeof window?window:{},t=Date.now(),n=!1;e.document.addEventListener("deviceready",(function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),n=!0})),setTimeout((function(){!n&&e.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}),5e3)}}n.d(t,"a",(function(){return r}))},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},ISLE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("SF+E"),n("curK");var r=function(){return function(){}}()},IheW:function(e,t,n){"use strict";n.d(t,"k",(function(){return x})),n.d(t,"n",(function(){return F})),n.d(t,"o",(function(){return j})),n.d(t,"l",(function(){return P})),n.d(t,"m",(function(){return M})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return V})),n.d(t,"j",(function(){return B})),n.d(t,"g",(function(){return R})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return L}));var r=n("8Y7J"),i=n("LRne"),o=n("HDdC"),s=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("SVse");class l{}class h{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class f{encodeKey(e){return p(e)}encodeValue(e){return p(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function p(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class m{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new m({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function g(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function y(e){return"undefined"!=typeof Blob&&e instanceof Blob}function v(e){return"undefined"!=typeof FormData&&e instanceof FormData}class b{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new m,this.urlWithParams=t}serializeBody(){return null===this.body?null:g(this.body)||y(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:v(this.body)?null:y(this.body)?this.body.type||null:g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new b(t,n,i,{params:u,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const w=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class E{constructor(e,t=200,n="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _ extends E{constructor(e={}){super(e),this.type=w.ResponseHeader}clone(e={}){return new _({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C extends E{constructor(e={}){super(e),this.type=w.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new C({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class S extends E{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function I(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let A=(()=>(class{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof b)r=e;else{let i=void 0;i=n.headers instanceof d?n.headers:new d(n.headers);let o=void 0;n.params&&(o=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new b(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Object(i.a)(r).pipe(Object(s.a)(e=>this.handler.handle(e)));if(e instanceof b||"events"===n.observe)return o;const c=o.pipe(Object(a.a)(e=>e instanceof C));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(Object(u.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return c.pipe(Object(u.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return c.pipe(Object(u.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return c.pipe(Object(u.a)(e=>e.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new m).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,I(n,t))}post(e,t,n={}){return this.request("POST",e,I(n,t))}put(e,t,n={}){return this.request("PUT",e,I(n,t))}}))();class T{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const D=new r.InjectionToken("HTTP_INTERCEPTORS");let N=(()=>(class{intercept(e,t){return t.handle(e)}}))();const O=/^\)\]\}',?\n/;class k{}let x=(()=>(class{constructor(){}build(){return new XMLHttpRequest}}))(),R=(()=>(class{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new o.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new d(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new _({headers:o,status:t,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(O,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=e,c&&(c=!1,u={error:l,text:u})}}c?(t.next(new C({body:u,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new S({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new S({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let u=!1;const c=r=>{u||(t.next(o()),u=!0);let i={type:w.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},l=e=>{let n={type:w.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),t.next({type:w.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}))();const P=new r.InjectionToken("XSRF_COOKIE_NAME"),M=new r.InjectionToken("XSRF_HEADER_NAME");class L{}let F=(()=>(class{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c["\u0275parseCookieValue"])(e,this.cookieName),this.lastCookieString=e),this.lastToken}}))(),j=(()=>(class{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}))(),B=(()=>(class{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(D,[]);this.chain=e.reduceRight((e,t)=>new T(e,t),this.backend)}return this.chain.handle(e)}}))(),V=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:j,useClass:N}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:P,useValue:t.cookieName}:[],t.headerName?{provide:M,useValue:t.headerName}:[]]}}}return e})(),U=(()=>(class{}))()},Ji5e:function(e,t,n){},K81y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XNiG"),i=(n("3yoT"),n("meT2"),function(){function e(e,t){this.ng2PicaService=e,this.imageExifService=t}return e.prototype.resizeImage=function(e,t,n,i){var o=this;void 0===i&&(i=!1);var s=new r.a;if(this.timeAtStart=(new Date).getTime(),"image/jpeg"!==e.type&&"image/png"!==e.type)return setTimeout((function(){s.error({resizedFile:e,reason:"The provided File is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})}),0),s.asObservable();var a=new Image,u=this;return a.onload=function(){o.imageExifService.getOrientedImage(a).then((function(r){window.URL.revokeObjectURL(a.src);var o=r.width,c=r.height,l=o,h=c;l>t&&(l=t,h*=t/o),c=h,h>n&&(h=n,l*=n/c),h===r.height&&l===r.width?(s.next(e),u.logExecutionTime(i)):u.ng2PicaService.resize([e],l,h).subscribe((function(e){s.next(e),u.logExecutionTime(i)}),(function(t){s.error({resizedFile:e,reason:t,error:"PICA_ERROR"}),u.logExecutionTime(i)}))}))},a.src=window.URL.createObjectURL(e),s.asObservable()},e.prototype.logExecutionTime=function(e){e&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},e}())},"KOl+":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return b}));var r=n("HDdC"),i=n("xgIS"),o={error:"cordova_not_available"},s={error:"plugin_not_installed"};function a(e){if("undefined"!=typeof window&&window.angular){var t=window.document,n=window.angular.element(t.querySelector("[ng-app]")||t.body).injector();if(n)return n.get("$q")((function(t,n){e(t,n)}));console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise((function(t,n){e(t,n)}));console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(e,t,n,r){var i,o;void 0===r&&(r={});var s=a((function(s,a){i=r.destruct?p(e,t,n,r,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)})):p(e,t,n,r,s,a),o=a}));return i&&i.error&&(s.catch((function(){})),"function"==typeof o&&o(i.error)),s}function c(e,t,n,r){return void 0===r&&(r={}),a((function(i,o){var s=p(e,t,n,r);s?s.error?o(s.error):s.then&&s.then(i).catch(o):o({error:"unexpected_error"})}))}function l(e,t,n,i){return void 0===i&&(i={}),new r.a((function(r){var o;return(o=i.destruct?p(e,t,n,i,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)})):p(e,t,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?p(e,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):p(e,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(o)}}}))}function h(e,t){return t="undefined"!=typeof window&&t?y(window,t):t||("undefined"!=typeof window?window:{}),Object(i.a)(t,e)}function d(e,t,n){var r,i,a;return"string"==typeof e?r=e:(r=e.constructor.getPluginRef(),n=e.constructor.getPluginName(),a=e.constructor.getPluginInstallName()),!(!(i=g(r))||t&&void 0===i[t])||("undefined"!=typeof window&&window.cordova?(function(e,t,n){n?console.warn("Native: tried calling "+e+"."+n+", but the "+e+" plugin is not installed."):console.warn("Native: tried accessing the "+e+" plugin but it's not installed."),t&&console.warn("Install the "+e+" plugin: 'ionic cordova plugin add "+t+"'")}(n,a,t),s):(function(e,t){"undefined"==typeof process&&(t?console.warn("Native: tried calling "+e+"."+t+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+e+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"))}(n,t),o))}function f(e,t,n,r){if(void 0===t&&(t={}),t.sync)return e;if("reverse"===t.callbackOrder)e.unshift(r),e.unshift(n);else if("node"===t.callbackStyle)e.push((function(e,t){e?r(e):n(t)}));else if("object"===t.callbackStyle&&t.successName&&t.errorName){var i={};i[t.successName]=n,i[t.errorName]=r,e.push(i)}else if(void 0!==t.successIndex||void 0!==t.errorIndex){var o=function(){t.successIndex>e.length?e[t.successIndex]=n:e.splice(t.successIndex,0,n)},s=function(){t.errorIndex>e.length?e[t.errorIndex]=r:e.splice(t.errorIndex,0,r)};t.successIndex>t.errorIndex?(s(),o()):(o(),s())}else e.push(n),e.push(r);return e}function p(e,t,n,r,i,o){void 0===r&&(r={}),n=f(n,r,i,o);var s=d(e,t);if(!0===s){var a=g(e.constructor.getPluginRef());return a[t].apply(a,n)}return s}function m(e,t,n,r,i,o){if(void 0===r&&(r={}),n=f(n,r,i,o),function(e,t){return e._objectInstance&&(!t||void 0!==e._objectInstance[t])}(e,t))return e._objectInstance[t].apply(e._objectInstance,n)}function g(e){return"undefined"!=typeof window?y(window,e):null}function y(e,t){for(var n=t.split("."),r=e,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var v=function(e,t,n){return void 0===n&&(n={}),function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.sync?p(e,t,r,n):n.observable?l(e,t,r,n):n.eventObservable&&n.event?h(n.event,n.element):n.otherPromise?c(e,t,r,n):u(e,t,r,n)}};function b(e,t,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return m(e,t,i,n);if(n.observable)return new r.a((function(r){var o;return(o=n.destruct?m(e,t,i,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.error(e)})):m(e,t,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?m(e,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):m(e,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",e.constructor.getPluginName(),t),console.warn(o)}}}));if(n.otherPromise)return a((function(r,o){var s;(s=n.destruct?m(e,t,i,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)})):m(e,t,i,n,r,o))&&s.then?s.then(r,o):o()}));var s,u,c=a((function(r,o){s=n.destruct?m(e,t,i,n,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)})):m(e,t,i,n,r,o),u=o}));return s&&s.error&&(c.catch((function(){})),"function"==typeof u&&u(s.error)),c}}},Kqap:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(e,t,n))}}class o{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...e){let t=e[e.length-1];return Object(r.a)(t)?(e.pop(),Object(o.a)(e,t)):Object(i.a)(e)}},Lhse:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));const i=r()},Lq6m:function(e,t,n){"use strict";var r=n("KOl+");n.d(t,"a",(function(){return i}));var i=function(){function e(){}return e.installed=function(){return!0===Object(r.a)(this.pluginRef)},e.getPlugin=function(){return"undefined"!=typeof window?function(e,t){for(var n=t.split("."),r=e,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef):null},e.getPluginName=function(){return this.pluginName},e.getPluginRef=function(){return this.pluginRef},e.getPluginInstallName=function(){return this.plugin},e.getSupportedPlatforms=function(){return this.platforms||[]},e}()},MTfx:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return De})),n.d(t,"e",(function(){return xe})),n.d(t,"f",(function(){return Oe})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return Re})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return Ne})),n.d(t,"k",(function(){return Se})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return M}));var r=n("pcH8");let i,o,s,a=0,u=!1,c=!1,l=!1,h=!1,d=!1;const f=window,p=document,m={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r)},g=(()=>!!p.documentElement.attachShadow)(),y=(()=>{let e=!1;try{p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(t){}return e})(),v=(()=>{try{return new CSSStyleSheet,!0}catch(e){}return!1})(),b=new WeakMap,w=e=>b.get(e),E=(e,t)=>b.set(t.$lazyInstance$=e,t),_=(e,t)=>t in e,C=e=>console.error(e),S=new Map,I=new Map,A=(()=>f.__stencil_cssshim)(),T=[],D=[],N=[],O=(e,t)=>n=>{e.push(n),u||(u=!0,t&&4&m.$flags$?R(x):m.raf(x))},k=(e,t)=>{let n=0,r=0;for(;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(i){C(i)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},x=()=>{a++,(e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){C(t)}e.length=0})(T);const e=2==(6&m.$flags$)?performance.now()+10*Math.ceil(a*(1/22)):1/0;k(D,e),k(N,e),D.length>0&&(N.push(...D),D.length=0),(u=T.length+D.length+N.length>0)?m.raf(x):a=0},R=e=>Promise.resolve().then(e),P=O(T,!1),M=O(D,!0),L={},F=e=>null!=e,j=e=>e.toLowerCase(),B=e=>"object"==(e=typeof e)||"function"===e,V=()=>f.CSS&&f.CSS.supports&&f.CSS.supports("color","var(--c)")?Promise.resolve():n.e(19).then(n.t.bind(null,"Y3uw",7)),U="http://www.w3.org/1999/xlink",$=new WeakMap,q=(e,t,n)=>{let r=I.get(e);v&&n?(r=r||new CSSStyleSheet).replace(t):r=t,I.set(e,r)},H=(e,t,n,r)=>{let i=z(t.$tagName$,n),o=I.get(i);if(e=11===e.nodeType?e:p,o||(i=z(t.$tagName$),o=I.get(i)),o)if("string"==typeof o){let n,s=$.get(e=e.head||e);if(s||$.set(e,s=new Set),!s.has(i)){if(e.host&&(n=e.firstElementChild)&&"STYLE"===n.tagName)n.innerHTML=o;else{if(A){const e=(n=A.createHostStyle(r,i,o,!!(10&t.$flags$)))["s-sc"];e&&(i=e,s=null)}else(n=p.createElement("style")).innerHTML=o;e.insertBefore(n,e.querySelector("link"))}s&&s.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i},z=(e,t)=>"sc-"+(t?e+"-"+t:e),G=e=>e.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),W=(e,t,...n)=>{let r,i,o=null,s=!1,a=!1,u=[];const c=t=>{for(let n=0;n<t.length;n++)o=t[n],Array.isArray(o)?c(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof e&&!B(o))&&(o=String(o)),s&&a?u[u.length-1].$text$+=o:u.push(s?{$flags$:0,$text$:o}:o),a=s)};if(c(n),t){r=t.key||void 0,i=t.name;{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(t,u,K);const l={$flags$:0,$tag$:e,$children$:u.length>0?u:null,$elm$:void 0,$attrs$:t};return l.$key$=r,l.$name$=i,l},Q={},K={forEach:(e,t)=>e.map(Y).forEach(t),map:(e,t)=>e.map(Y).map(t).map(X)},Y=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),X=e=>({$flags$:0,$attrs$:e.vattrs,$children$:e.vchildren,$key$:e.vkey,$name$:e.vname,$tag$:e.vtag,$text$:e.vtext}),Z=(e,t,n,r,i,o)=>{if(n!==r)if("class"===t){const t=e.classList;J(n).forEach(e=>t.remove(e)),J(r).forEach(e=>t.add(e))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(t.startsWith("on")&&!_(e,t))t=_(e,j(t))?j(t.substring(2)):j(t[2])+t.substring(3),n&&m.rel(e,t,n,!1),r&&m.ael(e,t,r,!1);else{const n=_(e,t),a=B(r);if((n||a&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{const n=null==r?"":r;e[t]!==n&&(e[t]=n)}}catch(s){}const u=!(!i||t===(t=t.replace(/^xlink\:?/,"")));null==r||!1===r?u?e.removeAttributeNS(U,j(t)):e.removeAttribute(t):(!n||4&o||i)&&!a&&(r=!0===r?"":r.toString(),u?e.setAttributeNS(U,j(t),r):e.setAttribute(t,r))}},J=e=>e?e.split(/\s+/).filter(e=>e):[],ee=(e,t,n,r)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||L,s=t.$attrs$||L;for(r in o)r in s||Z(i,r,o[r],void 0,n,t.$flags$);for(r in s)Z(i,r,o[r],s[r],n,t.$flags$)},te=(e,t,n,r)=>{let a,u,l,f=t.$children$[n],m=0;if(c||(h=!0,"slot"===f.$tag$&&(i&&r.classList.add(i+"-s"),f.$flags$|=f.$children$?2:1)),F(f.$text$))f.$elm$=p.createTextNode(f.$text$);else if(1&f.$flags$)f.$elm$=p.createTextNode("");else{if(a=f.$elm$=d||"svg"===f.$tag$?p.createElementNS("http://www.w3.org/2000/svg",f.$tag$):p.createElement(2&f.$flags$?"slot-fb":f.$tag$),ee(null,f,d="svg"===f.$tag$||"foreignObject"!==f.$tag$&&d),F(i)&&a["s-si"]!==i&&a.classList.add(a["s-si"]=i),f.$children$)for(m=0;m<f.$children$.length;++m)(u=te(e,f,m,a))&&a.appendChild(u);"svg"===f.$tag$?d=!1:"foreignObject"===f.$elm$.tagName&&(d=!0)}return f.$elm$["s-hn"]=s,3&f.$flags$&&(f.$elm$["s-sr"]=!0,f.$elm$["s-cr"]=o,f.$elm$["s-sn"]=f.$name$||"",(l=e&&e.$children$&&e.$children$[n])&&l.$tag$===f.$tag$&&e.$elm$&&ne(e.$elm$,!1)),f.$elm$},ne=(e,t)=>{m.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==s&&e["s-ol"]&&(ae(e).insertBefore(e,se(e)),e["s-ol"].remove(),e["s-ol"]=void 0,h=!0),t&&ne(e,t)}m.$flags$&=-2},re=(e,t,n,r,i,o)=>{let a,u=e["s-cr"]&&e["s-cr"].parentNode||e;for(u.shadowRoot&&j(u.tagName)===s&&(u=u.shadowRoot);i<=o;++i)r[i]&&(a=te(null,n,i,e))&&(r[i].$elm$=a,u.insertBefore(a,se(t)))},ie=(e,t,n,r)=>{for(;t<=n;++t)F(e[t])&&(r=e[t].$elm$,de(e[t],!0),l=!0,r["s-ol"]?r["s-ol"].remove():ne(r,!0),r.remove())},oe=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),se=e=>e&&e["s-ol"]||e,ae=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,ue=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,i=t.$children$;let o;d=n&&F(n.parentNode)&&void 0!==n.ownerSVGElement,d="svg"===t.$tag$||"foreignObject"!==t.$tag$&&d,F(t.$text$)?(o=n["s-cr"])?o.parentNode.textContent=t.$text$:e.$text$!==t.$text$&&(n.textContent=t.$text$):("slot"===t.$tag$||ee(e,t,d),F(r)&&F(i)?((e,t,n,r)=>{let i,o,s=0,a=0,u=0,c=0,l=t.length-1,h=t[0],d=t[l],f=r.length-1,p=r[0],m=r[f];for(;s<=l&&a<=f;)if(null==h)h=t[++s];else if(null==d)d=t[--l];else if(null==p)p=r[++a];else if(null==m)m=r[--f];else if(oe(h,p))ue(h,p),h=t[++s],p=r[++a];else if(oe(d,m))ue(d,m),d=t[--l],m=r[--f];else if(oe(h,m))"slot"!==h.$tag$&&"slot"!==m.$tag$||ne(h.$elm$.parentNode,!1),ue(h,m),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++s],m=r[--f];else if(oe(d,p))"slot"!==h.$tag$&&"slot"!==m.$tag$||ne(d.$elm$.parentNode,!1),ue(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--l],p=r[++a];else{for(u=-1,c=s;c<=l;++c)if(t[c]&&F(t[c].$key$)&&t[c].$key$===p.$key$){u=c;break}u>=0?((o=t[u]).$tag$!==p.$tag$?i=te(t&&t[a],n,u,e):(ue(o,p),t[u]=void 0,i=o.$elm$),p=r[++a]):(i=te(t&&t[a],n,a,e),p=r[++a]),i&&ae(h.$elm$).insertBefore(i,se(h.$elm$))}s>l?re(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&ie(t,s,l)})(n,r,t,i):F(i)?(F(e.$text$)&&(n.textContent=""),re(n,null,t,i,0,i.length-1)):F(r)&&ie(r,0,r.length-1)),d&&"svg"===t.$tag$&&(d=!1)},ce=(e,t,n,r,i,o,s,a)=>{for(r=0,i=(n=e.childNodes).length;r<i;r++)if(1===(t=n[r]).nodeType){if(t["s-sr"])for(s=t["s-sn"],t.hidden=!1,o=0;o<i;o++)if(n[o]["s-hn"]!==t["s-hn"])if(a=n[o].nodeType,""!==s){if(1===a&&s===n[o].getAttribute("slot")){t.hidden=!0;break}}else if(1===a||3===a&&""!==n[o].textContent.trim()){t.hidden=!0;break}ce(t)}},le=[],he=e=>{let t,n,r,i,o=e.childNodes,s=o.length,a=0,u=0,c=0;for(s=o.length;a<s;a++){if((t=o[a])["s-sr"]&&(n=t["s-cr"]))for(i=t["s-sn"],u=(r=n.parentNode.childNodes).length-1;u>=0;u--)(n=r[u])["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||((3===(c=n.nodeType)||8===c)&&""===i||1===c&&null===n.getAttribute("slot")&&""===i||1===c&&n.getAttribute("slot")===i)&&(le.some(e=>e.$nodeToRelocate$===n)||(l=!0,n["s-sn"]=i,le.push({$slotRefNode$:t,$nodeToRelocate$:n})));1===t.nodeType&&he(t)}},de=(e,t)=>{e&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(t?null:e.$elm$),e.$children$&&e.$children$.forEach(e=>{de(e,t)}))},fe=(e,t,n,r)=>{t.$flags$|=16;const i=t.$lazyInstance$,o=()=>pe(e,t,n,i,r);let s;return r&&(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.forEach(([e,t])=>ye(i,e,t)),t.$queuedListeners$=null),s=ye(i,"componentWillLoad")),s=ve(s,()=>ye(i,"componentWillRender")),ve(s,()=>M(o))},pe=(e,t,n,r,a)=>{t.$flags$&=-17,e["s-lr"]=!1,a&&((e,t,n)=>{const r=H(g&&e.shadowRoot?e.shadowRoot:e.getRootNode(),t,n,e);10&t.$flags$&&(e["s-sc"]=r,e.classList.add(r+"-h"),2&t.$flags$&&e.classList.add(r+"-s"))})(e,n,t.$modeName$),t.$flags$|=4;try{((e,t,n,r)=>{s=j(e.tagName);const a=t.$vnode$||{$flags$:0},u=(e=>e&&e.$tag$===Q)(r)?r:W(null,null,r);if(n.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},n.$attrsToReflect$.forEach(([t,n])=>u.$attrs$[n]=e[t])),u.$tag$=null,u.$flags$|=4,t.$vnode$=u,u.$elm$=a.$elm$=e.shadowRoot||e,i=e["s-sc"],o=e["s-cr"],c=g&&0!=(1&n.$flags$),h=l=!1,ue(a,u),h){he(u.$elm$);for(let e=0;e<le.length;e++){const t=le[e];if(!t.$nodeToRelocate$["s-ol"]){const e=p.createTextNode("");e["s-nr"]=t.$nodeToRelocate$,t.$nodeToRelocate$.parentNode.insertBefore(t.$nodeToRelocate$["s-ol"]=e,t.$nodeToRelocate$)}}m.$flags$|=1;for(let e=0;e<le.length;e++){const t=le[e],n=t.$slotRefNode$.parentNode;let r=t.$slotRefNode$.nextSibling,i=t.$nodeToRelocate$["s-ol"];for(;i=i.previousSibling;){let e=i["s-nr"];if(e&&e["s-sn"]===t.$nodeToRelocate$["s-sn"]&&n===e.parentNode&&(!(e=e.nextSibling)||!e["s-nr"])){r=e;break}}(!r&&n!==t.$nodeToRelocate$.parentNode||t.$nodeToRelocate$.nextSibling!==r)&&t.$nodeToRelocate$!==r&&n.insertBefore(t.$nodeToRelocate$,r)}m.$flags$&=-2}l&&ce(u.$elm$),le.length=0})(e,t,n,r.render&&r.render())}catch(u){C(u)}t.$flags$&=-5,A&&A.updateHost(e),e["s-lr"]=!0,t.$flags$|=2,e["s-rc"].length>0&&(e["s-rc"].forEach(e=>e()),e["s-rc"].length=0),me(e,t)},me=(e,t,n)=>{if(!e["s-al"]){const r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?ye(r,"componentDidUpdate"):(t.$flags$|=64,e.classList.add("hydrated"),ye(r,"componentDidLoad"),t.$onReadyResolve$(e),i||ge()),i&&((n=i["s-al"])&&(n.delete(e),0===n.size&&(i["s-al"]=void 0,i["s-init"]())),t.$ancestorComponent$=void 0)}},ge=()=>{p.documentElement.classList.add("hydrated"),m.$flags$|=2},ye=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){C(r)}},ve=(e,t)=>e&&e.then?e.then(t):t(),be=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),i=e.prototype;if(r.forEach(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,e,{get(){return((e,t)=>w(e).$instanceValues$.get(t))(this,e)},set(n){((e,t,n,r)=>{const i=w(this),o=i.$hostElement$,s=i.$instanceValues$.get(t),a=i.$flags$;if(!((n=((e,t)=>null==e||B(e)?e:4&t?"false"!==e&&(""===e||!!e):2&t?parseFloat(e):1&t?String(e):e)(n,r.$members$[t][0]))===s||8&a&&void 0!==s)&&(i.$instanceValues$.set(t,n),i.$lazyInstance$)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.forEach(e=>{try{i.$lazyInstance$[e].call(i.$lazyInstance$,n,s,t)}catch(r){C(r)}})}2==(22&a)&&fe(o,i,r,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,e,{value(...t){const n=w(this);return n.$onReadyPromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;i.attributeChangedCallback=function(e,t,r){m.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const i=r[1]||e;return n.set(i,e),512&r[0]&&t.$attrsToReflect$.push([e,i]),i})}}return e},we=(e,t,n,r,i,o,s)=>{let a,u,c,l;if(1===o.nodeType){for((a=o.getAttribute("c-id"))&&((u=a.split("."))[0]!==s&&"0"!==u[0]||(c={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:j(o.tagName),$elm$:o},t.push(c),o.removeAttribute("c-id"),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,e=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))),l=o.childNodes.length-1;l>=0;l--)we(e,t,n,r,i,o.childNodes[l],s);if(o.shadowRoot)for(l=o.shadowRoot.childNodes.length-1;l>=0;l--)we(e,t,n,r,i,o.shadowRoot.childNodes[l],s)}else 8===o.nodeType?(u=o.nodeValue.split("."))[1]!==s&&"0"!==u[1]||(c={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:o},"t"===(a=u[0])?(c.$elm$=o.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,t.push(c),o.remove(),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c,r&&"0"===c.$depth$&&(r[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===a?(c.$tag$="slot",o["s-sn"]=u[5]?c.$name$=u[5]:"",o["s-sr"]=!0,r&&(c.$elm$=p.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),o.parentNode.insertBefore(c.$elm$,o),o.remove(),"0"===c.$depth$&&(r[c.$index$]=c.$elm$)),n.push(c),e.$children$||(e.$children$=[]),e.$children$[c.$index$]=c):"r"===a&&(r?o.remove():(i["s-cr"]=o,o["s-cn"]=!0)))):e&&"style"===e.$tag$&&(e.$children$=[{$index$:"0",$text$:o.textContent,$elm$:o}])},Ee=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)Ee(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)Ee(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-sd"]=""===n[3])}},_e=[],Ce=e=>_e.push(e),Se=e=>w(e).$modeName$,Ie=e=>{ye(e,"connectedCallback")},Ae=(e,t)=>{(t=e["s-cr"]=p.createComment(""))["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Te=(e,t={})=>{const r=[],i=t.exclude||[],o=p.head,s=f.customElements,a=o.querySelector("meta[charset]"),u=p.createElement("style");let c;Object.assign(m,t),m.$resourcesUrl$=new URL(t.resourcesUrl||"./",p.baseURI).href,t.syncQueue&&(m.$flags$|=4),m.$flags$|=2;{const e=p.querySelectorAll("style[s-id]");let t="",n=0;for(;n<e.length;n++)t+=e[n].innerHTML;for(n=0;n<e.length;n++){const r=e[n];q(r.getAttribute("s-id"),t+G(r.innerHTML),!0)}}e.forEach(e=>e[1].forEach(t=>{const o={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3],$attrsToReflect$:[],$watchers$:{}};!g&&1&o.$flags$&&(o.$flags$|=8);const a=o.$tagName$;HTMLElement,o.$lazyBundleIds$=e[0],i.includes(a)||s.get(a)||(r.push(a),s.define(a,be(class extends HTMLElement{constructor(e){super(e),e=this,this["s-lr"]=!1,this["s-rc"]=[],(e=>{{const t={$flags$:0,$hostElement$:e,$instanceValues$:new Map};t.$onReadyPromise$=new Promise(e=>t.$onReadyResolve$=e),b.set(e,t)}})(e),1&o.$flags$&&(g?e.attachShadow({mode:"open"}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){c&&(clearTimeout(c),c=null),m.jmp(()=>((e,t)=>{if(0==(1&m.$flags$)){const r=w(e);if(t.$listeners$&&(r.$rmListeners$=((e,t,n)=>{t.$queuedListeners$=t.$queuedListeners$||[];const r=n.map(([n,r,i])=>{const o=((e,t)=>4&t?p:8&t?f:32&t?p.body:16&t?e.parentElement:e)(e,n),s=((e,t)=>n=>{256&e.$flags$?e.$lazyInstance$[t](n):e.$queuedListeners$.push([t,n])})(t,i),a=(e=>y?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e))(n);return m.ael(o,r,s,a),()=>m.rel(o,r,s,a)});return()=>r.forEach(e=>e())})(e,r,t.$listeners$)),!(1&r.$flags$)){let i;if(r.$flags$|=1,i=e.getAttribute("s-id")){if(g&&1&t.$flags$){const n=H(e.shadowRoot,t,e.getAttribute("s-mode"));e.classList.remove(n+"-h"),e.classList.remove(n+"-s")}((e,t,n,r)=>{const i=e.shadowRoot,o=[],s=i?[]:null,a=r.$vnode$={$flags$:0,$tag$:t};m.$orgLocNodes$||Ee(p.body,m.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute("s-id"),we(a,o,[],s,e,e,n),o.forEach(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=m.$orgLocNodes$.get(n),o=e.$elm$;r&&(r["s-sd"]||"0"===e.$hostId$)&&r.parentNode.insertBefore(o,r.nextSibling),i||(o["s-hn"]=t,r&&(o["s-ol"]=r,o["s-ol"]["s-nr"]=o)),m.$orgLocNodes$.delete(n)}),i&&s.forEach(e=>{e&&i.appendChild(e)})})(e,t.$tagName$,i,r)}i||(4&t.$flags$||8&t.$flags$)&&Ae(e);{let t=e;for(;t=t.parentNode||t.host;)if(1===t.nodeType&&t.hasAttribute("s-id")||t["s-init"]&&!1===t["s-lr"]){r.$ancestorComponent$=t,(t["s-al"]=t["s-al"]||new Set).add(e);break}}t.$members$&&Object.entries(t.$members$).forEach(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),R(()=>(async(e,t,r,i,o)=>{if(0==(32&t.$flags$)){t.$flags$|=32,null==t.$modeName$&&(t.$modeName$="string"!=typeof r.$lazyBundleIds$?(e=>_e.map(t=>t(e)).find(e=>!!e))(e):""),(o=((e,t,r)=>{const i=e.$tagName$.replace(/-/g,"_"),o="string"!=typeof e.$lazyBundleIds$?e.$lazyBundleIds$[t.$modeName$]:e.$lazyBundleIds$,s=S.get(o);return s?s[i]:n("kLfG")(`./${o}.entry.js`).then(e=>(S.set(o,e),e[i]),C)})(r,t)).then&&(o=await o),o.isProxied||(r.$watchers$=o.watchers,be(o,r,2),o.isProxied=!0),t.$flags$|=8;try{new o(t)}catch(u){C(u)}t.$flags$&=-9,t.$flags$|=128,Ie(t.$lazyInstance$);const i=z(r.$tagName$,t.$modeName$);if(!I.has(i)&&o.style){let e=o.style;"string"!=typeof e&&(e=e[t.$modeName$]),8&r.$flags$&&(e=await n.e(104).then(n.bind(null,"ZHuR")).then(t=>t.scopeCss(e,i,!1))),q(i,e,!!(1&r.$flags$))}}const s=t.$ancestorComponent$,a=()=>fe(e,t,r,!0);s&&!1===s["s-lr"]&&s["s-rc"]?s["s-rc"].push(a):a()})(e,r,t))}Ie(r.$lazyInstance$)}})(this,o))}disconnectedCallback(){m.jmp(()=>(e=>{if(0==(1&m.$flags$)){const t=w(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$(),t.$rmListeners$=void 0),A&&A.removeHost(e),ye(n,"disconnectedCallback"),ye(n,"componentDidUnload")}})(this))}"s-init"(){const e=w(this);e.$lazyInstance$&&me(this,e)}"s-hmr"(e){}forceUpdate(){((e,t)=>{{const n=w(e);2&n.$flags$&&fe(e,n,t,!1)}})(this,o)}componentOnReady(){return w(this).$onReadyPromise$}},o,1)))})),u.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",u.setAttribute("data-styles",""),o.insertBefore(u,a?a.nextSibling:o.firstChild),m.jmp(()=>c=setTimeout(ge,30))},De=(e,t,n)=>{const r=Oe(e);return{emit:e=>r.dispatchEvent(new CustomEvent(t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e}))}},Ne=e=>{const t=new URL(e,m.$resourcesUrl$);return t.origin!==f.location.origin?t.href:t.pathname},Oe=e=>w(e).$hostElement$;let ke;const xe=e=>e&&Se(e)||ke,Re=()=>{(()=>{const e=document,t=window,n=t.Ionic=t.Ionic||{};Object(r.g)(t);const i=Object.assign({},Object(r.c)(t),{persistConfig:!1},n.config,Object(r.a)(t));r.b.reset(i),r.b.getBoolean("persistConfig")&&Object(r.d)(t,i),n.config=r.b,n.mode=ke=r.b.get("mode",e.documentElement.getAttribute("mode")||(Object(r.f)(t,"ios")?"ios":"md")),r.b.set("mode",ke),e.documentElement.setAttribute("mode",ke),e.documentElement.classList.add(ke),r.b.getBoolean("_testing")&&r.b.set("animated",!1),Ce(e=>e.mode=e.mode||e.getAttribute("mode")||ke)})(),Ce(e=>"ION-ICON"===e.tagName?e.mode||e.getAttribute("mode"):null)}},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,"a",(function(){return r}))},"Rt+L":function(e,t,n){"use strict";n("KOl+")},"SF+E":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("XNiG"),i=n("gkvR"),o=n.n(i),s=(n("curK"),function(){function e(e){this.imageExifService=e}return e.prototype.resize=function(e,t,n,i){void 0===i&&(i=!1);for(var o=new r.a,s=0;s<e.length;s++)this.resizeFile(e[s],t,n,i).then((function(e){o.next(e)})).catch((function(e){o.error(e)}));return o.asObservable()},e.prototype.resizeCanvas=function(e,t,n){return new Promise((function(r,i){var s=new o.a;s&&s.resize||(s=new window.pica),s.resize(e,t,n).then((function(e){r(e)}),(function(e){i(e)}))}))},e.prototype.resizeBuffer=function(e){return new Promise((function(t,n){var r=new o.a;r&&r.resizeBuffer||(r=new window.pica),r.resizeBuffer(e).then((function(e){t(e)}),(function(e){n(e)}))}))},e.prototype.resizeFile=function(e,t,n,r){var i=this;return void 0===r&&(r=!1),new Promise((function(o,s){var a=document.createElement("canvas"),u=a.getContext("2d"),c=new Image;c.onload=function(){i.imageExifService.getOrientedImage(c).then((function(l){window.URL.revokeObjectURL(c.src),a.width=l.width,a.height=l.height,u.drawImage(l,0,0);var h=u.getImageData(0,0,l.width,l.height);if(r){var d=Math.min(t/h.width,n/h.height);t=Math.round(h.width*d),n=Math.round(h.height*d)}var f=!0;("image/jpeg"===e.type||"image/png"===e.type&&!i.isImgUsingAlpha(h))&&(f=!1,(u=a.getContext("2d",{alpha:!1})).drawImage(l,0,0));var p=document.createElement("canvas");p.width=t,p.height=n,i.resizeCanvas(a,p,{alpha:f}).then((function(t){t.toBlob((function(t){var n=i.generateResultFile(t,e.name,e.type,(new Date).getTime());o(n)}),e.type)})).catch((function(e){s(e)}))}))},c.src=window.URL.createObjectURL(e)}))},e.prototype.isImgUsingAlpha=function(e){for(var t=0;t<e.data.length;t+=4)if(255!==e.data[t+3])return!0;return!1},e.prototype.generateResultFile=function(e,t,n,r){var i=new Blob([e],{type:n});return this.blobToFile(i,t,r)},e.prototype.blobToFile=function(e,t,n){var r=e;return r.name=t,r.lastModified=n,r},e}())},SVse:function(e,t,n){"use strict";n.r(t),n.d(t,"\u0275angular_packages_common_common_c",(function(){return pt})),n.d(t,"\u0275angular_packages_common_common_h",(function(){return Ue})),n.d(t,"\u0275angular_packages_common_common_g",(function(){return Be})),n.d(t,"\u0275angular_packages_common_common_f",(function(){return je})),n.d(t,"\u0275angular_packages_common_common_k",(function(){return ct})),n.d(t,"\u0275angular_packages_common_common_j",(function(){return at})),n.d(t,"\u0275angular_packages_common_common_i",(function(){return st})),n.d(t,"\u0275angular_packages_common_common_a",(function(){return Ce})),n.d(t,"\u0275angular_packages_common_common_b",(function(){return Te})),n.d(t,"\u0275angular_packages_common_common_e",(function(){return jt})),n.d(t,"\u0275angular_packages_common_common_d",(function(){return un})),n.d(t,"\u0275registerLocaleData",(function(){return De})),n.d(t,"registerLocaleData",(function(){return De})),n.d(t,"formatDate",(function(){return K})),n.d(t,"formatCurrency",(function(){return ve})),n.d(t,"formatNumber",(function(){return we})),n.d(t,"formatPercent",(function(){return be})),n.d(t,"NgLocaleLocalization",(function(){return Ae})),n.d(t,"NgLocalization",(function(){return Se})),n.d(t,"Plural",(function(){return p})),n.d(t,"NumberFormatStyle",(function(){return f})),n.d(t,"FormStyle",(function(){return m})),n.d(t,"TranslationWidth",(function(){return g})),n.d(t,"FormatWidth",(function(){return y})),n.d(t,"NumberSymbol",(function(){return v})),n.d(t,"WeekDay",(function(){return b})),n.d(t,"getNumberOfCurrencyDigits",(function(){return $})),n.d(t,"getCurrencySymbol",(function(){return V})),n.d(t,"getLocaleDayPeriods",(function(){return E})),n.d(t,"getLocaleDayNames",(function(){return _})),n.d(t,"getLocaleMonthNames",(function(){return C})),n.d(t,"getLocaleId",(function(){return w})),n.d(t,"getLocaleEraNames",(function(){return S})),n.d(t,"getLocaleWeekEndRange",(function(){return A})),n.d(t,"getLocaleFirstDayOfWeek",(function(){return I})),n.d(t,"getLocaleDateFormat",(function(){return T})),n.d(t,"getLocaleDateTimeFormat",(function(){return N})),n.d(t,"getLocaleExtraDayPeriodRules",(function(){return L})),n.d(t,"getLocaleExtraDayPeriods",(function(){return F})),n.d(t,"getLocalePluralCase",(function(){return P})),n.d(t,"getLocaleTimeFormat",(function(){return D})),n.d(t,"getLocaleNumberSymbol",(function(){return O})),n.d(t,"getLocaleNumberFormat",(function(){return k})),n.d(t,"getLocaleCurrencyName",(function(){return R})),n.d(t,"getLocaleCurrencySymbol",(function(){return x})),n.d(t,"\u0275parseCookieValue",(function(){return Ne})),n.d(t,"CommonModule",(function(){return cn})),n.d(t,"DeprecatedI18NPipesModule",(function(){return ln})),n.d(t,"NgClass",(function(){return He})),n.d(t,"NgClassBase",(function(){return qe})),n.d(t,"NgForOf",(function(){return We})),n.d(t,"NgForOfContext",(function(){return Ge})),n.d(t,"NgIf",(function(){return Ke})),n.d(t,"NgIfContext",(function(){return Ye})),n.d(t,"NgPlural",(function(){return nt})),n.d(t,"NgPluralCase",(function(){return rt})),n.d(t,"NgStyle",(function(){return dt})),n.d(t,"NgStyleBase",(function(){return ht})),n.d(t,"NgSwitch",(function(){return Je})),n.d(t,"NgSwitchCase",(function(){return et})),n.d(t,"NgSwitchDefault",(function(){return tt})),n.d(t,"NgTemplateOutlet",(function(){return ft})),n.d(t,"NgComponentOutlet",(function(){return ze})),n.d(t,"DOCUMENT",(function(){return hn})),n.d(t,"AsyncPipe",(function(){return qt})),n.d(t,"DatePipe",(function(){return Qt})),n.d(t,"I18nPluralPipe",(function(){return Yt})),n.d(t,"I18nSelectPipe",(function(){return Xt})),n.d(t,"JsonPipe",(function(){return Zt})),n.d(t,"LowerCasePipe",(function(){return Ht})),n.d(t,"CurrencyPipe",(function(){return rn})),n.d(t,"DecimalPipe",(function(){return tn})),n.d(t,"PercentPipe",(function(){return nn})),n.d(t,"SlicePipe",(function(){return an})),n.d(t,"UpperCasePipe",(function(){return Wt})),n.d(t,"TitleCasePipe",(function(){return Gt})),n.d(t,"KeyValuePipe",(function(){return Jt})),n.d(t,"DeprecatedDatePipe",(function(){return xt})),n.d(t,"DeprecatedCurrencyPipe",(function(){return Ft})),n.d(t,"DeprecatedDecimalPipe",(function(){return Mt})),n.d(t,"DeprecatedPercentPipe",(function(){return Lt})),n.d(t,"\u0275PLATFORM_BROWSER_ID",(function(){return dn})),n.d(t,"\u0275PLATFORM_SERVER_ID",(function(){return fn})),n.d(t,"\u0275PLATFORM_WORKER_APP_ID",(function(){return pn})),n.d(t,"\u0275PLATFORM_WORKER_UI_ID",(function(){return mn})),n.d(t,"isPlatformBrowser",(function(){return gn})),n.d(t,"isPlatformServer",(function(){return yn})),n.d(t,"isPlatformWorkerApp",(function(){return vn})),n.d(t,"isPlatformWorkerUi",(function(){return bn})),n.d(t,"VERSION",(function(){return wn})),n.d(t,"ViewportScroller",(function(){return En})),n.d(t,"\u0275NullViewportScroller",(function(){return Cn})),n.d(t,"\u0275NgClassImplProvider__POST_R3__",(function(){return Ve})),n.d(t,"\u0275NgClassR2Impl",(function(){return Fe})),n.d(t,"\u0275NgClassImpl",(function(){return Le})),n.d(t,"\u0275NgStyleImplProvider__POST_R3__",(function(){return ut})),n.d(t,"\u0275NgStyleR2Impl",(function(){return ot})),n.d(t,"\u0275NgStyleImpl",(function(){return it})),n.d(t,"\u0275ngStyleDirectiveDef__POST_R3__",(function(){return lt})),n.d(t,"\u0275ngClassDirectiveDef__POST_R3__",(function(){return $e})),n.d(t,"PlatformLocation",(function(){return i})),n.d(t,"LOCATION_INITIALIZED",(function(){return o})),n.d(t,"LocationStrategy",(function(){return s})),n.d(t,"APP_BASE_HREF",(function(){return a})),n.d(t,"HashLocationStrategy",(function(){return l})),n.d(t,"PathLocationStrategy",(function(){return h})),n.d(t,"Location",(function(){return u}));var r=n("8Y7J");class i{}const o=new r.InjectionToken("Location Initialized");class s{}const a=new r.InjectionToken("appBaseHref");let u=(()=>{class e{constructor(t,n){this._subject=new r.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+e.normalizeQueryParams(n))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,c(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}return e})();function c(e){return e.replace(/\/index.html$/,"")}let l=(()=>(class extends s{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=u.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))(),h=(()=>(class extends s{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return u.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}))();const d={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},f=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),p=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),m=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),g=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),y=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),v=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}(),b=function(){var e={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};return e[e.Sunday]="Sunday",e[e.Monday]="Monday",e[e.Tuesday]="Tuesday",e[e.Wednesday]="Wednesday",e[e.Thursday]="Thursday",e[e.Friday]="Friday",e[e.Saturday]="Saturday",e}();function w(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].LocaleId]}function E(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=j([i[r["\u0275LocaleDataIndex"].DayPeriodsFormat],i[r["\u0275LocaleDataIndex"].DayPeriodsStandalone]],t);return j(o,n)}function _(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=j([i[r["\u0275LocaleDataIndex"].DaysFormat],i[r["\u0275LocaleDataIndex"].DaysStandalone]],t);return j(o,n)}function C(e,t,n){const i=Object(r["\u0275findLocaleData"])(e),o=j([i[r["\u0275LocaleDataIndex"].MonthsFormat],i[r["\u0275LocaleDataIndex"].MonthsStandalone]],t);return j(o,n)}function S(e,t){return j(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Eras],t)}function I(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].FirstDayOfWeek]}function A(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].WeekendRange]}function T(e,t){return j(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateFormat],t)}function D(e,t){return j(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].TimeFormat],t)}function N(e,t){return j(Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].DateTimeFormat],t)}function O(e,t){const n=Object(r["\u0275findLocaleData"])(e),i=n[r["\u0275LocaleDataIndex"].NumberSymbols][t];if(void 0===i){if(t===v.CurrencyDecimal)return n[r["\u0275LocaleDataIndex"].NumberSymbols][v.Decimal];if(t===v.CurrencyGroup)return n[r["\u0275LocaleDataIndex"].NumberSymbols][v.Group]}return i}function k(e,t){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].NumberFormats][t]}function x(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencySymbol]||null}function R(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].CurrencyName]||null}const P=r["\u0275getLocalePluralCase"];function M(e){if(!e[r["\u0275LocaleDataIndex"].ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r["\u0275LocaleDataIndex"].LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function L(e){const t=Object(r["\u0275findLocaleData"])(e);return M(t),(t[r["\u0275LocaleDataIndex"].ExtraData][2]||[]).map(e=>"string"==typeof e?B(e):[B(e[0]),B(e[1])])}function F(e,t,n){const i=Object(r["\u0275findLocaleData"])(e);M(i);const o=j([i[r["\u0275LocaleDataIndex"].ExtraData][0],i[r["\u0275LocaleDataIndex"].ExtraData][1]],t)||[];return j(o,n)||[]}function j(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function B(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function V(e,t,n="en"){const i=function(e){return Object(r["\u0275findLocaleData"])(e)[r["\u0275LocaleDataIndex"].Currencies]}(n)[e]||d[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}const U=2;function $(e){let t;const n=d[e];return n&&(t=n[2]),"number"==typeof t?t:U}const q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,H={},z=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,G=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),W=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Q=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function K(e,t,n,r){let i=function(e){if(ae(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(q))return se(n)}const t=new Date(e);if(!ae(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=w(t);if(H[r]=H[r]||{},H[r][n])return H[r][n];let i="";switch(n){case"shortDate":i=T(t,y.Short);break;case"mediumDate":i=T(t,y.Medium);break;case"longDate":i=T(t,y.Long);break;case"fullDate":i=T(t,y.Full);break;case"shortTime":i=D(t,y.Short);break;case"mediumTime":i=D(t,y.Medium);break;case"longTime":i=D(t,y.Long);break;case"fullTime":i=D(t,y.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");i=Y(N(t,y.Short),[n,r]);break;case"medium":const o=e(t,"mediumTime"),s=e(t,"mediumDate");i=Y(N(t,y.Medium),[o,s]);break;case"long":const a=e(t,"longTime"),u=e(t,"longDate");i=Y(N(t,y.Long),[a,u]);break;case"full":const c=e(t,"fullTime"),l=e(t,"fullDate");i=Y(N(t,y.Full),[c,l])}return i&&(H[r][n]=i),i}(n,t)||t;let o,s=[];for(;t;){if(!(o=z.exec(t))){s.push(t);break}{const e=(s=s.concat(o.slice(1))).pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=oe(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(oe(t,r)-r))}(i,r));let u="";return s.forEach(e=>{const t=function(e){if(ie[e])return ie[e];let t;switch(e){case"G":case"GG":case"GGG":t=J(Q.Eras,g.Abbreviated);break;case"GGGG":t=J(Q.Eras,g.Wide);break;case"GGGGG":t=J(Q.Eras,g.Narrow);break;case"y":t=Z(W.FullYear,1,0,!1,!0);break;case"yy":t=Z(W.FullYear,2,0,!0,!0);break;case"yyy":t=Z(W.FullYear,3,0,!1,!0);break;case"yyyy":t=Z(W.FullYear,4,0,!1,!0);break;case"M":case"L":t=Z(W.Month,1,1);break;case"MM":case"LL":t=Z(W.Month,2,1);break;case"MMM":t=J(Q.Months,g.Abbreviated);break;case"MMMM":t=J(Q.Months,g.Wide);break;case"MMMMM":t=J(Q.Months,g.Narrow);break;case"LLL":t=J(Q.Months,g.Abbreviated,m.Standalone);break;case"LLLL":t=J(Q.Months,g.Wide,m.Standalone);break;case"LLLLL":t=J(Q.Months,g.Narrow,m.Standalone);break;case"w":t=re(1);break;case"ww":t=re(2);break;case"W":t=re(1,!0);break;case"d":t=Z(W.Date,1);break;case"dd":t=Z(W.Date,2);break;case"E":case"EE":case"EEE":t=J(Q.Days,g.Abbreviated);break;case"EEEE":t=J(Q.Days,g.Wide);break;case"EEEEE":t=J(Q.Days,g.Narrow);break;case"EEEEEE":t=J(Q.Days,g.Short);break;case"a":case"aa":case"aaa":t=J(Q.DayPeriods,g.Abbreviated);break;case"aaaa":t=J(Q.DayPeriods,g.Wide);break;case"aaaaa":t=J(Q.DayPeriods,g.Narrow);break;case"b":case"bb":case"bbb":t=J(Q.DayPeriods,g.Abbreviated,m.Standalone,!0);break;case"bbbb":t=J(Q.DayPeriods,g.Wide,m.Standalone,!0);break;case"bbbbb":t=J(Q.DayPeriods,g.Narrow,m.Standalone,!0);break;case"B":case"BB":case"BBB":t=J(Q.DayPeriods,g.Abbreviated,m.Format,!0);break;case"BBBB":t=J(Q.DayPeriods,g.Wide,m.Format,!0);break;case"BBBBB":t=J(Q.DayPeriods,g.Narrow,m.Format,!0);break;case"h":t=Z(W.Hours,1,-12);break;case"hh":t=Z(W.Hours,2,-12);break;case"H":t=Z(W.Hours,1);break;case"HH":t=Z(W.Hours,2);break;case"m":t=Z(W.Minutes,1);break;case"mm":t=Z(W.Minutes,2);break;case"s":t=Z(W.Seconds,1);break;case"ss":t=Z(W.Seconds,2);break;case"S":t=Z(W.FractionalSeconds,1);break;case"SS":t=Z(W.FractionalSeconds,2);break;case"SSS":t=Z(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ee(G.Short);break;case"ZZZZZ":t=ee(G.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ee(G.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ee(G.Long);break;default:return null}return ie[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Y(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function X(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Z(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case W.FullYear:return t.getFullYear();case W.Month:return t.getMonth();case W.Date:return t.getDate();case W.Hours:return t.getHours();case W.Minutes:return t.getMinutes();case W.Seconds:return t.getSeconds();case W.FractionalSeconds:return t.getMilliseconds();case W.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===W.Hours)0===a&&-12===n&&(a=12);else if(e===W.FractionalSeconds)return u=t,X(a,3).substr(0,u);var u;const c=O(s,v.MinusSign);return X(a,t,c,r,i)}}function J(e,t,n=m.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case Q.Months:return C(t,i,r)[e.getMonth()];case Q.Days:return _(t,i,r)[e.getDay()];case Q.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=L(t),n=F(t,i,r);let o;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:u,minutes:c}=e[1];s>=r&&a>=i&&(s<u||s===u&&a<c)&&(o=n[t])}else{const{hours:r,minutes:i}=e;r===s&&i===a&&(o=n[t])}}),o)return o}return E(t,i,r)[s<12?0:1];case Q.Eras:return S(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function ee(e){return function(t,n,r){const i=-1*r,o=O(n,v.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case G.Short:return(i>=0?"+":"")+X(s,2,o)+X(Math.abs(i%60),2,o);case G.ShortGMT:return"GMT"+(i>=0?"+":"")+X(s,1,o);case G.Long:return"GMT"+(i>=0?"+":"")+X(s,2,o)+":"+X(Math.abs(i%60),2,o);case G.Extended:return 0===r?"Z":(i>=0?"+":"")+X(s,2,o)+":"+X(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const te=0,ne=4;function re(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,te,1).getDay();return new Date(e,0,1+(t<=ne?ne:ne+7)-t)}(n.getFullYear()),t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(ne-o.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var o;return X(i,e,O(r,v.MinusSign))}}const ie={};function oe(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function se(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,u,c),t}function ae(e){return e instanceof Date&&!isNaN(e.valueOf())}const ue=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ce=22,le=".",he="0",de=";",fe=",",pe="#",me="\xa4",ge="%";function ye(e,t,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf(le))>-1&&(s=s.replace(le,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===he;r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;s.charAt(o)===he;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>ce&&(t=t.splice(0,ce-1),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let l=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(ue);if(null===e)throw new Error(`${o} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=_e(t)),null!=n&&(h=_e(n)),null!=r?d=_e(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=t+e.integerLen,l=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0}),0);l&&(r.unshift(l),e.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(u=f.every(e=>!e);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=t.lgSize&&y.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)y.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(O(n,r)),g.length&&(a+=O(n,i)+g.join("")),m&&(a+=O(n,v.Exponential)+"+"+m)}else a=O(n,v.Infinity);return e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function ve(e,t,n,r,i){const o=Ee(k(t,f.Currency),O(t,v.MinusSign));return o.minFrac=$(r),o.maxFrac=o.minFrac,ye(e,o,t,v.CurrencyGroup,v.CurrencyDecimal,i).replace(me,n).replace(me,"")}function be(e,t,n){return ye(e,Ee(k(t,f.Percent),O(t,v.MinusSign)),t,v.Group,v.Decimal,n,!0).replace(new RegExp(ge,"g"),O(t,v.PercentSign))}function we(e,t,n){return ye(e,Ee(k(t,f.Decimal),O(t,v.MinusSign)),t,v.Group,v.Decimal,n)}function Ee(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(de),i=r[0],o=r[1],s=-1!==i.indexOf(le)?i.split(le):[i.substring(0,i.lastIndexOf(he)+1),i.substring(i.lastIndexOf(he)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf(pe));for(let l=0;l<u.length;l++){const e=u.charAt(l);e===he?n.minFrac=n.maxFrac=l+1:e===pe?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(fe);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf(pe);n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function _e(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const Ce=new r.InjectionToken("UseV4Plurals");class Se{}function Ie(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}let Ae=(()=>(class extends Se{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):P(t||this.locale)(e)){case p.Zero:return"zero";case p.One:return"one";case p.Two:return"two";case p.Few:return"few";case p.Many:return"many";default:return"other"}}}))();function Te(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?p.One:p.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?p.One:p.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?p.One:p.Other;case"ar":return 0===n?p.Zero:1===n?p.One:2===n?p.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?p.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?p.Many:p.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?p.One:p.Other;case"be":return n%10==1&&n%100!=11?p.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?p.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?p.Many:p.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?p.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?p.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?p.Few:0!==n&&n%1e6==0?p.Many:p.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?p.Few:p.Other;case"cs":case"sk":return 1===i&&0===o?p.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?p.Few:0!==o?p.Many:p.Other;case"cy":return 0===n?p.Zero:1===n?p.One:2===n?p.Two:3===n?p.Few:6===n?p.Many:p.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?p.One:p.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?p.One:0===o&&i%100==2||s%100==2?p.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?p.Few:p.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?p.One:p.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?p.One:p.Other;case"ga":return 1===n?p.One:2===n?p.Two:n===Math.floor(n)&&n>=3&&n<=6?p.Few:n===Math.floor(n)&&n>=7&&n<=10?p.Many:p.Other;case"gd":return 1===n||11===n?p.One:2===n||12===n?p.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?p.Few:p.Other;case"gv":return 0===o&&i%10==1?p.One:0===o&&i%10==2?p.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?p.Many:p.Other:p.Few;case"he":return 1===i&&0===o?p.One:2===i&&0===o?p.Two:0!==o||n>=0&&n<=10||n%10!=0?p.Other:p.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?p.One:p.Other;case"ksh":return 0===n?p.Zero:1===n?p.One:p.Other;case"kw":case"naq":case"se":case"smn":return 1===n?p.One:2===n?p.Two:p.Other;case"lag":return 0===n?p.Zero:0!==i&&1!==i||0===n?p.Other:p.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?p.Few:0!==s?p.Many:p.Other:p.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?p.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?p.One:p.Other;case"mk":return 0===o&&i%10==1||s%10==1?p.One:p.Other;case"mt":return 1===n?p.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?p.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?p.Many:p.Other;case"pl":return 1===i&&0===o?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?p.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?p.Many:p.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?p.One:p.Other;case"ro":return 1===i&&0===o?p.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?p.Few:p.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?p.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?p.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?p.Many:p.Other;case"shi":return 0===i||1===n?p.One:n===Math.floor(n)&&n>=2&&n<=10?p.Few:p.Other;case"si":return 0===n||1===n||0===i&&1===s?p.One:p.Other;case"sl":return 0===o&&i%100==1?p.One:0===o&&i%100==2?p.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?p.Few:p.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?p.One:p.Other;default:return p.Other}}function De(e,t,n){"string"!=typeof t&&(n=t,t=e[r["\u0275LocaleDataIndex"].LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),r["\u0275LOCALE_DATA"][t]=e,n&&(r["\u0275LOCALE_DATA"][t][r["\u0275LocaleDataIndex"].ExtraData]=n)}function Ne(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class Oe{constructor(e,t){this._name=e,this._options=t,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(e){if(Array.isArray(e))this._lastSetValueType=4;else if(e instanceof Set)this._lastSetValueType=8;else if(e&&"string"==typeof e){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=e?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=e||null}hasValueChanged(){let e=this._lastSetValueIdentityChange;if(!(e||14&this._lastSetValueType))return!1;let t=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const o=this._lastSetValue.split(/\s+/g);16&this._options?(t={},o.forEach((e,n)=>t[e]=!0)):t=o.reduce((e,t,n)=>e+(n?" ":"")+t);break;case 2:const s=this._lastSetValue,a=Object.keys(s);e||(e=!this.value||function(e,t,n){const r=e;if(!Me(Object.keys(t),r))return!0;for(let i=0;i<r.length;i++){const e=r[i];if(t[e]!==n[e])return!0}return!1}(a,this.value,s)),e&&(t=ke(this._name,n,r,i,s,a));break;case 4:case 8:const u=Array.from(this._lastSetValue);e||(e=!Me(Object.keys(this.value),u)),e&&(t=ke(this._name,n,r,i,u));break;default:t=null}return e&&(this.value=t),e}}function ke(e,t,n,r,i,o){const s={};if(o)for(let a=0;a<o.length;a++){let e=o[a];Re(s,e=t?e.trim():e,i[e],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];xe(e,n),Re(s,n=t?n.trim():n,!0,!1,r)}return s}function xe(e,t){if("string"!=typeof t)throw new Error(`${e} can only toggle CSS classes expressed as strings, got ${t}`)}function Re(e,t,n,r,i){if(i&&t.indexOf(" ")>0){const i=t.split(/\s+/g);for(let t=0;t<i.length;t++)Pe(e,i[t],n,r)}else Pe(e,t,n,r)}function Pe(e,t,n,r){if(r){const e=function(e,t){const n=e.indexOf(".");if(n>0){const r=e.substr(n+1);e=e.substring(0,n),null!=t&&(t+=r)}return{key:e,value:t}}(t,n);n=e.value,t=e.key}e[t]=n}function Me(e,t){if(e&&t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}return!1}class Le{}let Fe=(()=>(class{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(r["\u0275isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r["\u0275stringify"])(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}))(),je=(()=>(class{constructor(){this._value=null,this._ngClassDiffer=new Oe("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(e){(e||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new Oe("class",20),this._classStringDiffer.setValue(e))}setNgClass(e){this._ngClassDiffer.setValue(e)}applyChanges(){const e=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),t=this._ngClassDiffer.hasValueChanged();if(e||t){let e=this._ngClassDiffer.value;if(this._classStringDiffer){let t=this._classStringDiffer.value;t&&(e=e?Object.assign({},t,e):t)}this._value=e}}}))();const Be={provide:Le,useClass:Fe},Ve={provide:Le,useClass:je},Ue=Be,$e=Object(r["\u0275\u0275defineDirective"])({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&Object(r["\u0275\u0275styling"])(),2&e&&(Object(r["\u0275\u0275classMap"])(t.getValue()),Object(r["\u0275\u0275stylingApply"])())}});let qe=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),He=(()=>(class extends qe{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}))(),ze=(()=>(class{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(r.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(r.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}))();class Ge{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let We=(()=>(class{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(r.isDevMode)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ge(null,this._ngForOf,-1,-1),r),i=new Qe(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(n);else{const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Qe(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}))();class Qe{constructor(e,t){this.record=e,this.view=t}}let Ke=(()=>(class{constructor(e,t){this._viewContainer=e,this._context=new Ye,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Xe("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Xe("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}))();class Ye{constructor(){this.$implicit=null,this.ngIf=null}}function Xe(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(r["\u0275stringify"])(t)}'.`)}class Ze{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Je=(()=>(class{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}))(),et=(()=>(class{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Ze(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}))(),tt=(()=>(class{constructor(e,t,n){n._addDefault(new Ze(e,t))}}))(),nt=(()=>(class{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=Ie(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}))(),rt=(()=>(class{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new Ze(n,t))}}))();class it{}let ot=(()=>(class{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}))(),st=(()=>(class{constructor(){this._differ=new Oe("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(e){this._differ.setValue(e)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}))();const at={provide:it,useClass:ot},ut={provide:it,useClass:st},ct=at,lt=Object(r["\u0275\u0275defineDirective"])({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&Object(r["\u0275\u0275styling"])(),2&e&&(Object(r["\u0275\u0275styleMap"])(t.getValue()),Object(r["\u0275\u0275stylingApply"])())}});let ht=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),dt=(()=>(class extends ht{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}))(),ft=(()=>(class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}))();const pt=[He,ze,We,Ke,ft,dt,Je,et,tt,nt,rt];function mt(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(r["\u0275stringify"])(e)}'`)}class gt{static format(e,t,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,currency:a,currencyAsSymbol:u=!1}=r,c={minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,style:f[n].toLowerCase()};return n==f.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=u?"symbol":"code"),new Intl.NumberFormat(t,c).format(e)}}const yt=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,vt={yMMMdjms:Nt(Dt([At("year",1),Tt("month",3),At("day",1),At("hour",1),At("minute",1),At("second",1)])),yMdjm:Nt(Dt([At("year",1),At("month",1),At("day",1),At("hour",1),At("minute",1)])),yMMMMEEEEd:Nt(Dt([At("year",1),Tt("month",4),Tt("weekday",4),At("day",1)])),yMMMMd:Nt(Dt([At("year",1),Tt("month",4),At("day",1)])),yMMMd:Nt(Dt([At("year",1),Tt("month",3),At("day",1)])),yMd:Nt(Dt([At("year",1),At("month",1),At("day",1)])),jms:Nt(Dt([At("hour",1),At("second",1),At("minute",1)])),jm:Nt(Dt([At("hour",1),At("minute",1)]))},bt={yyyy:Nt(At("year",4)),yy:Nt(At("year",2)),y:Nt(At("year",1)),MMMM:Nt(Tt("month",4)),MMM:Nt(Tt("month",3)),MM:Nt(At("month",2)),M:Nt(At("month",1)),LLLL:Nt(Tt("month",4)),L:Nt(Tt("month",1)),dd:Nt(At("day",2)),d:Nt(At("day",1)),HH:wt(_t(Nt(It(At("hour",2),!1)))),H:_t(Nt(It(At("hour",1),!1))),hh:wt(_t(Nt(It(At("hour",2),!0)))),h:_t(Nt(It(At("hour",1),!0))),jj:Nt(At("hour",2)),j:Nt(At("hour",1)),mm:wt(Nt(At("minute",2))),m:Nt(At("minute",1)),ss:wt(Nt(At("second",2))),s:Nt(At("second",1)),sss:Nt(At("second",3)),EEEE:Nt(Tt("weekday",4)),EEE:Nt(Tt("weekday",3)),EE:Nt(Tt("weekday",2)),E:Nt(Tt("weekday",1)),a:Et(Nt(It(At("hour",1),!0))),Z:St("short"),z:St("long"),ww:Nt({}),w:Nt({}),G:Nt(Tt("era",1)),GG:Nt(Tt("era",2)),GGG:Nt(Tt("era",3)),GGGG:Nt(Tt("era",4))};function wt(e){return function(t,n){const r=e(t,n);return 1==r.length?"0"+r:r}}function Et(e){return function(t,n){return e(t,n).split(" ")[1]}}function _t(e){return function(t,n){return e(t,n).split(" ")[0]}}function Ct(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function St(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const r=Ct(e,n,t);return r?r.substring(3):""}}function It(e,t){return e.hour12=t,e}function At(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function Tt(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function Dt(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function Nt(e){return(t,n)=>Ct(t,n,e)}const Ot=new Map;class kt{static format(e,t,n){return function(e,t,n){const r=vt[e];if(r)return r(t,n);const i=e;let o=Ot.get(i);if(!o){let t;o=[],yt.exec(e);let n=e;for(;n;)(t=yt.exec(n))?n=(o=o.concat(t.slice(1))).pop():(o.push(n),n=null);Ot.set(i,o)}return o.reduce((e,r)=>{const i=bt[r];return e+(i?i(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,e,t)}}let xt=(()=>{class e{constructor(e){this._locale=e}transform(t,n="mediumDate"){if(null==t||""===t||t!=t)return null;let r;if("string"==typeof t&&(t=t.trim()),Rt(t))r=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(e=>parseInt(e,10));r=new Date(e,n-1,i)}else r=new Date(t);else r=new Date(parseFloat(t));if(!Rt(r)){let n;if("string"!=typeof t||!(n=t.match(q)))throw mt(e,t);r=se(n)}return kt.format(r,this._locale,e._ALIASES[n]||n)}}return e._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},e})();function Rt(e){return e instanceof Date&&!isNaN(e.valueOf())}function Pt(e,t,n,r,i,o=null,s=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw mt(e,n);let a,u,c;if(r!==f.Currency&&(a=1,u=0,c=3),i){const e=i.match(ue);if(null===e)throw new Error(`${i} is not a valid digit info for number pipes`);null!=e[1]&&(a=_e(e[1])),null!=e[3]&&(u=_e(e[3])),null!=e[5]&&(c=_e(e[5]))}return gt.format(n,t,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}let Mt=(()=>{class e{constructor(e){this._locale=e}transform(t,n){return Pt(e,this._locale,t,f.Decimal,n)}}return e})(),Lt=(()=>{class e{constructor(e){this._locale=e}transform(t,n){return Pt(e,this._locale,t,f.Percent,n)}}return e})(),Ft=(()=>{class e{constructor(e){this._locale=e}transform(t,n="USD",r=!1,i){return Pt(e,this._locale,t,f.Currency,i,n,r)}}return e})();const jt=[Mt,Lt,Ft,xt];class Bt{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Vt{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ut=new Vt,$t=new Bt;let qt=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Object(r["\u0275looseIdentical"])(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.WrappedValue.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Object(r["\u0275isPromise"])(t))return Ut;if(Object(r["\u0275isObservable"])(t))return $t;throw mt(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e})(),Ht=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw mt(e,t);return t.toLowerCase()}}return e})();const zt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Gt=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw mt(e,t);return t.replace(zt,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}return e})(),Wt=(()=>{class e{transform(t){if(!t)return t;if("string"!=typeof t)throw mt(e,t);return t.toUpperCase()}}return e})(),Qt=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return K(t,n,i||this.locale,r)}catch(o){throw mt(e,o.message)}}}return e})();const Kt=/#/g;let Yt=(()=>{class e{constructor(e){this._localization=e}transform(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw mt(e,n);return n[Ie(t,Object.keys(n),this._localization,r)].replace(Kt,t.toString())}}return e})(),Xt=(()=>{class e{transform(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw mt(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}return e})(),Zt=(()=>(class{transform(e){return JSON.stringify(e,null,2)}}))(),Jt=(()=>(class{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=en){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))}),this.keyValues.sort(t)),this.keyValues}}))();function en(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let tn=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(on(t))return null;r=r||this._locale;try{return we(sn(t),r,n)}catch(i){throw mt(e,i.message)}}}return e})(),nn=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(on(t))return null;r=r||this._locale;try{return be(sn(t),r,n)}catch(i){throw mt(e,i.message)}}}return e})(),rn=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r="symbol",i,o){if(on(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let s=n||"USD";"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?V(s,"symbol"===r?"wide":"narrow",o):r);try{return ve(sn(t),o,s,n,i)}catch(a){throw mt(e,a.message)}}}return e})();function on(e){return null==e||""===e||e!=e}function sn(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let an=(()=>{class e{transform(t,n,r){if(null==t)return t;if(!this.supports(t))throw mt(e,t);return t.slice(n,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return e})();const un=[qt,Wt,Ht,Zt,an,tn,nn,Gt,rn,Qt,Yt,Xt,Jt];let cn=(()=>(class{}))(),ln=(()=>(class{}))();const hn=new r.InjectionToken("DocumentToken"),dn="browser",fn="server",pn="browserWorkerApp",mn="browserWorkerUi";function gn(e){return e===dn}function yn(e){return e===fn}function vn(e){return e===pn}function bn(e){return e===mn}const wn=new r.Version("8.1.3");let En=(()=>{class e{}return e.ngInjectableDef=Object(r["\u0275\u0275defineInjectable"])({token:e,providedIn:"root",factory:()=>new _n(Object(r["\u0275\u0275inject"])(hn),window,Object(r["\u0275\u0275inject"])(r.ErrorHandler))}),e})();class _n{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Cn{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}},SeVD:function(e,t,n){"use strict";var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");n.d(t,"a",(function(){return l}));const l=e=>{if(e&&"function"==typeof e[s.a])return(e=>t=>{const n=e[s.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(Object(a.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t))(e);if(e&&"function"==typeof e[o.a])return(e=>t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},TMng:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n("ZZ/e");class r{constructor(e){this.modalController=e,this.sliderOpts={zoom:{maxRatio:5}}}ngOnInit(){}zoom(e){let t=this.slider.nativeElement.swiper.zoom;e?t.in():t.out()}close(){this.modalController.dismiss()}}},VUZZ:function(e,t,n){"use strict";n.r(t),n.d(t,"GESTURE_CONTROLLER",(function(){return o})),n.d(t,"createGesture",(function(){return l}));class r{constructor(e,t,n,r,i){this.id=t,this.name=n,this.disableScroll=i,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class i{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const o=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new i(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let i=-1e4;if(r.forEach(e=>{i=Math.max(i,e)}),i===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add("backdrop-no-scroll")}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove("backdrop-no-scroll")}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}},s=(e,t,n,r)=>{const i=a(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,s;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(o="addEventListener",s="removeEventListener"),e[o](t,n,i),()=>{e[s](t,n,i)}},a=e=>{if(void 0===u)try{const t=Object.defineProperty({},"passive",{get:()=>{u=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){u=!1}return!!u};let u;const c=e=>e instanceof Document?e:e.ownerDocument,l=e=>{let t=!1,n=!1,r=!0,i=!1;const a=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),u=a.canStart,l=a.onWillStart,p=a.onStart,m=a.onEnd,g=a.notCaptured,y=a.onMove,v=a.threshold,b={type:"pan",startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,event:void 0,data:void 0},w=((e,t,n)=>{const r=n*(Math.PI/180),i="x"===e,o=Math.cos(r),s=t*t;let a=0,u=0,c=!1,l=0;return{start(e,t){a=e,u=t,l=0,c=!0},detect(e,t){if(!c)return!1;const n=e-a,r=t-u,h=n*n+r*r;if(h<s)return!1;const d=Math.sqrt(h),f=(i?n:r)/d;return l=f>o?1:f<-o?-1:0,c=!1,!0},isGesture:()=>0!==l,getDirection:()=>l}})(a.direction,a.threshold,a.maxAngle),E=o.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),_=()=>{t&&(i=!1,y&&y(b))},C=()=>!(E&&!E.capture()||(t=!0,r=!1,b.startX=b.currentX,b.startY=b.currentY,b.startTimeStamp=b.timeStamp,l?l(b).then(S):S(),0)),S=()=>{p&&p(b),r=!0},I=()=>{t=!1,n=!1,i=!1,r=!0,E.release()},A=e=>{const n=t,i=r;I(),i&&(h(b,e),n?m&&m(b):g&&g(b))},T=((e,t,n,r,i)=>{let o,a,u,l,h,d,f,p=0;const m=r=>{p=Date.now()+2e3,t(r)&&(!a&&n&&(a=s(e,"touchmove",n,i)),u||(u=s(e,"touchend",y,i)),l||(l=s(e,"touchcancel",y,i)))},g=r=>{p>Date.now()||t(r)&&(!d&&n&&(d=s(c(e),"mousemove",n,i)),f||(f=s(c(e),"mouseup",v,i)))},y=e=>{b(),r&&r(e)},v=e=>{w(),r&&r(e)},b=()=>{a&&a(),u&&u(),l&&l(),a=u=l=void 0},w=()=>{d&&d(),f&&f(),d=f=void 0},E=()=>{b(),w()},_=t=>{t?(o&&o(),h&&h(),o=h=void 0,E()):(o||(o=s(e,"touchstart",m,i)),h||(h=s(e,"mousedown",g,i)))};return{setDisabled:_,stop:E,destroy:()=>{_(!0),r=n=t=void 0}}})(a.el,e=>{const t=f(e);return!(n||!r)&&(d(e,b),b.startX=b.currentX,b.startY=b.currentY,b.startTimeStamp=b.timeStamp=t,b.velocityX=b.velocityY=b.deltaX=b.deltaY=0,b.event=e,(!u||!1!==u(b))&&(E.release(),!!E.start()&&(n=!0,0===v?C():(w.start(b.startX,b.startY),!0))))},e=>{t?!i&&r&&(i=!0,h(b,e),requestAnimationFrame(_)):(h(b,e),w.detect(b.currentX,b.currentY)&&(w.isGesture()&&C()||D()))},A,{capture:!1}),D=()=>{I(),T.stop(),g&&g(b)};return{setDisabled(e){e&&t&&A(void 0),T.setDisabled(e)},destroy(){E.destroy(),T.destroy()}}},h=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,i=e.timeStamp;d(t,e);const o=e.currentX,s=e.currentY,a=(e.timeStamp=f(t))-i;if(a>0&&a<100){const t=(s-r)/a;e.velocityX=(o-n)/a*.7+.3*e.velocityX,e.velocityY=.7*t+.3*e.velocityY}e.deltaX=o-e.startX,e.deltaY=s-e.startY,e.event=t},d=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},f=e=>e.timeStamp||Date.now()},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=i},XNiG:function(e,t,n){"use strict";var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp");class a extends o.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}var u=n("2QA8");n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));class c extends i.a{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new r.a;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.a.EMPTY}}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Xr7G:function(e,t,n){"use strict";n("mrSG");var r=n("8Y7J"),i=n("Cfvw"),o=n("LRne"),s=n("HDdC"),a=n("w1tV"),u=n("lJxs");function c(e){return function(e){return new s.a(t=>({unsubscribe:e.onSnapshot(t)}))}(e).pipe(Object(a.a)())}function l(e){return c(e).pipe(Object(u.a)(e=>({payload:e,type:"query"})))}var h=n("pLZG"),d=n("Kqap");function f(e){return l(e).pipe(Object(u.a)(e=>e.payload.docChanges().map(e=>({type:e.type,payload:e}))))}function p(e,t){return l(e).pipe(Object(u.a)(e=>e.payload.docChanges()),Object(d.a)((e,n)=>(function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))}),e})(e,n,t),[]),Object(u.a)(e=>e.map(e=>({type:e.type,payload:e}))))}var m=n("1XSQ");function g(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class y{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(f(this.query))).pipe(Object(u.a)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Object(h.a)(e=>e.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(f(this.query)))}auditTrail(e){return this.stateChanges(e).pipe(Object(d.a)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=g(e),n=p(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(e={}){const t=l(this.query),n=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(u.a)(t=>t.payload.docs.map(t=>e.idField?Object.assign({},t.data(),{[e.idField]:t.id}):t.data())))}get(e){return Object(i.a)(this.query.get(e)).pipe(Object(m.b)(this.afs.scheduler.zone))}add(e){return this.ref.add(e)}doc(e){return new v(this.ref.doc(e),this.afs)}}class v{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=N(n,t);return new y(r,i,this.afs)}snapshotChanges(){const e=c(this.ref).pipe(Object(u.a)(e=>({payload:e,type:"value"}))),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t)}valueChanges(){return this.snapshotChanges().pipe(Object(u.a)(e=>e.payload.data()))}get(e){return Object(i.a)(this.ref.get(e)).pipe(Object(m.b)(this.afs.scheduler.zone))}}class b{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(f(this.query))).pipe(Object(u.a)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Object(h.a)(e=>e.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(f(this.query)))}auditTrail(e){return this.stateChanges(e).pipe(Object(d.a)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=g(e),n=p(this.query,t),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const e=l(this.query),t=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(t).pipe(Object(u.a)(e=>e.payload.docs.map(e=>e.data())))}get(e){return Object(i.a)(this.query.get(e)).pipe(Object(m.b)(this.afs.scheduler.zone))}}var w=n("yA/v"),E=n("SVse"),_=n("Wcq6"),C=n.n(_);n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return A})),n.d(t,"e",(function(){return N})),n.d(t,"a",(function(){return O}));const S=new r.InjectionToken("angularfire2.enableFirestorePersistence"),I=new r.InjectionToken("angularfire2.firestore.persistenceSettings"),A=new r.InjectionToken("angularfire2.firestore.settings"),T=parseInt(C.a.SDK_VERSION.split(".")[0]),D=T<5||5==T&&parseInt(C.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function N(e,t=(e=>e)){return{query:t(e),ref:e}}let O=(()=>(class{constructor(e,t,n,r,s,a,u){this.scheduler=new m.a(a,s),this.firestore=a.runOutsideAngular(()=>{const n=Object(w.e)(e,t).firestore();return n.settings(r||D),n}),this.persistenceEnabled$=n&&!Object(E.isPlatformServer)(s)?a.runOutsideAngular(()=>{try{return Object(i.a)(this.firestore.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(e){return Object(o.a)(!1)}}):Object(o.a)(!1)}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=N(n,t);return new y(r,i,this)}collectionGroup(e,t){if(T<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new b(n(r),this)}doc(e){let t;return t="string"==typeof e?this.firestore.doc(e):e,new v(t,this)}createId(){return this.firestore.collection("_").doc().id}}))()},YeHE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XNiG"),i=(n("bfU7"),n("K81y"),n("meT2"),function(){function e(e,t,n){this.imgMaxSizeService=e,this.imgMaxPXSizeService=t,this.imageExifService=n}return e.prototype.compress=function(e,t,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var s=new r.a;return e.forEach((function(e){o.compressImage(e,t,n,i).subscribe((function(e){s.next(e)}),(function(e){s.error(e)}))})),s.asObservable()},e.prototype.resize=function(e,t,n,i){var o=this;void 0===i&&(i=!1);var s=new r.a;return e.forEach((function(e){o.resizeImage(e,t,n,i).subscribe((function(e){s.next(e)}),(function(e){s.error(e)}))})),s.asObservable()},e.prototype.compressImage=function(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!1),this.imgMaxSizeService.compressImage(e,t,n,r)},e.prototype.resizeImage=function(e,t,n,r){return void 0===r&&(r=!1),this.imgMaxPXSizeService.resizeImage(e,t,n,r)},e.prototype.getEXIFOrientedImage=function(e){return this.imageExifService.getOrientedImage(e)},e}())},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(e,t,n,s,a=new r.a(e,n,s)){if(!a.closed)return t instanceof o.a?t.subscribe(a):Object(i.a)(t)(a)}},"ZZ/e":function(e,t,n){"use strict";var r=n("mrSG"),i=n("8Y7J"),o=n("SVse"),s=n("iInd"),a=n("pcH8"),u=(n("uSLK"),n("VUZZ"),n("igpV")),c=(n("8PBF"),n("9GLg")),l=n("XNiG"),h=n("xgIS"),d=n("2Vo4"),f=n("pLZG"),p=n("eIep"),m=n("7o/Q");class g{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new y(e,this.compare,this.keySelector))}}class y extends m.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var v=n("MTfx");n.d(t,"a",(function(){return Pt})),n.d(t,"b",(function(){return lt})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return st})),n.d(t,"e",(function(){return kt})),n.d(t,"f",(function(){return V})),n.d(t,"g",(function(){return U})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return H})),n.d(t,"k",(function(){return z})),n.d(t,"l",(function(){return G})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return Y})),n.d(t,"q",(function(){return X})),n.d(t,"r",(function(){return Z})),n.d(t,"s",(function(){return J})),n.d(t,"t",(function(){return ee})),n.d(t,"u",(function(){return te})),n.d(t,"v",(function(){return ne})),n.d(t,"w",(function(){return re})),n.d(t,"x",(function(){return ie})),n.d(t,"y",(function(){return oe})),n.d(t,"z",(function(){return se})),n.d(t,"A",(function(){return ae})),n.d(t,"B",(function(){return ue})),n.d(t,"C",(function(){return ce})),n.d(t,"D",(function(){return le})),n.d(t,"E",(function(){return he})),n.d(t,"F",(function(){return de})),n.d(t,"G",(function(){return fe})),n.d(t,"H",(function(){return pe})),n.d(t,"I",(function(){return me})),n.d(t,"J",(function(){return ge})),n.d(t,"K",(function(){return ye})),n.d(t,"L",(function(){return ve})),n.d(t,"M",(function(){return be})),n.d(t,"N",(function(){return we})),n.d(t,"O",(function(){return Ee})),n.d(t,"P",(function(){return _e})),n.d(t,"Q",(function(){return Ce})),n.d(t,"R",(function(){return Se})),n.d(t,"S",(function(){return Ie})),n.d(t,"T",(function(){return Ae})),n.d(t,"U",(function(){return Te})),n.d(t,"V",(function(){return De})),n.d(t,"W",(function(){return Ne})),n.d(t,"X",(function(){return Oe})),n.d(t,"Y",(function(){return ke})),n.d(t,"Z",(function(){return xe})),n.d(t,"ab",(function(){return Re})),n.d(t,"bb",(function(){return Pe})),n.d(t,"cb",(function(){return Me})),n.d(t,"db",(function(){return Le})),n.d(t,"eb",(function(){return Fe})),n.d(t,"fb",(function(){return je})),n.d(t,"gb",(function(){return Be})),n.d(t,"hb",(function(){return Ve})),n.d(t,"ib",(function(){return At})),n.d(t,"jb",(function(){return Ue})),n.d(t,"kb",(function(){return $e})),n.d(t,"lb",(function(){return qe})),n.d(t,"mb",(function(){return He})),n.d(t,"nb",(function(){return ze})),n.d(t,"ob",(function(){return Ge})),n.d(t,"pb",(function(){return We})),n.d(t,"qb",(function(){return Qe})),n.d(t,"rb",(function(){return Ke})),n.d(t,"sb",(function(){return Ye})),n.d(t,"tb",(function(){return Xe})),n.d(t,"ub",(function(){return Ze})),n.d(t,"vb",(function(){return Je})),n.d(t,"wb",(function(){return Dt})),n.d(t,"xb",(function(){return et})),n.d(t,"yb",(function(){return tt})),n.d(t,"zb",(function(){return nt})),n.d(t,"Ab",(function(){return rt})),n.d(t,"Bb",(function(){return it})),n.d(t,"Cb",(function(){return ot})),n.d(t,"Db",(function(){return Nt})),n.d(t,"Eb",(function(){return Ut})),n.d(t,"Fb",(function(){return Bt})),n.d(t,"Gb",(function(){return Mt})),n.d(t,"Hb",(function(){return Lt})),n.d(t,"Ib",(function(){return R})),n.d(t,"Jb",(function(){return A})),n.d(t,"Kb",(function(){return O})),n.d(t,"Lb",(function(){return Ft})),n.d(t,"Mb",(function(){return T})),n.d(t,"Nb",(function(){return D})),n.d(t,"Ob",(function(){return N})),n.d(t,"Pb",(function(){return jt})),n.d(t,"Qb",(function(){return at})),n.d(t,"Rb",(function(){return Vt}));var b=function(e){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},w=function(){function e(e){this.el=e,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,E(this.el)},e.prototype.handleChangeEvent=function(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),E(this.el))},e.prototype._handleBlurEvent=function(e){e===this.el.nativeElement&&(this.onTouched(),E(this.el))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.el.nativeElement.disabled=e},e}(),E=function(e){b((function(){var t=e.nativeElement,n=_(t);C(t,n);var r=t.closest("ion-item");r&&C(r,n)}))},_=function(e){for(var t=e.classList,n=[],r=0;r<t.length;r++){var i=t.item(r);null!==i&&S(i,"ng-")&&n.push("ion-"+i.substr(3))}return n},C=function(e,t){var n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add.apply(n,t)},S=function(e,t){return e.substr(0,t.length)===t},I=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype.writeValue=function(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,E(this.el)},t.prototype._handleIonChange=function(e){this.handleChangeEvent(e,e.checked)},t}(w),A=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype._handleIonChange=function(e){this.handleChangeEvent(e,e.value)},t.prototype.registerOnChange=function(t){e.prototype.registerOnChange.call(this,(function(e){t(""===e?null:parseFloat(e))}))},t}(w),T=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype._handleIonSelect=function(e){this.handleChangeEvent(e,e.checked)},t}(w),D=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype._handleChangeEvent=function(e){this.handleChangeEvent(e,e.value)},t}(w),N=function(e){function t(t){return e.call(this,t)||this}return Object(r.__extends)(t,e),t.prototype._handleInputEvent=function(e){this.handleChangeEvent(e,e.value)},t}(w),O=function(){function e(e,t){var n=this;this.doc=e,this.backButton=new l.a,this.pause=new l.a,this.resume=new l.a,this.resize=new l.a,t.run((function(){var r;n.win=e.defaultView,n.backButton.subscribeWithPriority=function(e,n){return this.subscribe((function(r){return r.register(e,(function(){return t.run(n)}))}))},x(n.pause,e,"pause"),x(n.resume,e,"resume"),x(n.backButton,e,"ionBackButton"),x(n.resize,n.win,"resize"),n._readyPromise=new Promise((function(e){r=e})),n.win&&n.win.cordova?e.addEventListener("deviceready",(function(){r("cordova")}),{once:!0}):r("dom")}))}return e.prototype.is=function(e){return Object(a.f)(this.win,e)},e.prototype.platforms=function(){return Object(a.e)(this.win)},e.prototype.ready=function(){return this._readyPromise},Object.defineProperty(e.prototype,"isRTL",{get:function(){return"rtl"===this.doc.dir},enumerable:!0,configurable:!0}),e.prototype.getQueryParam=function(e){return k(this.win.location.href,e)},e.prototype.isLandscape=function(){return!this.isPortrait()},e.prototype.isPortrait=function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches},e.prototype.testUserAgent=function(e){var t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)},e.prototype.url=function(){return this.win.location.href},e.prototype.width=function(){return this.win.innerWidth},e.prototype.height=function(){return this.win.innerHeight},e.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new e(Object(i.inject)(o.DOCUMENT),Object(i.inject)(i.NgZone))},token:e,providedIn:"root"}),e}(),k=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},x=function(e,t,n){t&&t.addEventListener(n,(function(t){e.next(null!=t?t.detail:void 0)}))},R=function(){function e(e,t,n,r){var i=this;this.location=t,this.serializer=n,this.router=r,this.direction=M,this.animated=L,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe((function(e){if(e instanceof s.d){var t=e.restoredState?e.restoredState.navigationId:e.id;i.guessDirection=t<i.lastNavId?"back":"forward",i.guessAnimation=e.restoredState?void 0:i.guessDirection,i.lastNavId="forward"===i.guessDirection?e.id:t}})),e.backButton.subscribeWithPriority(0,(function(){return i.pop()}))}return e.prototype.navigateForward=function(e,t){return void 0===t&&(t={}),this.setDirection("forward",t.animated,t.animationDirection),this.navigate(e,t)},e.prototype.navigateBack=function(e,t){return void 0===t&&(t={}),this.setDirection("back",t.animated,t.animationDirection),this.navigate(e,t)},e.prototype.navigateRoot=function(e,t){return void 0===t&&(t={}),this.setDirection("root",t.animated,t.animationDirection),this.navigate(e,t)},e.prototype.back=function(e){return void 0===e&&(e={animated:!0,animationDirection:"back"}),this.setDirection("back",e.animated,e.animationDirection),this.location.back()},e.prototype.pop=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:e=this.topOutlet,t.label=1;case 1:return e?[4,e.pop()]:[3,3];case 2:return t.sent()?[3,3]:(e=e.parentOutlet,[3,1]);case 3:return[2]}}))}))},e.prototype.setDirection=function(e,t,n){this.direction=e,this.animated=P(e,t,n)},e.prototype.setTopOutlet=function(e){this.topOutlet=e},e.prototype.consumeTransition=function(){var e,t="root";return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=M,this.animated=L,{direction:t,animation:e}},e.prototype.navigate=function(e,t){if(Array.isArray(e))return this.router.navigate(e,t);var n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object(r.__assign)({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)},e.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new e(Object(i.inject)(O),Object(i.inject)(o.Location),Object(i.inject)(s.r),Object(i.inject)(s.m,8))},token:e,providedIn:"root"}),e}(),P=function(e,t,n){if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},M="auto",L=void 0,F=function(e,t){var n=e.prototype;t.forEach((function(e){Object.defineProperty(n,e,{get:function(){return this.el[e]},set:function(t){var n=this;this.z.runOutsideAngular((function(){return n.el[e]=t}))}})}))},j=function(e,t){var n=e.prototype;t.forEach((function(e){n[e]=function(){var t=this,n=arguments;return this.z.runOutsideAngular((function(){return t.el[e].apply(t.el,n)}))}}))},B=function(e,t,n){n.forEach((function(n){return e[n]=Object(h.a)(t,n)}))},V=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),U=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),$=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F($,["color","defaultHref","disabled","icon","mode","text","type"]);var q=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionBackdropTap"])}}();F(q,["stopPropagation","tappable","visible"]);var H=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(H,["color","mode"]);var z=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionFocus","ionBlur"])}}();F(z,["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerDirection","shape","size","strong","target","type"]);var G=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),W=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(W,["button","color","disabled","download","href","mode","rel","routerDirection","target","type"]);var Q=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Q,["mode"]);var K=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(K,["color","mode","translucent"]);var Y=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Y,["color","mode"]);var X=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(X,["color","mode"]);var Z=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionFocus","ionBlur"])}}();F(Z,["checked","color","disabled","indeterminate","mode","name","value"]);var J=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(J,["color","mode","outline"]);var ee=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ee,["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]);var te=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}}();j(te,["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]),F(te,["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"]);var ne=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}}();j(ne,["open"]),F(ne,["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"]);var re=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();j(re,["close"]),F(re,["activated","edge","horizontal","vertical"]);var ie=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionFocus","ionBlur"])}}();F(ie,["activated","color","disabled","download","href","mode","rel","routerDirection","show","size","target","translucent","type"]);var oe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(oe,["activated","side"]);var se=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(se,["mode","translucent"]);var ae=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ae,["fixed"]);var ue=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ue,["mode","translucent"]);var ce=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ce,["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]);var le=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}}();F(le,["alt","src"]);var he=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionInfinite"])}}();j(he,["complete"]),F(he,["disabled","position","threshold"]);var de=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(de,["loadingSpinner","loadingText"]);var fe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}}();j(fe,["setFocus","getInputElement"]),F(fe,["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"]);var pe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(pe,["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerDirection","target","type"]);var me=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(me,["color","mode","sticky"]);var ge=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),ye=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ye,["color","disabled","download","expandable","href","mode","rel","target","type"]);var ve=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionSwipe"])}}();F(ve,["side"]);var be=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionDrag"])}}();j(be,["getOpenAmount","getSlidingRatio","open","close","closeOpened"]),F(be,["disabled"]);var we=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(we,["color","mode","position"]);var Ee=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();j(Ee,["closeSlidingItems"]),F(Ee,["inset","lines","mode"]);var _e=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(_e,["color","mode"]);var Ce=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}}();j(Ce,["isOpen","isActive","open","close","toggle","setOpen"]),F(Ce,["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"]);var Se=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Se,["autoHide","color","disabled","menu","type"]);var Ie=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Ie,["autoHide","menu"]);var Ae=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionNavWillChange","ionNavDidChange"])}}();j(Ae,["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]),F(Ae,["animated","animation","root","rootParams","swipeGesture"]);var Te=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Te,["component","componentProps","routerDirection"]);var De=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),Ne=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Ne,["component","componentProps"]);var Oe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Oe,["component","componentProps"]);var ke=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ke,["color","mode"]);var xe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(xe,["buffer","color","mode","reversed","type","value"]);var Re=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionSelect","ionFocus","ionBlur"])}}();F(Re,["checked","color","disabled","mode","name","value"]);var Pe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange"])}}();F(Pe,["allowEmptySelection","name","value"]);var Me=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionFocus","ionBlur"])}}();F(Me,["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]);var Le=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionRefresh","ionPull","ionStart"])}}();j(Le,["complete","cancel","getProgress"]),F(Le,["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"]);var Fe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Fe,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]);var je=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),Be=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionItemReorder"])}}();j(Be,["complete"]),F(Be,["disabled"]);var Ve=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();j(Ve,["addRipple"]),F(Ve,["type"]);var Ue=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),$e=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}}();j($e,["setFocus","getInputElement"]),F($e,["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","inputmode","mode","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]);var qe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionStyle"])}}();F(qe,["color","disabled","mode","scrollable","value"]);var He=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionSelect"])}}();F(He,["checked","disabled","layout","mode","type","value"]);var ze=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}}();j(ze,["open"]),F(ze,["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"]);var Ge=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Ge,["disabled","selected","value"]);var We=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(We,["animated","width"]);var Qe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),Ke=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}}();j(Ke,["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]),F(Ke,["mode","options","pager","scrollbar"]);var Ye=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Ye,["color","duration","name","paused"]);var Xe=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionSplitPaneVisible"])}}();F(Xe,["contentId","disabled","when"]);var Ze=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Ze,["color","mode","selectedTab","translucent"]);var Je=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(Je,["disabled","download","href","layout","mode","rel","selected","tab","target"]);var et=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(et,["color","mode"]);var tt=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}}();j(tt,["setFocus","getInputElement"]),F(tt,["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"]);var nt=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}(),rt=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(rt,["color"]);var it=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,B(this,this.el,["ionChange","ionFocus","ionBlur"])}}();F(it,["checked","color","disabled","mode","name","value"]);var ot=function(){return function(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}}();F(ot,["color","mode"]);var st=function(){function e(){}return e.prototype.get=function(e,t){var n=ut();return n?n.get(e,t):null},e.prototype.getBoolean=function(e,t){var n=ut();return!!n&&n.getBoolean(e,t)},e.prototype.getNumber=function(e,t){var n=ut();return n?n.getNumber(e,t):0},e.prototype.set=function(e,t){var n=ut();n&&n.set(e,t)},e.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),at=new i.InjectionToken("USERCONFIG"),ut=function(){if("undefined"!=typeof window){var e=window.Ionic;if(e&&e.config)return e.config}return null},ct=function(){function e(e){void 0===e&&(e={}),this.data=e}return e.prototype.get=function(e){return this.data[e]},e}(),lt=function(){function e(e,t){this.zone=e,this.appRef=t}return e.prototype.create=function(e,t,n){return new ht(e,t,n,this.appRef,this.zone)},e}(),ht=function(){function e(e,t,n,r,i){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return e.prototype.attachViewToDom=function(e,t,n,r){var i=this;return this.zone.run((function(){return new Promise((function(o){o(dt(i.zone,i.resolver,i.injector,i.location,i.appRef,i.elRefMap,i.elEventsMap,e,t,n,r))}))}))},e.prototype.removeViewFromDom=function(e,t){var n=this;return this.zone.run((function(){return new Promise((function(e){var r=n.elRefMap.get(t);if(r){r.destroy(),n.elRefMap.delete(t);var i=n.elEventsMap.get(t);i&&(i(),n.elEventsMap.delete(t))}e()}))}))},e}(),dt=function(e,t,n,r,o,s,a,u,c,l,h){var d=t.resolveComponentFactory(c),f=i.Injector.create({providers:gt(l),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),m=p.instance,g=p.location.nativeElement;if(l&&Object.assign(m,l),h)for(var y=0,v=h;y<v.length;y++)g.classList.add(v[y]);var b=pt(e,m,g);return u.appendChild(g),r||o.attachView(p.hostView),p.changeDetectorRef.reattach(),s.set(g,p),a.set(g,b),g},ft=[u.a,u.b,u.c,u.d,u.e],pt=function(e,t,n){return e.run((function(){var e=ft.filter((function(e){return"function"==typeof t[e]})).map((function(e){var r=function(n){return t[e](n.detail)};return n.addEventListener(e,r),function(){return n.removeEventListener(e,r)}}));return function(){return e.forEach((function(e){return e()}))}}))},mt=new i.InjectionToken("NavParamsToken"),gt=function(e){return[{provide:mt,useValue:e},{provide:ct,useFactory:yt,deps:[mt]}]},yt=function(e){return new ct(e)},vt=function(e,t){return(e=e.filter((function(e){return e.stackId!==t.stackId}))).push(t),e},bt=function(e,t){var n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},wt=function(e,t){if(e)for(var n=Et(t),r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},Et=function(e){return e.split("/").map((function(e){return e.trim()})).filter((function(e){return""!==e}))},_t=function(e){e&&(e.ref.destroy(),e.unlistenEvents())},Ct=function(){function e(e,t,n,r,i,o){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=i,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Et(e):void 0}return e.prototype.createView=function(e,t){var n=bt(this.router,t),r=e&&e.location&&e.location.nativeElement,i=pt(this.zone,e.instance,r);return{id:this.nextId++,stackId:wt(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:e,url:n}},e.prototype.getExistingView=function(e){var t=bt(this.router,e),n=this.views.find((function(e){return e.url===t}));return n&&n.ref.changeDetectorRef.reattach(),n},e.prototype.setActive=function(e){var t=this,n=this.navCtrl.consumeTransition(),r=n.direction,i=n.animation,o=this.activeView,s=function(e,t){return!t||e.stackId!==t.stackId}(e,o);s&&(r="back",i=void 0);var a,u=this.views.slice(),c=this.router;c.getCurrentNavigation?a=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(a=c.navigations.value),a&&a.extras&&a.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);var l=this.views.includes(e),h=this.insertView(e,r);return l||e.ref.changeDetectorRef.detectChanges(),this.zone.runOutsideAngular((function(){return t.wait((function(){return o&&o.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),t.transition(e,o,i,t.canGoBack(1),!1).then((function(){return St(e,h,u,t.location)})).then((function(){return{enteringView:e,direction:r,animation:i,tabSwitch:s}}))}))}))},e.prototype.canGoBack=function(e,t){return void 0===t&&(t=this.getActiveStackId()),this.getStack(t).length>e},e.prototype.pop=function(e,t){var n=this;return void 0===t&&(t=this.getActiveStackId()),this.zone.run((function(){var r=n.getStack(t);if(r.length<=e)return Promise.resolve(!1);var i=r[r.length-e-1],o=i.url,s=i.savedData;if(s){var a=s.get("primary");a&&a.route&&a.route._routerState&&a.route._routerState.snapshot&&a.route._routerState.snapshot.url&&(o=a.route._routerState.snapshot.url)}return n.navCtrl.navigateBack(o,i.savedExtras).then((function(){return!0}))}))},e.prototype.startBackTransition=function(){var e=this,t=this.activeView;if(t){var n=this.getStack(t.stackId),r=n[n.length-2];return this.wait((function(){return e.transition(r,t,"back",e.canGoBack(2),!0)}))}return Promise.resolve()},e.prototype.endBackTransition=function(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&It(this.activeView,this.views,this.views,this.location)},e.prototype.getLastUrl=function(e){var t=this.getStack(e);return t.length>0?t[t.length-1]:void 0},e.prototype.getActiveStackId=function(){return this.activeView?this.activeView.stackId:void 0},e.prototype.destroy=function(){this.containerEl=void 0,this.views.forEach(_t),this.activeView=void 0,this.views=[]},e.prototype.getStack=function(e){return this.views.filter((function(t){return t.stackId===e}))},e.prototype.insertView=function(e,t){return this.activeView=e,this.views=function(e,t,n){return"root"===n?vt(e,t):"forward"===n?function(e,t){return e.indexOf(t)>=0?e=e.filter((function(e){return e.stackId!==t.stackId||e.id<=t.id})):e.push(t),e}(e,t):function(e,t){return e.indexOf(t)>=0?e.filter((function(e){return e.stackId!==t.stackId||e.id<=t.id})):vt(e,t)}(e,t)}(this.views,e,t),this.views.slice()},e.prototype.transition=function(e,t,n,r,i){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);var o=e?e.element:void 0,s=t?t.element:void 0,a=this.containerEl;return o&&o!==s&&(o.classList.add("ion-page","ion-page-invisible"),o.parentElement!==a&&a.appendChild(o),a.commit)?a.commit(o,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i}):Promise.resolve(!1)},e.prototype.wait=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return void 0===this.runningTask?[3,2]:[4,this.runningTask];case 1:t.sent(),this.runningTask=void 0,t.label=2;case 2:return[2,this.runningTask=e()]}}))}))},e}(),St=function(e,t,n,r){return"function"==typeof requestAnimationFrame?new Promise((function(i){requestAnimationFrame((function(){It(e,t,n,r),i()}))})):Promise.resolve()},It=function(e,t,n,r){n.filter((function(e){return!t.includes(e)})).forEach(_t),t.forEach((function(t){var n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){var i=t.element;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}}))},At=function(){function e(e,t,n,r,o,a,u,c,l,h,f,p,m){this.parentContexts=e,this.location=t,this.resolver=n,this.config=a,this.navCtrl=u,this.parentOutlet=m,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new d.a(null),this.stackEvents=new i.EventEmitter,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.nativeEl=l.nativeElement,this.name=r||s.f,this.tabsPrefix="true"===o?bt(h,p):void 0,this.stackCtrl=new Ct(this.tabsPrefix,this.nativeEl,h,u,f,c),e.onChildOutletCreated(this.name,this)}return Object.defineProperty(e.prototype,"animated",{set:function(e){this.nativeEl.animated=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swipeGesture",{set:function(e){var t=this;this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:function(){return t.stackCtrl.canGoBack(1)},onStart:function(){return t.stackCtrl.startBackTransition()},onEnd:function(e){return t.stackCtrl.endBackTransition(e)}}:void 0},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.stackCtrl.destroy()},e.prototype.getContext=function(){return this.parentContexts.getContext(this.name)},e.prototype.ngOnInit=function(){var e=this;if(!this.activated){var t=this.getContext();t&&t.route&&this.activateWith(t.route,t.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then((function(){void 0===e._swipeGesture&&(e.swipeGesture=e.config.getBoolean("swipeBackEnabled","ios"===e.nativeEl.mode))}))},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){throw new Error("incompatible reuse strategy")},e.prototype.attach=function(e,t){throw new Error("incompatible reuse strategy")},e.prototype.deactivate=function(){if(this.activated){if(this.activatedView){this.activatedView.savedData=new Map(this.getContext().children.contexts),this.activatedView.savedExtras={};var e=this.getContext();if(e.route){var t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}var n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}},e.prototype.activateWith=function(e,t){var n,r=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var i=this.stackCtrl.getExistingView(e);if(i){n=this.activated=i.ref;var o=i.savedData;o&&(this.getContext().children.contexts=o),this.updateActivatedRouteProxy(n.instance,e)}else{var s=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new d.a(null),c=this.createActivatedRouteProxy(u,e),l=new Tt(c,a,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,l),u.next(n.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,c),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then((function(e){r.navCtrl.setTopOutlet(r),r.activateEvents.emit(n.instance),r.stackEvents.emit(e)}))},e.prototype.canGoBack=function(e,t){return void 0===e&&(e=1),this.stackCtrl.canGoBack(e,t)},e.prototype.pop=function(e,t){return void 0===e&&(e=1),this.stackCtrl.pop(e,t)},e.prototype.getLastUrl=function(e){var t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0},e.prototype.getActiveStackId=function(){return this.stackCtrl.getActiveStackId()},e.prototype.createActivatedRouteProxy=function(e,t){var n=new s.a;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n},e.prototype.proxyObservable=function(e,t){var n=this;return e.pipe(Object(f.a)((function(e){return!!e})),Object(p.a)((function(e){return n.currentActivatedRoute$.pipe(Object(f.a)((function(t){return null!==t&&t.component===e})),Object(p.a)((function(e){return e&&e.activatedRoute[t]})),e=>e.lift(new g(void 0,void 0)))})))},e.prototype.updateActivatedRouteProxy=function(e,t){var n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})},e}(),Tt=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===s.a?this.route:e===s.b?this.childContexts:this.parent.get(e,t)},e}(),Dt=function(){function e(e){this.navCtrl=e,this.ionTabsWillChange=new i.EventEmitter,this.ionTabsDidChange=new i.EventEmitter}return e.prototype.onPageSelected=function(e){var t=e.enteringView.stackId;e.tabSwitch&&void 0!==t&&(this.tabBar&&(this.tabBar.selectedTab=t),this.ionTabsWillChange.emit({tab:t}),this.ionTabsDidChange.emit({tab:t}))},e.prototype.select=function(e){var t=this.outlet.getActiveStackId()===e,n=this.outlet.tabsPrefix+"/"+e,r=t?n:this.outlet.getLastUrl(e)||n;return this.navCtrl.navigateRoot(r,{animated:!0,animationDirection:"back"})},e.prototype.getSelected=function(){return this.outlet.getActiveStackId()},e}(),Nt=function(){function e(e,t,n){this.z=e,this.iterableDiffers=t,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}return e.prototype.ngOnChanges=function(e){if(this.trackBy&&"items"in e){var t=e.items.currentValue;if(void 0===this.differ&&null!=t)try{this.differ=this.iterableDiffers.find(t).create(this.trackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},e.prototype.ngDoCheck=function(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)},e.prototype.nodeRender=function(e,t,n){var r=this;return this.z.run((function(){var i;if(e){var o=(i=r.refMap.get(e)).context;o.$implicit=t.value,o.index=t.index}else i=r.itmTmp.viewContainer.createEmbeddedView(r.getComponent(t.type),{$implicit:t.value,index:n},n),e=Ot(i),r.refMap.set(e,i);return i.detectChanges(),e}))},e.prototype.getComponent=function(e){switch(e){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")},e}(),Ot=function(e){for(var t=e.rootNodes,n=0;n<t.length;n++)if(1===t[n].nodeType)return t[n];throw new Error("virtual element was not created")};F(Nt,["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight"]),j(Nt,["checkEnd","checkRange","positionForItem"]);var kt=function(){return function(e){var t=e.nativeElement,n=Array.from(t.attributes).map((function(e){return e.name})).filter((function(e){return xt.includes(e)}));n.length>0&&console.warn("[DEPRECATED][CSS] Ionic CSS attributes are deprecated.\nReplace:\n'<"+t.tagName.toLowerCase()+" "+n.map((function(e){return""+e})).join(" ")+">'\n\nWith:\n'<"+t.tagName.toLowerCase()+' class="'+n.map((function(e){return"ion-"+e})).join(" ")+"\">'\n      ")}}(),xt=["align-self-start","align-self-end","align-self-center","align-self-stretch","align-self-baseline","align-self-auto","wrap","wrap-reverse","justify-content-start","justify-content-center","justify-content-end","justify-content-around","justify-content-between","justify-content-evenly","align-items-start","align-items-center","align-items-end","align-items-stretch","align-items-baseline","float-left","float-right","float-start","float-end","float-sm-left","float-sm-right","float-sm-start","float-sm-end","float-md-left","float-md-right","float-md-start","float-md-end","float-lg-left","float-lg-right","float-lg-start","float-lg-end","float-xl-left","float-xl-right","float-xl-start","float-xl-end","text-center","text-justify","text-start","text-end","text-left","text-right","text-nowrap","text-wrap","text-sm-center","text-sm-justify","text-sm-start","text-sm-end","text-sm-left","text-sm-right","text-sm-nowrap","text-sm-wrap","text-md-center","text-md-justify","text-md-start","text-md-end","text-md-left","text-md-right","text-md-nowrap","text-md-wrap","text-lg-center","text-lg-justify","text-lg-start","text-lg-end","text-lg-left","text-lg-right","text-lg-nowrap","text-lg-wrap","text-xl-center","text-xl-justify","text-xl-start","text-xl-end","text-xl-left","text-xl-right","text-xl-nowrap","text-xl-wrap","text-uppercase","text-lowercase","text-capitalize","text-sm-uppercase","text-sm-lowercase","text-sm-capitalize","text-md-uppercase","text-md-lowercase","text-md-capitalize","text-lg-uppercase","text-lg-lowercase","text-lg-capitalize","text-xl-uppercase","text-xl-lowercase","text-xl-capitalize","no-padding","padding","padding-top","padding-bottom","padding-start","padding-end","padding-vertical","padding-horizontal","no-margin","margin","margin-top","margin-bottom","margin-start","margin-end","margin-vertical","margin-horizontal"],Rt=function(){function e(e){this.ctrl=e}return e.prototype.create=function(e){return this.ctrl.create(e||{})},e.prototype.dismiss=function(e,t,n){return this.ctrl.dismiss(e,t,n)},e.prototype.getTop=function(){return this.ctrl.getTop()},e}(),Pt=function(e){function t(){return e.call(this,c.b)||this}return Object(r.__extends)(t,e),t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t},token:t,providedIn:"root"}),t}(Rt),Mt=function(e){function t(){return e.call(this,c.m)||this}return Object(r.__extends)(t,e),t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t},token:t,providedIn:"root"}),t}(Rt),Lt=function(e){function t(t,n,r){var i=e.call(this,c.n)||this;return i.angularDelegate=t,i.resolver=n,i.injector=r,i}return Object(r.__extends)(t,e),t.prototype.create=function(t){return e.prototype.create.call(this,Object(r.__assign)({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},t}(Rt),Ft=function(e){function t(t,n,r){var i=e.call(this,c.d)||this;return i.angularDelegate=t,i.resolver=n,i.injector=r,i}return Object(r.__extends)(t,e),t.prototype.create=function(t){return e.prototype.create.call(this,Object(r.__assign)({},t,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},t}(Rt),jt=function(e){function t(){return e.call(this,c.q)||this}return Object(r.__extends)(t,e),t.ngInjectableDef=Object(i.defineInjectable)({factory:function(){return new t},token:t,providedIn:"root"}),t}(Rt),Bt=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.shouldAttach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){if(e.routeConfig!==t.routeConfig)return!1;var n=e.params,r=t.params,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(var s=0,a=i;s<a.length;s++){var u=a[s];if(r[u]!==n[u])return!1}return!0},e}(),Vt=function(e,t,i){return function(){var o=t.defaultView;if(o){(o.Ionic=o.Ionic||{}).config=Object(r.__assign)({},e,{_zoneGate:function(e){return i.run(e)}});var s="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=window,t=[];return e.customElements&&(!e.Element||e.Element.prototype.closest&&e.Element.prototype.matches&&e.Element.prototype.remove)||t.push(n.e(103).then(n.t.bind(null,"QdDj",7))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!e.NodeList||e.NodeList.prototype.forEach)&&e.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||t.push(n.e(101).then(n.t.bind(null,"t6o4",7))),e.CSS&&e.CSS.supports&&e.CSS.supports("color","var(--c)")||t.push(n.e(102).then(n.t.bind(null,"KIXJ",7))),Promise.all(t)}().then((function(){return((e,t)=>Object(v.b)().then(()=>{Object(v.h)(),Object(v.c)(JSON.parse('[[{"ios":"ion-select_3-ios","md":"ion-select_3-md"},[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionSelect","onSelect"]]],[1,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"selected":[4],"value":[8]}]]],[{"ios":"ion-menu_4-ios","md":"ion-menu_4-md"},[[1,"ion-menu-button",{"color":[1],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]],[1,"ion-menu",{"contentId":[1,"content-id"],"menuId":[1,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[32,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[0,"ion-menu-controller",{"open":[64],"close":[64],"toggle":[64],"enable":[64],"swipeGesture":[64],"isOpen":[64],"isEnabled":[64],"get":[64],"getOpen":[64],"getMenus":[64],"isAnimating":[64],"registerAnimation":[64]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]]]],[{"ios":"ion-action-sheet-ios","md":"ion-action-sheet-md"},[[2,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-fab_3-ios","md":"ion-fab_3-md"},[[1,"ion-fab-button",{"color":[1],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],[{"ios":"ion-refresher_2-ios","md":"ion-refresher_2-md"},[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[0,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],[{"ios":"ion-backdrop-ios","md":"ion-backdrop-md"},[[1,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"touchstart","onTouchStart"],[2,"click","onMouseDown"],[2,"mousedown","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],[{"ios":"ion-alert-ios","md":"ion-alert-md"},[[2,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-back-button-ios","md":"ion-back-button-md"},[[2,"ion-back-button",{"color":[1],"defaultHref":[1,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1]}]]],[{"ios":"ion-loading-ios","md":"ion-loading-md"},[[2,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-toast-ios","md":"ion-toast-md"},[[1,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[1],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"showCloseButton":[4,"show-close-button"],"closeButtonText":[1,"close-button-text"],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-card_5-ios","md":"ion-card_5-md"},[[6,"ion-card",{"color":[1],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}],[0,"ion-card-content"],[1,"ion-card-header",{"color":[1],"translucent":[4]}],[1,"ion-card-subtitle",{"color":[1]}],[1,"ion-card-title",{"color":[1]}]]],[{"ios":"ion-item-option_3-ios","md":"ion-item-option_3-md"},[[1,"ion-item-option",{"color":[1],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[0,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],[{"ios":"ion-infinite-scroll_2-ios","md":"ion-infinite-scroll_2-md"},[[0,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],[{"ios":"ion-reorder_2-ios","md":"ion-reorder_2-md"},[[1,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],[{"ios":"ion-segment_2-ios","md":"ion-segment_2-md"},[[1,"ion-segment-button",{"checked":[1028],"disabled":[4],"layout":[1],"type":[1],"value":[1]}],[2,"ion-segment",{"color":[1],"disabled":[4],"scrollable":[4],"value":[1025]},[[0,"ionSelect","segmentClick"]]]]],[{"ios":"ion-tab-bar_2-ios","md":"ion-tab-bar_2-md"},[[1,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[16,"ionTabBarChanged","onTabBarChanged"]]],[1,"ion-tab-bar",{"color":[1],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},[[8,"keyboardWillHide","onKeyboardWillHide"],[8,"keyboardWillShow","onKeyboardWillShow"]]]]],[{"ios":"ion-chip-ios","md":"ion-chip-md"},[[1,"ion-chip",{"color":[1],"outline":[4]}]]],[{"ios":"ion-modal-ios","md":"ion-modal-md"},[[2,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-popover-ios","md":"ion-popover-md"},[[2,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-searchbar-ios","md":"ion-searchbar-md"},[[2,"ion-searchbar",{"color":[1],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[8,"show-cancel-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-action-sheet-controller_8",[[0,"ion-action-sheet-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-alert-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[1,"ion-anchor",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"]}],[0,"ion-loading-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-modal-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-picker-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-popover-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-toast-controller",{"create":[64],"dismiss":[64],"getTop":[64]}]]],[{"ios":"ion-app_8-ios","md":"ion-app_8-md"},[[0,"ion-app"],[2,"ion-buttons"],[1,"ion-content",{"color":[1],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[2,"click","onClick"]]],[0,"ion-footer",{"translucent":[4]}],[0,"ion-header",{"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[1,"ion-title",{"color":[1]}],[1,"ion-toolbar",{"color":[1]},[[0,"ionStyle","childrenStyle"]]]]],["ion-nav_5",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"]}],[0,"ion-nav-pop"],[0,"ion-nav-push",{"component":[1],"componentProps":[16]}],[0,"ion-nav-set-root",{"component":[1],"componentProps":[16]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}]]],[{"ios":"ion-avatar_3-ios","md":"ion-avatar_3-md"},[[1,"ion-avatar"],[1,"ion-badge",{"color":[1]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],[{"ios":"ion-slide_2-ios","md":"ion-slide_2-md"},[[0,"ion-slide"],[4,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],[{"ios":"ion-checkbox-ios","md":"ion-checkbox-md"},[[1,"ion-checkbox",{"color":[1],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],[{"ios":"ion-input-ios","md":"ion-input-md"},[[2,"ion-input",{"color":[1],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1025],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-progress-bar-ios","md":"ion-progress-bar-md"},[[1,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[1]}]]],[{"ios":"ion-range-ios","md":"ion-range-md"},[[1,"ion-range",{"color":[1],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],[{"ios":"ion-split-pane-ios","md":"ion-split-pane-md"},[[0,"ion-split-pane",{"contentId":[1,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[1]}]]],[{"ios":"ion-textarea-ios","md":"ion-textarea-md"},[[2,"ion-textarea",{"color":[1],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-toggle-ios","md":"ion-toggle-md"},[[1,"ion-toggle",{"color":[1],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],[{"ios":"ion-datetime_3-ios","md":"ion-datetime_3-md"},[[2,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[1,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[0,"ion-picker-column",{"col":[16]}]]],[{"ios":"ion-radio_2-ios","md":"ion-radio_2-md"},[[1,"ion-radio",{"color":[1],"name":[1],"disabled":[4],"checked":[1028],"value":[1032]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[1],"duration":[2],"name":[1],"paused":[4]}]]],[{"ios":"ion-button_2-ios","md":"ion-button_2-md"},[[1,"ion-button",{"color":[1],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"color":[1],"ariaLabel":[1537,"aria-label"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"svgContent":[32],"isVisible":[32]}]]],[{"ios":"ion-item_8-ios","md":"ion-item_8-md"},[[1,"ion-item-divider",{"color":[1],"sticky":[4]}],[0,"ion-item-group"],[1,"ion-note",{"color":[1]}],[1,"ion-skeleton-text",{"animated":[4],"width":[1]}],[1,"ion-item",{"color":[1],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionStyle","itemStyle"]]],[2,"ion-label",{"color":[1],"position":[1],"noAnimate":[32]}],[0,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[1,"ion-list-header",{"color":[1]}]]]]'),t)}))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:b,jmp:function(e){return i.runOutsideAngular(e)},ael:function(e,t,n,r){e[s](t,n,r)},rel:function(e,t,n,r){e.removeEventListener(t,n,r)}})}))}}},Ut=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:at,useValue:t},{provide:i.APP_INITIALIZER,useFactory:Vt,multi:!0,deps:[at,o.DOCUMENT,i.NgZone]}]}},e}()},a3Cf:function(e,t,n){"use strict";var r=n("HPGL"),i=n("Lq6m");n.d(t,"IonicNativePlugin",(function(){return i.a})),n("KOl+");var o=n("xSm1");n.d(t,"cordova",(function(){return o.a})),n("hKQe"),n("Rt+L");var s=n("pxS/");n.d(t,"cordovaPropertyGet",(function(){return s.a})),n.d(t,"cordovaPropertySet",(function(){return s.b})),n("Ji5e"),n("4pTB"),Object(r.a)()},b0Xh:function(e,t,r){var i;(function(){var r=!1,o=function(e){return e instanceof o?e:this instanceof o?void(this.EXIFwrapped=e):new o(e)};e.exports&&(t=e.exports=o),t.EXIF=o;var s=o.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},a=o.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=o.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},c=o.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},l=o.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function h(e){return!!e.exifdata}function d(e){var t=new DataView(e);if(r&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n,i=2,o=e.byteLength;i<o;){if(255!=t.getUint8(i))return r&&console.log("Not a valid marker at offset "+i+", found: "+t.getUint8(i)),!1;if(n=t.getUint8(i+1),r&&console.log(n),225==n)return r&&console.log("Found 0xFFE1 marker"),v(t,i+4,t.getUint16(i+2));i+=2+t.getUint16(i+2)}}var f={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function p(e,t,n){for(var r,i,o,s,a=new DataView(e),u={},c=t;c<t+n;)28===a.getUint8(c)&&2===a.getUint8(c+1)&&(s=a.getUint8(c+2))in f&&(o=a.getInt16(c+3),i=f[s],r=y(a,c+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r),c++;return u}function m(e,t,n,i,o){var s,a,u,c=e.getUint16(n,!o),l={};for(u=0;u<c;u++)!(a=i[e.getUint16(s=n+12*u+2,!o)])&&r&&console.log("Unknown tag: "+e.getUint16(s,!o)),l[a]=g(e,s,t,0,o);return l}function g(e,t,n,r,i){var o,s,a,u,c,l,h=e.getUint16(t+2,!i),d=e.getUint32(t+4,!i),f=e.getUint32(t+8,!i)+n;switch(h){case 1:case 7:if(1==d)return e.getUint8(t+8,!i);for(o=d>4?f:t+8,s=[],u=0;u<d;u++)s[u]=e.getUint8(o+u);return s;case 2:return y(e,o=d>4?f:t+8,d-1);case 3:if(1==d)return e.getUint16(t+8,!i);for(o=d>2?f:t+8,s=[],u=0;u<d;u++)s[u]=e.getUint16(o+2*u,!i);return s;case 4:if(1==d)return e.getUint32(t+8,!i);for(s=[],u=0;u<d;u++)s[u]=e.getUint32(f+4*u,!i);return s;case 5:if(1==d)return c=e.getUint32(f,!i),l=e.getUint32(f+4,!i),(a=new Number(c/l)).numerator=c,a.denominator=l,a;for(s=[],u=0;u<d;u++)c=e.getUint32(f+8*u,!i),l=e.getUint32(f+4+8*u,!i),s[u]=new Number(c/l),s[u].numerator=c,s[u].denominator=l;return s;case 9:if(1==d)return e.getInt32(t+8,!i);for(s=[],u=0;u<d;u++)s[u]=e.getInt32(f+4*u,!i);return s;case 10:if(1==d)return e.getInt32(f,!i)/e.getInt32(f+4,!i);for(s=[],u=0;u<d;u++)s[u]=e.getInt32(f+8*u,!i)/e.getInt32(f+4+8*u,!i);return s}}function y(e,t,r){var i="";for(n=t;n<t+r;n++)i+=String.fromCharCode(e.getUint8(n));return i}function v(e,t){if("Exif"!=y(e,t,4))return r&&console.log("Not valid EXIF data! "+y(e,t,4)),!1;var n,i,o,h,d,f=t+6;if(18761==e.getUint16(f))n=!1;else{if(19789!=e.getUint16(f))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(f+2,!n))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var p=e.getUint32(f+4,!n);if(p<8)return r&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(f+4,!n)),!1;if((i=m(e,f,f+p,a,n)).ExifIFDPointer)for(o in h=m(e,f,f+i.ExifIFDPointer,s,n)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":h[o]=l[o][h[o]];break;case"ExifVersion":case"FlashpixVersion":h[o]=String.fromCharCode(h[o][0],h[o][1],h[o][2],h[o][3]);break;case"ComponentsConfiguration":h[o]=l.Components[h[o][0]]+l.Components[h[o][1]]+l.Components[h[o][2]]+l.Components[h[o][3]]}i[o]=h[o]}if(i.GPSInfoIFDPointer)for(o in d=m(e,f,f+i.GPSInfoIFDPointer,u,n)){switch(o){case"GPSVersionID":d[o]=d[o][0]+"."+d[o][1]+"."+d[o][2]+"."+d[o][3]}i[o]=d[o]}return i.thumbnail=function(e,t,n,r){var i=function(e,t,n){var r=e.getUint16(t,!n);return e.getUint32(t+2+12*r,!n)}(e,t+n,r);if(!i)return{};if(i>e.byteLength)return{};var o=m(e,t,t+i,c,r);if(o.Compression)switch(o.Compression){case 6:o.JpegIFOffset&&o.JpegIFByteCount&&(o.blob=new Blob([new Uint8Array(e.buffer,t+o.JpegIFOffset,o.JpegIFByteCount)],{type:"image/jpeg"}));break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(e,f,p,n),i}function b(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var r=e.attributes.item(n);t["@attributes"][r.nodeName]=r.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes.item(i),s=o.nodeName;if(null==t[s])t[s]=b(o);else{if(null==t[s].push){var a=t[s];t[s]=[],t[s].push(a)}t[s].push(b(o))}}return t}function w(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var r=e.children.item(n),i=r.attributes;for(var o in i){var s=i[o],a=s.nodeName;void 0!==a&&(t[a]=s.nodeValue)}var u=r.nodeName;if(void 0===t[u])t[u]=b(r);else{if(void 0===t[u].push){var c=t[u];t[u]=[],t[u].push(c)}t[u].push(b(r))}}else t=e.textContent;return t}catch(l){console.log(l.message)}}o.enableXmp=function(){o.isXmpEnabled=!0},o.disableXmp=function(){o.isXmpEnabled=!1},o.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete||(h(e)?t&&t.call(e):function(e,t){function n(n){var i=d(n);e.exifdata=i||{};var s=function(e){var t=new DataView(e);if(r&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n=2,i=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};n<i;){if(o(t,n)){var s=t.getUint8(n+7);return s%2!=0&&(s+=1),0===s&&(s=4),p(e,n+8+s,t.getUint16(n+6+s))}n++}}(n);if(e.iptcdata=s||{},o.isXmpEnabled){var a=function(e){if("DOMParser"in self){var t=new DataView(e);if(r&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return r&&console.log("Not a valid JPEG"),!1;for(var n=2,i=e.byteLength,o=new DOMParser;n<i-4;){if("http"==y(t,n,4)){var s=n-1,a=t.getUint16(n-2)-1,u=y(t,s,a),c=u.indexOf("xmpmeta>")+8,l=(u=u.substring(u.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;return u=u.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+u.slice(l),w(o.parseFromString(u,"text/xml"))}n++}}}(n);e.xmpdata=a||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),s=0;s<r;s++)o[s]=n.charCodeAt(s);return i}(e.src));else if(/^blob\:/i.test(e.src))(s=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||s.readAsArrayBuffer(this.response)},n.send()}(e.src);else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var s;(s=new FileReader).onload=function(e){r&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},s.readAsArrayBuffer(e)}}(e,t),0))},o.getTag=function(e,t){if(h(e))return e.exifdata[t]},o.getIptcTag=function(e,t){if(h(e))return e.iptcdata[t]},o.getAllTags=function(e){if(!h(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},o.getAllIptcTags=function(e){if(!h(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},o.pretty=function(e){if(!h(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},o.readFromBinaryFile=function(e){return d(e)},void 0===(i=(function(){return o}).apply(t,[]))||(e.exports=i)}).call(this)},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(e=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,e)}},bOdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5+tZ");function i(e,t){return Object(r.a)(e,t,1)}},bfU7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("XNiG"),i=(n("meT2"),function(){function e(e){this.imageExifService=e}return e.prototype.compressImage=function(e,t,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var s=new r.a;if(this.timeAtStart=(new Date).getTime(),this.initialFile=e,"image/jpeg"!==e.type&&"image/png"!==e.type)return setTimeout((function(){s.error({compressedFile:e,reason:"File provided is neither of type jpg nor of type png.",error:"INVALID_EXTENSION"})}),0),s.asObservable();if(e.size/1024/1024<t)return setTimeout((function(){s.next(e)}),0),s.asObservable();var a=document.createElement("canvas"),u=a.getContext("2d"),c=new Image,l=this;return c.onload=function(){o.imageExifService.getOrientedImage(c).then((function(r){window.URL.revokeObjectURL(c.src),a.width=r.width,a.height=r.height,u.drawImage(r,0,0);var h=u.getImageData(0,0,r.width,r.height);"image/png"===e.type&&o.isImgUsingAlpha(h)&&!n&&s.error({compressedFile:e,reason:"File provided is a png image which uses the alpha channel. No compression possible.",error:"PNG_WITH_ALPHA"}),(u=a.getContext("2d",{alpha:!1})).drawImage(r,0,0),l.getCompressedFile(a,50,t,1).then((function(e){s.next(e),l.logExecutionTime(i)})).catch((function(e){s.error(e),l.logExecutionTime(i)}))}))},c.src=window.URL.createObjectURL(e),s.asObservable()},e.prototype.getCompressedFile=function(e,t,n,r){var i=this;return new Promise((function(o,s){e.toBlob((function(a){if(r+1>15)s({compressedFile:i.getResultFile(a),reason:"Could not find the correct compression quality in 15 steps.",error:"MAX_STEPS_EXCEEDED"});else{var u=i.getCalculatedQuality(a,t,n,r);i.checkCompressionStatus(e,a,t,n,r,u).then((function(e){o(e)})).catch((function(e){s(e)}))}}),"image/jpeg",t/100)}))},e.prototype.getResultFile=function(e){return this.generateResultFile(e,this.initialFile.name,this.initialFile.type,(new Date).getTime())},e.prototype.generateResultFile=function(e,t,n,r){var i=new Blob([e],{type:n});return this.blobToFile(i,t,r)},e.prototype.blobToFile=function(e,t,n){var r=e;return r.name=t,r.lastModified=n,r},e.prototype.getCalculatedQuality=function(e,t,n,r){var i=e.size/1024/1024,o=n/i;o>5&&(o=5);var s=i/(this.initialFile.size/1024/1024);s<.05&&(s=.05);var a=0,u=10*Math.abs(s-1)/(1.7*r)/o;return u<1&&(u=1),(a=o>=1?t+10*(o-1)*u:t-10*(1-o)*u)>100&&(a=t+(100-t)/2),a<0&&(a=t-t/2),a},e.prototype.checkCompressionStatus=function(e,t,n,r,i,o){var s=this;return new Promise((function(a,u){100===n&&o>=100?u({compressedFile:s.initialFile,reason:"Unfortunately there was an error while compressing the file.",error:"FILE_BIGGER_THAN_INITIAL_FILE"}):n<1&&o<n?u({compressedFile:s.getResultFile(t),reason:"Could not compress image enough to fit the maximal file size limit.",error:"UNABLE_TO_COMPRESS_ENOUGH"}):o>n&&Math.round(n)==Math.round(o)?a(s.getResultFile(t)):i>5&&o>n&&o<n+2?a(s.getResultFile(t)):o>n&&Number.isInteger(n)&&Math.floor(o)==n?a(s.getResultFile(t)):(n>o&&Math.round(n)==Math.round(o)&&(o=Math.round(o)-1),a(s.getCompressedFile(e,o,r,i+1)))}))},e.prototype.isImgUsingAlpha=function(e){for(var t=0;t<e.data.length;t+=4)if(255!==e.data[t+3])return!0;return!1},e.prototype.logExecutionTime=function(e){e&&console.info("Execution time: ",(new Date).getTime()-this.timeAtStart+"ms")},e}())},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},cUpR:function(e,t,n){"use strict";n.d(t,"p",(function(){return ve})),n.d(t,"q",(function(){return T})),n.d(t,"a",(function(){return be})),n.d(t,"h",(function(){return ye})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"b",(function(){return ue})),n.d(t,"r",(function(){return s})),n.d(t,"j",(function(){return B})),n.d(t,"i",(function(){return J})),n.d(t,"m",(function(){return ie})),n.d(t,"n",(function(){return ae})),n.d(t,"l",(function(){return x})),n.d(t,"o",(function(){return k})),n.d(t,"k",(function(){return ce}));var r=n("SVse"),i=n("8Y7J");let o=null;function s(){return o}class a{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class u extends a{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l=3,h={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},f=(()=>{if(i["\u0275global"].Node)return i["\u0275global"].Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class p extends u{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new p,o||(o=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return c}contains(e,t){return f.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===l&&d.hasOwnProperty(t)&&(t=d[t]))}return h[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=g||(g=document.querySelector("base"))?g.getAttribute("href"):null;return null==t?null:(n=t,m||(m=document.createElement("a")),m.setAttribute("href",n),"/"===m.pathname.charAt(0)?m.pathname:"/"+m.pathname);var n}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Object(r["\u0275parseCookieValue"])(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let m,g=null;function y(){return!!window.history.pushState}let v=(()=>{class e extends r.PlatformLocation{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){y()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){y()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:i.Inject,args:[r.DOCUMENT]}]}],e})();const b=new i.InjectionToken("TRANSITION_ID"),w=[{provide:i.APP_INITIALIZER,useFactory:function(e,t,n){return()=>{n.get(i.ApplicationInitStatus).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[b,r.DOCUMENT,i.Injector],multi:!0}];class E{static init(){Object(i.setTestabilityGetter)(new E)}addToWindow(e){i["\u0275global"].getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i["\u0275global"].getAllAngularTestabilities=()=>e.getAllTestabilities(),i["\u0275global"].getAllAngularRootElements=()=>e.getAllRootElements(),i["\u0275global"].frameworkStabilizers||(i["\u0275global"].frameworkStabilizers=[]),i["\u0275global"].frameworkStabilizers.push(e=>{const t=i["\u0275global"].getAllAngularTestabilities();let n=t.length,r=!1;const o=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(o)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,s().getHost(t),!0):this.findTestabilityInTree(e,s().parentElement(t),!0):null}}function _(e,t){"undefined"!=typeof COMPILED&&COMPILED||((i["\u0275global"].ng=i["\u0275global"].ng||{})[e]=t)}const C=(()=>({ApplicationRef:i.ApplicationRef,NgZone:i.NgZone}))(),S="probe",I="coreTokens";function A(e){return Object(i.getDebugNode)(e)}function T(e){return _(S,A),_(I,Object.assign({},C,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>A}const D=new i.InjectionToken("EventManagerPlugins");let N=(()=>(class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}))();class O{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let k=(()=>(class{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}))(),x=(()=>(class extends k{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>s().remove(e))}}))();const R={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},P=/%COMP%/g,M="_nghost-%COMP%",L="_ngcontent-%COMP%";function F(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?F(e,i,n):(i=i.replace(P,e),n.push(i))}return n}function j(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let B=(()=>(class{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new V(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ViewEncapsulation.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new q(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case i.ViewEncapsulation.Native:case i.ViewEncapsulation.ShadowDom:return new H(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=F(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}))();class V{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(R[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=R[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=R[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&i.RendererStyleFlags2.DashCase?e.style.setProperty(t,n,r&i.RendererStyleFlags2.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){$(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return $(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,j(n)):this.eventManager.addEventListener(e,t,j(n))}}const U=(()=>"@".charCodeAt(0))();function $(e,t){if(e.charCodeAt(0)===U)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class q extends V{constructor(e,t,n,r){super(e),this.component=n;const i=F(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=L.replace(P,r+"-"+n.id),this.hostAttr=function(e){return M.replace(P,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class H extends V{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.ViewEncapsulation.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=F(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const e=document.createElement("style");e.textContent=o[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const z=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),G=z("addEventListener"),W=z("removeEventListener"),Q={},K="__zone_symbol__propagationStopped",Y=(()=>{const e="undefined"!=typeof Zone&&Zone[z("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),X=function(e){return!!Y&&Y.hasOwnProperty(e)},Z=function(e){const t=Q[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[K];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};let J=(()=>(class extends O{constructor(e,t,n){super(e),this.ngZone=t,n&&Object(r.isPlatformServer)(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[K]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[G]||i.NgZone.isInAngularZone()&&!X(t))e.addEventListener(t,r,!1);else{let n=Q[t];n||(n=Q[t]=z("ANGULAR"+t+"FALSE"));let i=e[n];const o=i&&i.length>0;i||(i=e[n]=[]);const s=X(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===r){e=!0;break}e||i.push({zone:s,handler:r})}o||e[G](t,Z,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[W];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let i=Q[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,Z,!1]):e.removeEventListener.apply(e,[t,n,!1])}}))();const ee={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},te=new i.InjectionToken("HammerGestureConfig"),ne=new i.InjectionToken("HammerLoader");let re=(()=>(class{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}))(),ie=(()=>(class extends O{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!ee.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}))();const oe=["alt","control","meta","shift"],se={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ae=(()=>{class e extends O{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(oe.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=s().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),oe.forEach(r=>{r!=n&&(0,se[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e})();class ue{}let ce=(()=>(class extends ue{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.SecurityContext.NONE:return t;case i.SecurityContext.HTML:return t instanceof he?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(i["\u0275_sanitizeHtml"])(this._doc,String(t)));case i.SecurityContext.STYLE:return t instanceof de?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(i["\u0275_sanitizeStyle"])(t));case i.SecurityContext.SCRIPT:if(t instanceof fe)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case i.SecurityContext.URL:return t instanceof me||t instanceof pe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(i["\u0275_sanitizeUrl"])(String(t)));case i.SecurityContext.RESOURCE_URL:if(t instanceof me)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof le)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new he(e)}bypassSecurityTrustStyle(e){return new de(e)}bypassSecurityTrustScript(e){return new fe(e)}bypassSecurityTrustUrl(e){return new pe(e)}bypassSecurityTrustResourceUrl(e){return new me(e)}}))();class le{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class he extends le{getTypeName(){return"HTML"}}class de extends le{getTypeName(){return"Style"}}class fe extends le{getTypeName(){return"Script"}}class pe extends le{getTypeName(){return"URL"}}class me extends le{getTypeName(){return"ResourceURL"}}const ge=[{provide:i.PLATFORM_ID,useValue:r["\u0275PLATFORM_BROWSER_ID"]},{provide:i.PLATFORM_INITIALIZER,useValue:function(){p.makeCurrent(),E.init()},multi:!0},{provide:r.PlatformLocation,useClass:v,deps:[r.DOCUMENT]},{provide:r.DOCUMENT,useFactory:function(){return document},deps:[]}],ye=Object(i.createPlatformFactory)(i.platformCore,"browser",ge);function ve(){return new i.ErrorHandler}let be=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.APP_ID,useValue:t.appId},{provide:b,useExisting:i.APP_ID},w]}}}return e})();"undefined"!=typeof window&&window},curK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("b0Xh"),i=function(){function e(){}return e.prototype.getOrientedImage=function(e){return new Promise((function(t,n){var i;r||((r={}).getData=function(t,n){return n.call(e),!0},r.getTag=function(){return!1}),r.getData(e,(function(){var n=r.getTag(e,"Orientation");if(1!=n){var o=document.createElement("canvas"),s=o.getContext("2d"),a=e.width,u=e.height,c=0,l=0,h=0;switch(n){case 3:case 4:c=-e.width,l=-e.height,h=180;break;case 5:case 6:a=e.height,u=e.width,l=-e.height,h=90;break;case 7:case 8:a=e.height,u=e.width,c=-e.width,h=270}o.width=a,o.height=u,[2,4,5,7].indexOf(n)>-1&&(s.translate(a,0),s.scale(-1,1)),s.rotate(h*Math.PI/180),s.drawImage(e,c,l),(i=document.createElement("img")).width=a,i.height=u,i.addEventListener("load",(function(){t(i)})),i.src=o.toDataURL("image/png")}else t(e)}))}))},e}()},eIep:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function u(e,t){return"function"==typeof t?n=>n.pipe(u((n,r)=>Object(a.a)(e(n,r)).pipe(Object(s.a)((e,i)=>t(n,e,r,i))))):t=>t.lift(new c(e))}class c{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends r.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new i.a(this,void 0,void 0);this.destination.add(s),this.innerSubscription=Object(o.a)(this,e,t,n,s)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(e){},error(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},gkvR:function(e,t,n){var r;e.exports=function e(t,n,i){function o(a,u){if(!n[a]){if(!t[a]){if(!u&&"function"==typeof r&&r)return r(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,i)}return n[a].exports}for(var s="function"==typeof r&&r,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){"use strict";var r=e("inherits"),i=e("multimath"),o=e("multimath/lib/unsharp_mask"),s=e("./mm_resize");function a(e){var t=e||[],n={js:t.indexOf("js")>=0,wasm:t.indexOf("wasm")>=0};i.call(this,n),this.features={js:n.js,wasm:n.wasm&&this.has_wasm()},this.use(o),this.use(s)}r(a,i),a.prototype.resizeAndUnsharp=function(e,t){var n=this.resize(e,t);return e.unsharpAmount&&this.unsharp_mask(n,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),n},t.exports=a},{"./mm_resize":4,inherits:15,multimath:16,"multimath/lib/unsharp_mask":19}],2:[function(e,t,n){"use strict";function r(e){return e<0?0:e>255?255:e}t.exports={convolveHorizontally:function(e,t,n,i,o,s){var a,u,c,l,h,d,f,p,m,g,y,v=0,b=0;for(m=0;m<i;m++){for(h=0,g=0;g<o;g++){for(d=s[h++],f=s[h++],p=v+4*d|0,a=u=c=l=0;f>0;f--)l=l+(y=s[h++])*e[p+3]|0,c=c+y*e[p+2]|0,u=u+y*e[p+1]|0,a=a+y*e[p]|0,p=p+4|0;t[b+3]=r(l+8192>>14),t[b+2]=r(c+8192>>14),t[b+1]=r(u+8192>>14),t[b]=r(a+8192>>14),b=b+4*i|0}b=4*(m+1)|0,v=(m+1)*n*4|0}},convolveVertically:function(e,t,n,i,o,s){var a,u,c,l,h,d,f,p,m,g,y,v=0,b=0;for(m=0;m<i;m++){for(h=0,g=0;g<o;g++){for(d=s[h++],f=s[h++],p=v+4*d|0,a=u=c=l=0;f>0;f--)l=l+(y=s[h++])*e[p+3]|0,c=c+y*e[p+2]|0,u=u+y*e[p+1]|0,a=a+y*e[p]|0,p=p+4|0;t[b+3]=r(l+8192>>14),t[b+2]=r(c+8192>>14),t[b+1]=r(u+8192>>14),t[b]=r(a+8192>>14),b=b+4*i|0}b=4*(m+1)|0,v=(m+1)*n*4|0}}}},{}],3:[function(e,t,n){"use strict";t.exports="AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="},{}],4:[function(e,t,n){"use strict";t.exports={name:"resize",fn:e("./resize"),wasm_fn:e("./resize_wasm"),wasm_src:e("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(e,t,n){"use strict";var r=e("./resize_filter_gen"),i=e("./convolve").convolveHorizontally,o=e("./convolve").convolveVertically;t.exports=function(e){var t=e.src,n=e.width,s=e.height,a=e.toWidth,u=e.toHeight,c=e.scaleX||e.toWidth/e.width,l=e.scaleY||e.toHeight/e.height,h=e.offsetX||0,d=e.offsetY||0,f=e.dest||new Uint8Array(a*u*4),p=void 0===e.quality?3:e.quality,m=e.alpha||!1,g=r(p,n,a,c,h),y=r(p,s,u,l,d),v=new Uint8Array(a*s*4);return i(t,v,n,s,a,g),o(v,f,s,a,u,y),m||function(e,t,n){for(var r=3,i=t*n*4|0;r<i;)e[r]=255,r=r+4|0}(f,a,u),f}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(e,t,n){"use strict";var r=e("./resize_filter_info"),i=14;function o(e){return Math.round(e*((1<<i)-1))}t.exports=function(e,t,n,i,s){var a,u,c,l,h,d,f,p,m,g,y,v,b,w,E,_,C=r[e].filter,S=1/i,I=Math.min(1,i),A=r[e].win/I,T=Math.floor(2*(A+1)),D=new Int16Array((T+2)*n),N=0,O=!D.subarray||!D.set;for(a=0;a<n;a++){for(u=(a+.5)*S+s,c=Math.max(0,Math.floor(u-A)),h=(l=Math.min(t-1,Math.ceil(u+A)))-c+1,d=new Float32Array(h),f=new Int16Array(h),p=0,m=c,g=0;m<=l;m++,g++)p+=y=C((m+.5-u)*I),d[g]=y;for(v=0,g=0;g<d.length;g++)v+=b=d[g]/p,f[g]=o(b);for(f[n>>1]+=o(1-v),w=0;w<f.length&&0===f[w];)w++;if(w<f.length){for(E=f.length-1;E>0&&0===f[E];)E--;if(_=E-w+1,D[N++]=c+w,D[N++]=_,O)for(g=w;g<=E;g++)D[N++]=f[g];else D.set(f.subarray(w,E+1),N),N+=_}else D[N++]=0,D[N++]=0}return D}},{"./resize_filter_info":7}],7:[function(e,t,n){"use strict";t.exports=[{win:.5,filter:function(e){return e>=-.5&&e<.5?1:0}},{win:1,filter:function(e){if(e<=-1||e>=1)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},{win:2,filter:function(e){if(e<=-2||e>=2)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},{win:3,filter:function(e){if(e<=-3||e>=3)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}}]},{}],8:[function(e,t,n){"use strict";var r=e("./resize_filter_gen"),i=!0;try{i=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(s){}function o(e,t,n){if(i)t.set(function(e){return new Uint8Array(e.buffer,0,e.byteLength)}(e),n);else for(var r=n,o=0;o<e.length;o++){var s=e[o];t[r++]=255&s,t[r++]=s>>8&255}}t.exports=function(e){var t=e.src,n=e.width,i=e.height,s=e.toWidth,a=e.toHeight,u=e.scaleX||e.toWidth/e.width,c=e.scaleY||e.toHeight/e.height,l=e.offsetX||0,h=e.offsetY||0,d=e.dest||new Uint8Array(s*a*4),f=void 0===e.quality?3:e.quality,p=e.alpha||!1,m=r(f,n,s,u,l),g=r(f,i,a,c,h),y=this.__align(0+Math.max(t.byteLength,d.byteLength)),v=this.__align(y+i*s*4),b=this.__align(v+m.byteLength),w=this.__instance("resize",b+g.byteLength),E=new Uint8Array(this.__memory.buffer),_=new Uint32Array(this.__memory.buffer),C=new Uint32Array(t.buffer);return _.set(C),o(m,E,v),o(g,E,b),(w.exports.convolveHV||w.exports._convolveHV)(v,b,y,n,i,s,a),new Uint32Array(d.buffer).set(new Uint32Array(this.__memory.buffer,0,a*s)),p||function(e,t,n){for(var r=3,i=t*n*4|0;r<i;)e[r]=255,r=r+4|0}(d,s,a),d}},{"./resize_filter_gen":6}],9:[function(e,t,n){"use strict";function r(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}r.prototype.acquire=function(){var e,t=this;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},r.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout((function(){return t.gc()}),100))},r.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter((function(n){return!(t-n.lastUsed>e.idle&&(n.destroy(),1))})),this.timeoutId=0!==this.available.length?setTimeout((function(){return e.gc()}),100):0},t.exports=r},{}],10:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o){var s=(2*o+2+1)/i;if(s>.5)return[[n,r]];var a=Math.ceil(Math.log(Math.min(n/e,r/t))/Math.log(s));if(a<=1)return[[n,r]];for(var u=[],c=0;c<a;c++){var l=Math.round(Math.pow(Math.pow(e,a-c-1)*Math.pow(n,c+1),1/a)),h=Math.round(Math.pow(Math.pow(t,a-c-1)*Math.pow(r,c+1),1/a));u.push([l,h])}return u}},{}],11:[function(e,t,n){"use strict";var r=1e-5;function i(e){var t=Math.round(e);return Math.abs(e-t)<r?t:Math.floor(e)}function o(e){var t=Math.round(e);return Math.abs(e-t)<r?t:Math.ceil(e)}t.exports=function(e){var t,n,r,s,a,u,c=e.toWidth/e.width,l=e.toHeight/e.height,h=i(e.srcTileSize*c)-2*e.destTileBorder,d=i(e.srcTileSize*l)-2*e.destTileBorder;if(h<1||d<1)throw new Error("Internal error in pica: target tile width/height is too small.");var f,p=[];for(s=0;s<e.toHeight;s+=d)for(r=0;r<e.toWidth;r+=h)(t=r-e.destTileBorder)<0&&(t=0),t+(a=r+h+e.destTileBorder-t)>=e.toWidth&&(a=e.toWidth-t),(n=s-e.destTileBorder)<0&&(n=0),n+(u=s+d+e.destTileBorder-n)>=e.toHeight&&(u=e.toHeight-n),f={toX:t,toY:n,toWidth:a,toHeight:u,toInnerX:r,toInnerY:s,toInnerWidth:h,toInnerHeight:d,offsetX:t/c-i(t/c),offsetY:n/l-i(n/l),scaleX:c,scaleY:l,x:i(t/c),y:i(n/l),width:o(a/c),height:o(u/l)},p.push(f);return p}},{}],12:[function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}t.exports.isCanvas=function(e){var t=r(e);return"[object HTMLCanvasElement]"===t||"[object Canvas]"===t},t.exports.isImage=function(e){return"[object HTMLImageElement]"===r(e)},t.exports.limiter=function(e){var t=0,n=[];function r(){t<e&&n.length&&(t++,n.shift()())}return function(e){return new Promise((function(i,o){n.push((function(){e().then((function(e){i(e),t--,r()}),(function(e){o(e),t--,r()}))})),r()}))}},t.exports.cib_quality_name=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},t.exports.cib_support=function(){return Promise.resolve().then((function(){if("undefined"==typeof createImageBitmap||"undefined"==typeof document)return!1;var e=document.createElement("canvas");return e.width=100,e.height=100,createImageBitmap(e,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then((function(t){var n=10===t.width;return t.close(),e=null,n}))})).catch((function(){return!1}))}},{}],13:[function(e,t,n){"use strict";t.exports=function(){var t,n=e("./mathlib");onmessage=function(e){var r=e.data.opts;t||(t=new n(e.data.features));var i=t.resizeAndUnsharp(r);postMessage({result:i},[i.buffer])}}},{"./mathlib":1}],14:[function(e,t,n){var r,i,o,s,a,u;function c(e,t,n,r,i,o){var s,a,u,c,l,h,d,f,p,m,g,y,v,b;for(p=0;p<o;p++){for(d=p,f=0,c=l=(s=e[h=p*i])*r[6],g=r[0],y=r[1],v=r[4],b=r[5],m=0;m<i;m++)u=(a=e[h])*g+s*y+c*v+l*b,l=c,s=a,n[f]=c=u,f++,h++;for(f--,d+=o*(i-1),c=l=(s=e[--h])*r[7],a=s,g=r[2],y=r[3],m=i-1;m>=0;m--)u=a*g+s*y+c*v+l*b,l=c,s=a,a=e[h],t[d]=n[f]+(c=u),h--,f--,d-=o}}t.exports=function(e,t,n,l){if(l){var h=new Uint16Array(e.length),d=new Float32Array(Math.max(t,n)),f=function(e){e<.5&&(e=.5);var t=Math.exp(.527076)/e,n=Math.exp(-t),c=Math.exp(-2*t),l=(1-n)*(1-n)/(1+2*t*n-c);return r=l,i=l*(t-1)*n,o=l*(t+1)*n,s=-l*c,a=2*n,u=-c,new Float32Array([r,i,o,s,a,u,(r+i)/(1-a-u),(o+s)/(1-a-u)])}(l);c(e,h,d,f,t,n),c(h,e,d,f,n,t)}}},{}],15:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],16:[function(e,t,n){"use strict";var r=e("object-assign"),i=e("./lib/base64decode"),o=e("./lib/wa_detect"),s={js:!0,wasm:!0};function a(e){if(!(this instanceof a))return new a(e);var t=r({},s,e||{});if(this.options=t,this.__cache={},this.__init_promise=null,this.__modules=t.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}a.prototype.has_wasm=o,a.prototype.use=function(e){return this.__modules[e.name]=e,this[e.name]=this.options.wasm&&this.has_wasm()&&e.wasm_fn?e.wasm_fn:e.fn,this},a.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var e=this;return this.__init_promise=Promise.all(Object.keys(e.__modules).map((function(t){var n=e.__modules[t];return e.options.wasm&&e.has_wasm()&&n.wasm_fn?e.__wasm[t]?null:WebAssembly.compile(e.__base64decode(n.wasm_src)).then((function(n){e.__wasm[t]=n})):null}))).then((function(){return e})),this.__init_promise},a.prototype.__base64decode=i,a.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/65536)}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/65536)),this.__memory},a.prototype.__instance=function(e,t,n){if(t&&this.__reallocate(t),this.__wasm[e]||(this.__wasm[e]=new WebAssembly.Module(this.__base64decode(this.__modules[e].wasm_src))),!this.__cache[e]){var i={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:r(i,n||{})})}return this.__cache[e]},a.prototype.__align=function(e,t){var n=e%(t=t||8);return e+(n?t-n:0)},t.exports=a},{"./lib/base64decode":17,"./lib/wa_detect":23,"object-assign":24}],17:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.replace(/[\r\n=]/g,""),n=t.length,r=new Uint8Array(3*n>>2),i=0,o=0,s=0;s<n;s++)s%4==0&&s&&(r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i),i=i<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(s));var a=n%4*6;return 0===a?(r[o++]=i>>16&255,r[o++]=i>>8&255,r[o++]=255&i):18===a?(r[o++]=i>>10&255,r[o++]=i>>2&255):12===a&&(r[o++]=i>>4&255),r}},{}],18:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var r,i,o,s=t*n,a=new Uint16Array(s),u=0;u<s;u++)o=e[4*u+2],a[u]=257*(((r=e[4*u])>=(i=e[4*u+1])&&r>=o?r:i>=o&&i>=r?i:o)+(r<=i&&r<=o?r:i<=o&&i<=r?i:o))>>1;return a}},{}],19:[function(e,t,n){"use strict";t.exports={name:"unsharp_mask",fn:e("./unsharp_mask"),wasm_fn:e("./unsharp_mask_wasm"),wasm_src:e("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":20,"./unsharp_mask_wasm":21,"./unsharp_mask_wasm_base64":22}],20:[function(e,t,n){"use strict";var r=e("glur/mono16"),i=e("./hsl_l16");t.exports=function(e,t,n,o,s,a){var u,c,l,h,d,f,p,m,g,y,v,b,w;if(!(0===o||s<.5)){s>2&&(s=2);var E=i(e,t,n),_=new Uint16Array(E);r(_,t,n,s);for(var C=o/100*4096+.5|0,S=257*a|0,I=t*n,A=0;A<I;A++)b=2*(E[A]-_[A]),Math.abs(b)>=S&&(l=e[2+(w=4*A)],f=257*((m=(u=e[w])>=(c=e[w+1])&&u>=l?u:c>=u&&c>=l?c:l)+(p=u<=c&&u<=l?u:c<=u&&c<=l?c:l))>>1,p===m?h=d=0:(d=f<=32767?4095*(m-p)/(m+p)|0:4095*(m-p)/(510-m-p)|0,h=u===m?65535*(c-l)/(6*(m-p))|0:c===m?21845+(65535*(l-u)/(6*(m-p))|0):43690+(65535*(u-c)/(6*(m-p))|0)),(f+=C*b+2048>>12)>65535?f=65535:f<0&&(f=0),0===d?u=c=l=f>>8:(g=2*f-(y=f<=32767?f*(4096+d)+2048>>12:f+((65535-f)*d+2048>>12))>>8,y>>=8,u=(v=h+21845&65535)>=43690?g:v>=32767?g+(6*(y-g)*(43690-v)+32768>>16):v>=10922?y:g+(6*(y-g)*v+32768>>16),c=(v=65535&h)>=43690?g:v>=32767?g+(6*(y-g)*(43690-v)+32768>>16):v>=10922?y:g+(6*(y-g)*v+32768>>16),l=(v=h-21845&65535)>=43690?g:v>=32767?g+(6*(y-g)*(43690-v)+32768>>16):v>=10922?y:g+(6*(y-g)*v+32768>>16)),e[w]=u,e[w+1]=c,e[w+2]=l)}}},{"./hsl_l16":18,"glur/mono16":14}],21:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o){if(!(0===r||i<.5)){i>2&&(i=2);var s=t*n,a=4*s,u=2*s,c=2*s,l=4*Math.max(t,n),h=a,d=h+u,f=d+c,p=f+c,m=p+l,g=this.__instance("unsharp_mask",a+u+2*c+l+32,{exp:Math.exp}),y=new Uint32Array(e.buffer);new Uint32Array(this.__memory.buffer).set(y);var v=g.exports.hsl_l16||g.exports._hsl_l16;v(0,h,t,n),(v=g.exports.blurMono16||g.exports._blurMono16)(h,d,f,p,m,t,n,i),(v=g.exports.unsharp||g.exports._unsharp)(0,0,h,d,t,n,r,o),y.set(new Uint32Array(this.__memory.buffer,0,s))}}},{}],22:[function(e,t,n){"use strict";t.exports="AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},{}],23:[function(e,t,n){"use strict";var r;t.exports=function(){if(void 0!==r)return r;if(r=!1,"undefined"==typeof WebAssembly)return r;try{var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)&&(r=!0),r}catch(n){}return r}},{}],24:[function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(u[a[h]]=n[a[h]])}}return u}},{}],25:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],s=JSON.stringify;t.exports=function(e,t){for(var n,a=Object.keys(o),u=0,c=a.length;u<c;u++){var l=o[d=a[u]].exports;if(l===e||l&&l.default===e){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(u=0,c=a.length;u<c;u++){var d;h[d=a[u]]=d}i[n]=["function(require,module,exports){"+e+"(self); }",h]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[f]=["function(require,module,exports){var f = require("+s(n)+");(f.default ? f.default : f)(self);}",p];var m={};!function e(t){for(var n in m[t]=!0,i[t][1]){var r=i[t][1][n];m[r]||e(r)}}(f);var g="("+r+")({"+Object.keys(m).map((function(e){return s(e)+":["+i[e][0]+","+s(i[e][1])+"]"})).join(",")+"},{},["+s(f)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return v;var b=y.createObjectURL(v),w=new Worker(b);return w.objectURL=b,w}},{}],"/":[function(e,t,n){"use strict";var r=e("object-assign"),i=e("webworkify"),o=e("./lib/mathlib"),s=e("./lib/pool"),a=e("./lib/utils"),u=e("./lib/worker"),c=e("./lib/stepper"),l=e("./lib/tiler"),h={},d=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(d=navigator.userAgent.indexOf("Safari")>=0)}catch(w){}var f=1;"undefined"!=typeof navigator&&(f=Math.min(navigator.hardwareConcurrency||1,4));var p,m,g={tile:1024,concurrency:f,features:["js","wasm","ww"],idle:2e3},y={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0};function v(){return{value:i(u),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function b(e){if(!(this instanceof b))return new b(e);this.options=r({},g,e||{});var t="lk_".concat(this.options.concurrency);this.__limit=h[t]||a.limiter(this.options.concurrency),h[t]||(h[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}b.prototype.init=function(){var t=this;if(this.__initPromise)return this.__initPromise;if(!1!==p&&!0!==p&&(p=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),p=!0}catch(l){}!1!==m&&!0!==m&&(m=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?m=!0:this.debug("ImageBitmap does not support .close(), disabled")));var n=this.options.features.slice();if(n.indexOf("all")>=0&&(n=["cib","wasm","js","ww"]),this.__requested_features=n,this.__mathlib=new o(n),n.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{e("webworkify")((function(){})).terminate(),this.features.ww=!0;var i="wp_".concat(JSON.stringify(this.options));h[i]?this.__workersPool=h[i]:(this.__workersPool=new s(v,this.options.idle),h[i]=this.__workersPool)}catch(l){}var u,c=this.__mathlib.init().then((function(e){r(t.features,e.features)}));return u=m?a.cib_support().then((function(e){t.features.cib&&n.indexOf("cib")<0?t.debug("createImageBitmap() resize supported, but disabled by config"):n.indexOf("cib")>=0&&(t.features.cib=e)})):Promise.resolve(!1),this.__initPromise=Promise.all([c,u]).then((function(){return t})),this.__initPromise},b.prototype.resize=function(e,t,n){var i=this;this.debug("Start resize...");var o=r({},y);if(isNaN(n)?n&&(o=r(o,n)):o=r(o,{quality:n}),o.toWidth=t.width,o.toHeight=t.height,o.width=e.naturalWidth||e.width,o.height=e.naturalHeight||e.height,0===t.width||0===t.height)return Promise.reject(new Error("Invalid output size: ".concat(t.width,"x").concat(t.height)));o.unsharpRadius>2&&(o.unsharpRadius=2);var s=!1,u=null;o.cancelToken&&(u=o.cancelToken.then((function(e){throw s=!0,e}),(function(e){throw s=!0,e})));var h=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0));return this.init().then((function(){if(s)return u;if(i.features.cib){var n=t.getContext("2d",{alpha:Boolean(o.alpha)});return i.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:o.toWidth,resizeHeight:o.toHeight,resizeQuality:a.cib_quality_name(o.quality)}).then((function(e){if(s)return u;if(!o.unsharpAmount)return n.drawImage(e,0,0),e.close(),n=null,i.debug("Finished!"),t;i.debug("Unsharp result");var r=document.createElement("canvas");r.width=o.toWidth,r.height=o.toHeight;var a=r.getContext("2d",{alpha:Boolean(o.alpha)});a.drawImage(e,0,0),e.close();var c=a.getImageData(0,0,o.toWidth,o.toHeight);return i.__mathlib.unsharp_mask(c.data,o.toWidth,o.toHeight,o.unsharpAmount,o.unsharpRadius,o.unsharpThreshold),n.putImageData(c,0,0),c=a=r=n=null,i.debug("Finished!"),t}))}var f={};return function e(t,n,o,c){if(s)return u;var g,y,v=(2,function(e){if(Array.isArray(e))return e}(y=t.shift())||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),2!==n.length);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),b=v[0],w=v[1],E=0===t.length;return c=r({},c,{toWidth:b,toHeight:w,quality:E?c.quality:Math.min(1,c.quality)}),E||((g=document.createElement("canvas")).width=b,g.height=w),function(e,t,n){var r,o,c;return Promise.resolve().then((function(){if(c=t.getContext("2d",{alpha:Boolean(n.alpha)}),a.isCanvas(e))return r=e.getContext("2d",{alpha:Boolean(n.alpha)}),null;if(a.isImage(e))return m?(i.debug("Decode image via createImageBitmap"),createImageBitmap(e).then((function(e){o=e}))):null;throw new Error('".from" should be image or canvas')})).then((function(){if(s)return u;i.debug("Calculate tiles");var m=l({width:n.width,height:n.height,srcTileSize:i.options.tile,toWidth:n.toWidth,toHeight:n.toHeight,destTileBorder:h}).map((function(t){return function(t){return i.__limit((function(){if(s)return u;var l;if(a.isCanvas(e))i.debug("Get tile pixel data"),l=r.getImageData(t.x,t.y,t.width,t.height);else{i.debug("Draw tile imageBitmap/image to temporary canvas");var h=document.createElement("canvas");h.width=t.width,h.height=t.height;var m=h.getContext("2d",{alpha:Boolean(n.alpha)});m.globalCompositeOperation="copy",m.drawImage(o||e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),i.debug("Get tile pixel data"),l=m.getImageData(0,0,t.width,t.height),m=h=null}var g={src:l.data,width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,quality:n.quality,alpha:n.alpha,unsharpAmount:n.unsharpAmount,unsharpRadius:n.unsharpRadius,unsharpThreshold:n.unsharpThreshold};return i.debug("Invoke resize math"),Promise.resolve().then((function(){return function(e){return Promise.resolve().then((function(){return i.features.ww?new Promise((function(t,n){var r=i.__workersPool.acquire();u&&u.catch((function(e){return n(e)})),r.value.onmessage=function(e){r.release(),e.data.err?n(e.data.err):t(e.data.result)},r.value.postMessage({opts:e,features:i.__requested_features,preload:{wasm_nodule:i.__mathlib.__}},[e.src.buffer])})):i.__mathlib.resizeAndUnsharp(e,f)}))}(g)})).then((function(e){if(s)return u;var n;if(l=null,i.debug("Convert raw rgba tile result to ImageData"),p)n=new ImageData(new Uint8ClampedArray(e),t.toWidth,t.toHeight);else if((n=c.createImageData(t.toWidth,t.toHeight)).data.set)n.data.set(e);else for(var r=n.data.length-1;r>=0;r--)n.data[r]=e[r];return i.debug("Draw tile"),d?c.putImageData(n,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth+1e-5,t.toInnerHeight+1e-5):c.putImageData(n,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth,t.toInnerHeight),null}))}))}(t)}));function g(){o&&(o.close(),o=null)}return i.debug("Process tiles"),Promise.all(m).then((function(){return i.debug("Finished!"),g(),t}),(function(e){throw g(),e}))}))}(n,E?o:g,c).then((function(){return E?o:(c.width=b,c.height=w,e(t,g,o,c))}))}(c(o.width,o.height,o.toWidth,o.toHeight,i.options.tile,h),e,t,o)}))},b.prototype.resizeBuffer=function(e){var t=this,n=r({},y,e);return this.init().then((function(){return t.__mathlib.resizeAndUnsharp(n)}))},b.prototype.toBlob=function(e,t,n){return t=t||"image/png",new Promise((function(r){if(e.toBlob)e.toBlob((function(e){return r(e)}),t,n);else{for(var i=atob(e.toDataURL(t,n).split(",")[1]),o=i.length,s=new Uint8Array(o),a=0;a<o;a++)s[a]=i.charCodeAt(a);r(new Blob([s],{type:t}))}}))},b.prototype.debug=function(){},t.exports=b},{"./lib/mathlib":1,"./lib/pool":9,"./lib/stepper":10,"./lib/tiler":11,"./lib/utils":12,"./lib/worker":13,"object-assign":24,webworkify:25}]},{},[])("/")},hKQe:function(e,t,n){"use strict";n("HDdC"),n("KOl+")},iInd:function(e,t,n){"use strict";var r=n("SVse"),i=n("8Y7J"),o=n("LRne"),s=n("Cfvw"),a=n("2Vo4"),u=n("HDdC");const c=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var l=n("z+Ro"),h=n("DH7j"),d=n("l7GE"),f=n("ZUHj"),p=n("yCtX");const m={};class g{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new y(e,this.resultSelector))}}class y extends d.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(m),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(f.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===m?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const v=new u.a(e=>e.complete());function b(e){return e?function(e){return new u.a(t=>e.schedule(()=>t.complete()))}(e):v}function w(e){return new u.a(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(s.a)(n):b()).subscribe(t)})}var E=n("XNiG"),_=n("lJxs"),C=n("bHdf");function S(){return Object(C.a)(1)}var I=n("pLZG"),A=n("7o/Q");const T=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function D(e){return function(t){return 0===e?b():t.lift(new N(e))}}class N{constructor(e){if(this.total=e,this.total<0)throw new T}call(e,t){return t.subscribe(new O(e,this.total))}}class O extends A.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function k(e=P){return t=>t.lift(new x(e))}class x{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new R(e,this.errorFactory))}}class R extends A.a{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function P(){return new c}function M(e=null){return t=>t.lift(new L(e))}class L{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new F(e,this.defaultValue))}}class F extends A.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var j=n("SpAZ");function B(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Object(I.a)((t,n)=>e(t,n,r)):j.a,D(1),n?M(t):k(()=>new c))}var V=n("51Dv");function U(e){return function(t){const n=new $(e),r=t.lift(n);return n.caught=r}}class ${constructor(e){this.selector=e}call(e,t){return t.subscribe(new q(e,this.selector,this.caught))}}class q extends d.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new V.a(this,void 0,void 0);this.add(r),Object(f.a)(this,n,void 0,void 0,r)}}}function H(e){return t=>0===e?b():t.lift(new z(e))}class z{constructor(e){if(this.total=e,this.total<0)throw new T}call(e,t){return t.subscribe(new G(e,this.total))}}class G extends A.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function W(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Object(I.a)((t,n)=>e(t,n,r)):j.a,H(1),n?M(t):k(()=>new c))}var Q=n("5+tZ");class K{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Y(e,this.predicate,this.thisArg,this.source))}}class Y extends A.a{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var X=n("eIep");function Z(...e){return S()(Object(o.a)(...e))}var J=n("Kqap"),ee=n("bOdf"),te=n("mCNh"),ne=n("KqfI"),re=n("n6bG");function ie(e,t,n){return function(r){return r.lift(new oe(e,t,n))}}class oe{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new se(e,this.nextOrObserver,this.error,this.complete))}}class se extends A.a{constructor(e,t,n,r){super(e),this._tapNext=ne.a,this._tapError=ne.a,this._tapComplete=ne.a,this._tapError=n||ne.a,this._tapComplete=r||ne.a,Object(re.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||ne.a,this._tapError=t.error||ne.a,this._tapComplete=t.complete||ne.a)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var ae=n("quSY");class ue{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ce(e,this.callback))}}class ce extends A.a{constructor(e,t){super(e),this.add(new ae.a(t))}}var le=n("cUpR");n.d(t,"C",(function(){return De})),n.d(t,"s",(function(){return $n})),n.d(t,"z",(function(){return Zn})),n.d(t,"u",(function(){return Gn})),n.d(t,"A",(function(){return Jn})),n.d(t,"B",(function(){return er})),n.d(t,"w",(function(){return Qn})),n.d(t,"v",(function(){return Wn})),n.d(t,"y",(function(){return Xn})),n.d(t,"t",(function(){return Hn})),n.d(t,"x",(function(){return Yn})),n.d(t,"D",(function(){return Vn})),n.d(t,"o",(function(){return Pn})),n.d(t,"d",(function(){return de})),n.d(t,"l",(function(){return _n})),n.d(t,"m",(function(){return kn})),n.d(t,"k",(function(){return Sn})),n.d(t,"i",(function(){return Un})),n.d(t,"j",(function(){return tr})),n.d(t,"n",(function(){return zn})),n.d(t,"b",(function(){return Rn})),n.d(t,"e",(function(){return jn})),n.d(t,"g",(function(){return Fn})),n.d(t,"h",(function(){return Ln})),n.d(t,"p",(function(){return Bn})),n.d(t,"a",(function(){return bt})),n.d(t,"f",(function(){return Ne})),n.d(t,"q",(function(){return An})),n.d(t,"c",(function(){return Ze})),n.d(t,"r",(function(){return Xe}));class he{constructor(e,t){this.id=e,this.url=t}}class de extends he{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fe extends he{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pe extends he{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class me extends he{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ge extends he{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ye extends he{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends he{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class be extends he{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class we extends he{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _e{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ce{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Se{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ie{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ae{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let De=(()=>(class{}))();const Ne="primary";class Oe{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ke(e){return new Oe(e)}const xe="ngNavigationCancelingError";function Re(e){const t=Error("NavigationCancelingError: "+e);return t[xe]=!0,t}function Pe(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Me{constructor(e,t){this.routes=e,this.module=t}}function Le(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Fe(r,je(t,r))}}function Fe(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Ne)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Le(e.children,t)}function je(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Be(e){const t=e.children&&e.children.map(Be),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ne&&(n.component=De),n}function Ve(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function Ue(e){return Array.prototype.concat.apply([],e)}function $e(e){return e.length>0?e[e.length-1]:null}function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function He(e){return Object(i["\u0275isObservable"])(e)?e:Object(i["\u0275isPromise"])(e)?Object(s.a)(Promise.resolve(e)):Object(o.a)(e)}function ze(e,t,n){return n?function(e,t){return Ve(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Ke(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Ke(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ke(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Ke(n.segments,e)&&!!n.children[Ne]&&t(n.children[Ne],r,o)}}(t,n,n.segments)}(e.root,t.root)}class Ge{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return Je.serialize(this)}}class We{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qe(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class Qe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ke(this.parameters)),this._parameterMap}toString(){return st(this)}}function Ke(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Ye(e,t){let n=[];return qe(e.children,(e,r)=>{r===Ne&&(n=n.concat(t(e,r)))}),qe(e.children,(e,r)=>{r!==Ne&&(n=n.concat(t(e,r)))}),n}class Xe{}class Ze{parse(e){const t=new ht(e);return new Ge(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return et(t);if(n){const n=t.children[Ne]?e(t.children[Ne],!1):"",r=[];return qe(t.children,(t,n)=>{n!==Ne&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ye(t,(n,r)=>r===Ne?[e(t.children[Ne],!1)]:[`${r}:${e(n,!1)}`]);return`${et(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${nt(t)}=${nt(e)}`).join("&"):`${nt(t)}=${nt(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Je=new Ze;function et(e){return e.segments.map(e=>st(e)).join("/")}function tt(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nt(e){return tt(e).replace(/%3B/gi,";")}function rt(e){return tt(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function it(e){return decodeURIComponent(e)}function ot(e){return it(e.replace(/\+/g,"%20"))}function st(e){return`${rt(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${rt(e)}=${rt(t[e])}`).join("")}`;var t}const at=/^[^\/()?;=#]+/;function ut(e){const t=e.match(at);return t?t[0]:""}const ct=/^[^=?&#]+/,lt=/^[^?&#]+/;class ht{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ne]=new We(e,t)),n}parseSegment(){const e=ut(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qe(it(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ut(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=ut(this.remaining);e&&this.capture(n=e)}e[it(t)]=it(n)}parseQueryParam(e){const t=function(e){const t=e.match(ct);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(lt);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=ot(t),i=ot(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ut(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ne);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Ne]:new We([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class dt{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ft(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ft(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return pt(e,this._root).map(e=>e.value)}}function ft(e,t){if(e===t.value)return t;for(const n of t.children){const t=ft(e,n);if(t)return t}return null}function pt(e,t){if(e===t.value)return[t];for(const n of t.children){const r=pt(e,n);if(r.length)return r.unshift(t),r}return[]}class mt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class yt extends dt{constructor(e,t){super(e),this.snapshot=t,Ct(this,e)}toString(){return this.snapshot.toString()}}function vt(e,t){const n=function(e,t){const n=new Et([],{},{},"",{},Ne,t,null,e.root,-1,{});return new _t("",new mt(n,[]))}(e,t),r=new a.a([new Qe("",{})]),i=new a.a({}),o=new a.a({}),s=new a.a({}),u=new a.a(""),c=new bt(r,i,s,u,o,Ne,t,n.root);return c.snapshot=n.root,new yt(new mt(c,[]),n)}class bt{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(_.a)(e=>ke(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(_.a)(e=>ke(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wt(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Et{constructor(e,t,n,r,i,o,s,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ke(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ke(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _t extends dt{constructor(e,t){super(t),this.url=e,Ct(this,t)}toString(){return St(this._root)}}function Ct(e,t){t.value._routerState=e,t.children.forEach(t=>Ct(e,t))}function St(e){const t=e.children.length>0?` { ${e.children.map(St).join(", ")} } `:"";return`${e.value}${t}`}function It(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ve(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ve(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ve(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ve(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function At(e,t){var n,r;return Ve(e.params,t.params)&&Ke(n=e.url,r=t.url)&&n.every((e,t)=>Ve(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||At(e.parent,t.parent))}function Tt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dt(e,t,n,r,i){let o={};return r&&qe(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Ge(n.root===e?t:function e(t,n,r){const i={};return qe(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new We(t.segments,i)}(n.root,e,t),o,i)}class Nt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Tt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==$e(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ot{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function kt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Ne]:`${e}`}function xt(e,t,n){if(e||(e=new We([],{})),0===e.segments.length&&e.hasChildren())return Rt(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=kt(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ft(s,a,t))return o;r+=2}else{if(!Ft(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new We(e.segments.slice(0,r.pathIndex),{});return t.children[Ne]=new We(e.segments.slice(r.pathIndex),e.children),Rt(t,0,i)}return r.match&&0===i.length?new We(e.segments,{}):r.match&&!e.hasChildren()?Pt(e,t,n):r.match?Rt(e,0,i):Pt(e,t,n)}function Rt(e,t,n){if(0===n.length)return new We(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Ne]:e}:void 0===e[0].outlets?{[Ne]:e}:e[0].outlets}(n),i={};return qe(r,(n,r)=>{null!==n&&(i[r]=xt(e.children[r],t,n))}),qe(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new We(e.segments,i)}}function Pt(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Mt(n[i].outlets);return new We(r,e)}if(0===i&&Tt(n[0])){r.push(new Qe(e.segments[t].path,n[0])),i++;continue}const o=kt(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Tt(s)?(r.push(new Qe(o,Lt(s))),i+=2):(r.push(new Qe(o,{})),i++)}return new We(r,{})}function Mt(e){const t={};return qe(e,(e,n)=>{null!==e&&(t[n]=Pt(new We([],{}),0,e))}),t}function Lt(e){const t={};return qe(e,(e,n)=>t[n]=`${e}`),t}function Ft(e,t,n){return e==n.path&&Ve(t,n.parameters)}const jt=(e,t,n)=>Object(_.a)(r=>(new Bt(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class Bt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),It(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=gt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),qe(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=gt(e),i=e.value.component?n.children:t;qe(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=gt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Ae(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Se(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(It(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Vt(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Vt(e){It(e.value),e.children.forEach(Vt)}function Ut(e){return"function"==typeof e}function $t(e){return e instanceof Ge}class qt{constructor(e){this.segmentGroup=e||null}}class Ht{constructor(e){this.urlTree=e}}function zt(e){return new u.a(t=>t.error(new qt(e)))}function Gt(e){return new u.a(t=>t.error(new Ht(e)))}function Wt(e){return new u.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Qt{constructor(e,t,n,r,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(i.NgModuleRef)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ne).pipe(Object(_.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(U(e=>{if(e instanceof Ht)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof qt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ne).pipe(Object(_.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(U(e=>{if(e instanceof qt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new We([],{[Ne]:e}):e;return new Ge(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(_.a)(e=>new We([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Object(o.a)({});const n=[],r=[],i={};return qe(e,(e,o)=>{const s=t(o,e).pipe(Object(_.a)(e=>i[o]=e));o===Ne?n.push(s):r.push(s)}),o.a.apply(null,n.concat(r)).pipe(S(),B(),Object(_.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,s){return Object(o.a)(...n).pipe(Object(_.a)(a=>this.expandSegmentAgainstRoute(e,t,n,a,r,i,s).pipe(U(e=>{if(e instanceof qt)return Object(o.a)(null);throw e}))),S(),W(e=>!!e),U((e,n)=>{if(e instanceof c||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return Object(o.a)(new We([],{}));throw new qt(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Zt(r)!==o?zt(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):zt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Gt(i):this.lineralizeSegments(n,i).pipe(Object(Q.a)(n=>{const i=new We(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Kt(t,r,i);if(!s)return zt(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Gt(l):this.lineralizeSegments(r,l).pipe(Object(Q.a)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(_.a)(e=>(n._loadedConfig=e,new We(r,{})))):Object(o.a)(new We(r,{}));const{matched:i,consumedSegments:s,lastChild:a}=Kt(t,n,r);if(!i)return zt(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe(Object(Q.a)(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:a}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>Xt(e,t,n)&&Zt(n)!==Ne)}(e,n,r)?{segmentGroup:Yt(new We(t,function(e,t){const n={};n[Ne]=t;for(const r of e)""===r.path&&Zt(r)!==Ne&&(n[Zt(r)]=new We([],{}));return n}(r,new We(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Xt(e,t,n))}(e,n,r)?{segmentGroup:Yt(new We(e.segments,function(e,t,n,r){const i={};for(const o of n)Xt(e,t,o)&&!r[Zt(o)]&&(i[Zt(o)]=new We([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(_.a)(e=>new We(s,e))):0===r.length&&0===a.length?Object(o.a)(new We(s,{})):this.expandSegment(n,i,r,a,Ne,!0).pipe(Object(_.a)(e=>new We(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Object(o.a)(new Me(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(o.a)(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?Object(s.a)(r).pipe(Object(_.a)(r=>{const i=e.get(r);let o;if(function(e){return e&&Ut(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Ut(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return He(o)})).pipe(S(),(i=e=>!0===e,e=>e.lift(new K(i,void 0,e)))):Object(o.a)(!0);var i}(e.injector,t,n).pipe(Object(Q.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(_.a)(e=>(t._loadedConfig=e,e))):function(e){return new u.a(t=>t.error(Re(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(o.a)(new Me([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children[Ne])return Wt(e.redirectTo);r=r.children[Ne]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Ge(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return qe(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return qe(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new We(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Kt(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Pe)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yt(e){if(1===e.numberOfChildren&&e.children[Ne]){const t=e.children[Ne];return new We(e.segments.concat(t.segments),t.children)}return e}function Xt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Zt(e){return e.outlet||Ne}class Jt{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class en{constructor(e,t){this.component=e,this.route=t}}function tn(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=gt(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ke(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ke(e.url,t.url)||!Ve(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!At(e,t)||!Ve(e.queryParams,t.queryParams);case"paramsChange":default:return!At(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Jt(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new en(u&&u.outlet&&u.outlet.component||null,a))}else a&&rn(n,u,o),o.canActivateChecks.push(new Jt(i)),e(t,null,s.component?u?u.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),qe(s,(e,t)=>rn(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function nn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function rn(e,t,n){const r=gt(e),i=e.value;qe(r,(e,r)=>{rn(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new en(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const on=Symbol("INITIAL_VALUE");function sn(){return Object(X.a)(e=>(function(...e){let t=null,n=null;return Object(l.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(h.a)(e[0])&&(e=e[0]),Object(p.a)(e,n).lift(new g(t))})(...e.map(e=>e.pipe(H(1),function(...e){const t=e[e.length-1];return Object(l.a)(t)?(e.pop(),n=>Z(e,n,t)):t=>Z(e,t)}(on)))).pipe(Object(J.a)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==on)return e;if(r===on&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||$t(r))return r}return e},e)},on),Object(I.a)(e=>e!==on),Object(_.a)(e=>$t(e)?e:!0===e),H(1)))}function an(e,t){return null!==e&&t&&t(new Ie(e)),Object(o.a)(!0)}function un(e,t){return null!==e&&t&&t(new Ce(e)),Object(o.a)(!0)}function cn(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>w(()=>{const i=nn(r,t,n);let o;if(function(e){return e&&Ut(e.canActivate)}(i))o=He(i.canActivate(t,e));else{if(!Ut(i))throw new Error("Invalid CanActivate guard");o=He(i(t,e))}return o.pipe(W())}));return Object(o.a)(i).pipe(sn())}function ln(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>w(()=>{const i=t.guards.map(i=>{const o=nn(i,t.node,n);let s;if(function(e){return e&&Ut(e.canActivateChild)}(o))s=He(o.canActivateChild(r,e));else{if(!Ut(o))throw new Error("Invalid CanActivateChild guard");s=He(o(r,e))}return s.pipe(W())});return Object(o.a)(i).pipe(sn())}));return Object(o.a)(i).pipe(sn())}class hn{}class dn{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=mn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ne),n=new Et([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ne,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mt(n,t),i=new _t(this.url,r);return this.inheritParamsAndData(i._root),Object(o.a)(i)}catch(e){return new u.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=wt(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Ye(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Ne?-1:t.value.outlet===Ne?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof hn))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new hn}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new hn;if((e.outlet||Ne)!==r)throw new hn;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?$e(n).parameters:{};i=new Et(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(e),r,e.component,e,fn(t),pn(t)+n.length,bn(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new hn;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Pe)(n,e,t);if(!r)throw new hn;const i={};qe(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Et(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vn(e),r,e.component,e,fn(t),pn(t)+o.length,bn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=mn(t,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return[new mt(i,e)]}if(0===a.length&&0===c.length)return[new mt(i,[])];const l=this.processSegment(a,u,c,Ne);return[new mt(i,l)]}}function fn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function mn(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>gn(e,t,n)&&yn(n)!==Ne)}(e,n,r)){const i=new We(t,function(e,t,n,r){const i={};i[Ne]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&yn(o)!==Ne){const n=new We([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[yn(o)]=n}return i}(e,t,r,new We(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>gn(e,t,n))}(e,n,r)){const o=new We(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(gn(e,n,a)&&!i[yn(a)]){const n=new We([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[yn(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new We(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function gn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function yn(e){return e.outlet||Ne}function vn(e){return e.data||{}}function bn(e){return e.resolve||{}}function wn(e,t,n,r){const i=nn(e,t,r);return He(i.resolve?i.resolve(t,n):i(t,n))}function En(e){return function(t){return t.pipe(Object(X.a)(t=>{const n=e(t);return n?Object(s.a)(n).pipe(Object(_.a)(()=>t)):Object(s.a)([t])}))}}class _n{}class Cn{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Sn=new i.InjectionToken("ROUTES");class In{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(_.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Me(Ue(r.injector.get(Sn)).map(Be),r)}))}loadModuleFactory(e){return"string"==typeof e?Object(s.a)(this.loader.load(e)):He(e()).pipe(Object(Q.a)(e=>e instanceof i.NgModuleFactory?Object(o.a)(e):Object(s.a)(this.compiler.compileModuleAsync(e))))}}class An{}class Tn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Dn(e){throw e}function Nn(e,t,n){return t.parse("/")}function On(e,t){return Object(o.a)(null)}class kn{constructor(e,t,n,r,o,s,u,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E.a,this.errorHandler=Dn,this.malformedUriErrorHandler=Nn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:On,afterPreactivation:On},this.urlHandlingStrategy=new Tn,this.routeReuseStrategy=new Cn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.NgModuleRef),this.console=o.get(i["\u0275Console"]);const l=o.get(i.NgZone);this.isNgZoneEnabled=l instanceof i.NgZone,this.resetConfig(c),this.currentUrlTree=new Ge(new We([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new In(s,u,e=>this.triggerEvent(new Ee(e)),e=>this.triggerEvent(new _e(e))),this.routerState=vt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Object(I.a)(e=>0!==e.id),Object(_.a)(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Object(X.a)(e=>{let n=!1,r=!1;return Object(o.a)(e).pipe(ie(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(X.a)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(o.a)(e).pipe(Object(X.a)(e=>{const n=this.transitions.getValue();return t.next(new de(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?v:[e]}),Object(X.a)(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(Object(X.a)(i=>(function(e,t,n,r,i){return new Qt(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(Object(_.a)(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ie(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(Object(Q.a)(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new dn(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(_.a)(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),ie(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),ie(e=>{const n=new ge(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=e,u=new de(n,this.serializeUrl(r),i,s);t.next(u);const c=vt(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign({},e,{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign({},a,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),v}),En(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),ie(e=>{const t=new ye(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(_.a)(e=>Object.assign({},e,{guards:tn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(Q.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Object(s.a)(e).pipe(Object(Q.a)(e=>(function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(o=>{const s=nn(o,t,i);let a;if(function(e){return e&&Ut(e.canDeactivate)}(s))a=He(s.canDeactivate(e,t,n,r));else{if(!Ut(s))throw new Error("Invalid CanDeactivate guard");a=He(s(e,t,n,r))}return a.pipe(W())});return Object(o.a)(a).pipe(sn())})(e.component,e.route,n,t,r)),W(e=>!0!==e,!0))}(u,r,i,e).pipe(Object(Q.a)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return Object(s.a)(t).pipe(Object(ee.a)(t=>Object(s.a)([un(t.route.parent,r),an(t.route,r),ln(e,t.path,n),cn(e,t.route,n)]).pipe(S(),W(e=>!0!==e,!0))),W(e=>!0!==e,!0))}(r,a,e,t):Object(o.a)(n)),Object(_.a)(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),ie(e=>{if($t(e.guardsResult)){const t=Re(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),ie(e=>{const t=new ve(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Object(I.a)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new pe(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),En(e=>{if(e.guards.canActivateChecks.length)return Object(o.a)(e).pipe(ie(e=>{const t=new be(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(Object(Q.a)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?Object(s.a)(i).pipe(Object(ee.a)(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Object(o.a)({});if(1===i.length){const o=i[0];return wn(e[o],t,n,r).pipe(Object(_.a)(e=>({[o]:e})))}const a={};return Object(s.a)(i).pipe(Object(Q.a)(i=>wn(e[i],t,n,r).pipe(Object(_.a)(e=>(a[i]=e,e))))).pipe(B(),Object(_.a)(()=>a))}(e._resolve,e,t,r).pipe(Object(_.a)(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,wt(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return Object(te.a)(Object(J.a)(e,t),D(1),M(t))(n)}:function(t){return Object(te.a)(Object(J.a)((t,n,r)=>e(t,n,r+1)),D(1))(t)}}((e,t)=>e),Object(_.a)(e=>n)):Object(o.a)(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),ie(e=>{const t=new we(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),En(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_.a)(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new mt(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new bt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new mt(r,o)}}var i}(e,t._root,n?n._root:void 0);return new yt(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),ie(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),jt(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),ie({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new ue(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new pe(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),U(n=>{if(r=!0,function(e){return e&&e[xe]}(n)){const r=$t(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new pe(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new me(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return v}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Le(e),this.config=e.map(Be),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:u}=t;Object(i.isDevMode)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return Dt(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Nt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return qe(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Nt(n,t,r)}(n);if(o.toRoot())return Dt(t.root,new We([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Ot(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ot(n.snapshot._urlSegment,!0,0);const r=Tt(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Ot(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Rt(s.segmentGroup,s.index,o.commands):xt(s.segmentGroup,s.index,o.commands);return Dt(s.segmentGroup,a,t,r,i)}(c,this.currentUrlTree,e,h,l)}navigateByUrl(e,t={skipLocationChange:!1}){Object(i.isDevMode)()&&this.isNgZoneEnabled&&!i.NgZone.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=$t(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if($t(e))return ze(this.currentUrlTree,e,t);const n=this.parseUrl(e);return ze(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new fe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class xn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rn,this.attachRef=null}}class Rn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new xn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Pn=(()=>(class{constructor(e,t,n,r,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.EventEmitter,this.deactivateEvents=new i.EventEmitter,this.name=r||Ne,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Mn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}))();class Mn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===bt?this.route:e===Rn?this.childContexts:this.parent.get(e,t)}}class Ln{}class Fn{preload(e,t){return t().pipe(U(()=>Object(o.a)(null)))}}class jn{preload(e,t){return Object(o.a)(null)}}let Bn=(()=>(class{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new In(t,n,t=>e.triggerEvent(new Ee(t)),t=>e.triggerEvent(new _e(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(I.a)(e=>e instanceof fe),Object(ee.a)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.NgModuleRef);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Object(s.a)(n).pipe(Object(C.a)(),Object(_.a)(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(Q.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}))();class Vn{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof de?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fe&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Te&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Te(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Un=new i.InjectionToken("ROUTER_CONFIGURATION"),$n=new i.InjectionToken("ROUTER_FORROOT_GUARD"),qn=[r.Location,{provide:Xe,useClass:Ze},{provide:kn,useFactory:Yn,deps:[i.ApplicationRef,Xe,Rn,r.Location,i.Injector,i.NgModuleFactoryLoader,i.Compiler,Sn,Un,[An,new i.Optional],[_n,new i.Optional]]},Rn,{provide:bt,useFactory:Xn,deps:[kn]},{provide:i.NgModuleFactoryLoader,useClass:i.SystemJsNgModuleLoader},Bn,jn,Fn,{provide:Un,useValue:{enableTracing:!1}}];function Hn(){return new i.NgProbeToken("Router",kn)}let zn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[qn,Kn(t),{provide:$n,useFactory:Qn,deps:[[kn,new i.Optional,new i.SkipSelf]]},{provide:Un,useValue:n||{}},{provide:r.LocationStrategy,useFactory:Wn,deps:[r.PlatformLocation,[new i.Inject(r.APP_BASE_HREF),new i.Optional],Un]},{provide:Vn,useFactory:Gn,deps:[kn,r.ViewportScroller,Un]},{provide:Ln,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jn},{provide:i.NgProbeToken,multi:!0,useFactory:Hn},[Zn,{provide:i.APP_INITIALIZER,multi:!0,useFactory:Jn,deps:[Zn]},{provide:tr,useFactory:er,deps:[Zn]},{provide:i.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:tr}]]}}static forChild(t){return{ngModule:e,providers:[Kn(t)]}}}return e})();function Gn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vn(e,t,n)}function Wn(e,t,n={}){return n.useHash?new r.HashLocationStrategy(e,t):new r.PathLocationStrategy(e,t)}function Qn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Kn(e){return[{provide:i.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:e},{provide:Sn,multi:!0,useValue:e}]}function Yn(e,t,n,r,i,o,s,a,u={},c,l){const h=new kn(null,t,n,r,i,o,s,Ue(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=Object(le.r)();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Xn(e){return e.routerState.root}let Zn=(()=>(class{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E.a}appInitializer(){return this.injector.get(r.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(kn),r=this.injector.get(Un);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Un),n=this.injector.get(Bn),r=this.injector.get(Vn),o=this.injector.get(kn),s=this.injector.get(i.ApplicationRef);e===s.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}))();function Jn(e){return e.appInitializer.bind(e)}function er(e){return e.bootstrapListener.bind(e)}const tr=new i.InjectionToken("Router Initializer")},igpV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a}));const r="ionViewWillEnter",i="ionViewDidEnter",o="ionViewWillLeave",s="ionViewDidLeave",a="ionViewWillUnload"},irV9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n("mrSG");var r=n("HDdC"),i=n("Cfvw"),o=n("LRne"),s=n("eIep"),a=n("1XSQ"),u=n("yA/v");let c=(()=>(class{constructor(e,t,n,c){this.zone=c;const l=new a.a(c,n);this.auth=c.runOutsideAngular(()=>Object(u.e)(e,t).auth()),this.authState=l.keepUnstableUntilFirst(l.runOutsideAngular(new r.a(e=>({unsubscribe:this.auth.onAuthStateChanged(e)})))),this.user=l.keepUnstableUntilFirst(l.runOutsideAngular(new r.a(e=>({unsubscribe:this.auth.onIdTokenChanged(e)})))),this.idToken=this.user.pipe(Object(s.a)(e=>e?Object(i.a)(e.getIdToken()):Object(o.a)(null))),this.idTokenResult=this.user.pipe(Object(s.a)(e=>e?Object(i.a)(e.getIdTokenResult()):Object(o.a)(null)))}}))()},jZKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(e,t){return new r.a(n=>{const r=new i.a;let o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kLfG:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":["0BR9",0,21],"./ion-action-sheet-ios.entry.js":["bnjm",0,22],"./ion-action-sheet-md.entry.js":["utt2",0,23],"./ion-alert-ios.entry.js":["yaSn",0,24],"./ion-alert-md.entry.js":["2/RY",0,25],"./ion-app_8-ios.entry.js":["iInF",0,26],"./ion-app_8-md.entry.js":["K9Nc",0,27],"./ion-avatar_3-ios.entry.js":["hH1s",0,28],"./ion-avatar_3-md.entry.js":["Jw9y",0,29],"./ion-back-button-ios.entry.js":["ouVF",0,30],"./ion-back-button-md.entry.js":["/joy",0,31],"./ion-backdrop-ios.entry.js":["uJLv",0,32],"./ion-backdrop-md.entry.js":["fSmE",0,33],"./ion-button_2-ios.entry.js":["s1jK",0,34],"./ion-button_2-md.entry.js":["Wou7",0,35],"./ion-card_5-ios.entry.js":["qshq",0,36],"./ion-card_5-md.entry.js":["Q1uX",0,37],"./ion-checkbox-ios.entry.js":["059i",0,38],"./ion-checkbox-md.entry.js":["eLfv",0,39],"./ion-chip-ios.entry.js":["+FzG",0,40],"./ion-chip-md.entry.js":["yRpg",0,41],"./ion-col_3.entry.js":["/CAe",42],"./ion-datetime_3-ios.entry.js":["Z1Jy",0,43],"./ion-datetime_3-md.entry.js":["X0Dk",0,44],"./ion-fab_3-ios.entry.js":["wvyA",0,45],"./ion-fab_3-md.entry.js":["NkKY",0,46],"./ion-img.entry.js":["wHD8",47],"./ion-infinite-scroll_2-ios.entry.js":["nf6t",0,48],"./ion-infinite-scroll_2-md.entry.js":["lg/V",0,49],"./ion-input-ios.entry.js":["sdJS",0,50],"./ion-input-md.entry.js":["uQUw",0,51],"./ion-item-option_3-ios.entry.js":["Pa1g",0,52],"./ion-item-option_3-md.entry.js":["KTnd",0,53],"./ion-item_8-ios.entry.js":["Z51p",0,54],"./ion-item_8-md.entry.js":["8bam",0,55],"./ion-loading-ios.entry.js":["J3Yu",0,56],"./ion-loading-md.entry.js":["N3W9",0,57],"./ion-menu_4-ios.entry.js":["GEuc",0,58],"./ion-menu_4-md.entry.js":["BHpw",0,59],"./ion-modal-ios.entry.js":["mgaC",0,60],"./ion-modal-md.entry.js":["EpFf",0,61],"./ion-nav_5.entry.js":["qF1+",0,62],"./ion-popover-ios.entry.js":["Gdks",0,63],"./ion-popover-md.entry.js":["VgKV",0,64],"./ion-progress-bar-ios.entry.js":["0PGG",0,65],"./ion-progress-bar-md.entry.js":["h/Bu",0,66],"./ion-radio_2-ios.entry.js":["5bK7",0,67],"./ion-radio_2-md.entry.js":["pOmE",0,68],"./ion-range-ios.entry.js":["5g9+",0,69],"./ion-range-md.entry.js":["fD4w",0,70],"./ion-refresher_2-ios.entry.js":["CXux",0,71],"./ion-refresher_2-md.entry.js":["RODS",0,72],"./ion-reorder_2-ios.entry.js":["IdzL",0,73],"./ion-reorder_2-md.entry.js":["Ftzj",0,74],"./ion-ripple-effect.entry.js":["STjf",75],"./ion-route_4.entry.js":["k5eQ",0,76],"./ion-searchbar-ios.entry.js":["l0q3",0,77],"./ion-searchbar-md.entry.js":["mLlG",0,78],"./ion-segment_2-ios.entry.js":["Iymp",0,79],"./ion-segment_2-md.entry.js":["3msy",0,80],"./ion-select_3-ios.entry.js":["rYLK",0,81],"./ion-select_3-md.entry.js":["WOXB",0,82],"./ion-slide_2-ios.entry.js":["F/Xn",0,83],"./ion-slide_2-md.entry.js":["k8us",0,84],"./ion-spinner.entry.js":["nI0H",0,85],"./ion-split-pane-ios.entry.js":["edcM",86],"./ion-split-pane-md.entry.js":["RyPD",87],"./ion-tab-bar_2-ios.entry.js":["DP4G",0,88],"./ion-tab-bar_2-md.entry.js":["gaXT",0,89],"./ion-tab_2.entry.js":["TpdJ",0,90],"./ion-text.entry.js":["ISmu",0,91],"./ion-textarea-ios.entry.js":["xNZy",0,92],"./ion-textarea-md.entry.js":["p1XJ",0,93],"./ion-toast-ios.entry.js":["XGfm",0,94],"./ion-toast-md.entry.js":["Y/uG",0,95],"./ion-toggle-ios.entry.js":["WbT0",0,96],"./ion-toggle-md.entry.js":["upP9",0,97],"./ion-virtual-scroll.entry.js":["8Mb5",98]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="kLfG",e.exports=i},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(...e){return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:r.a}},meT2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("b0Xh"),i=function(){function e(){}return e.prototype.getOrientedImage=function(e){return new Promise((function(t,n){var i;r||((r={}).getData=function(t,n){return n.call(e),!0},r.getTag=function(){return!1}),r.getData(e,(function(){var n=r.getTag(e,"Orientation");if(1!=n){var o=document.createElement("canvas"),s=o.getContext("2d"),a=e.width,u=e.height,c=0,l=0,h=0;switch(n){case 3:case 4:c=-e.width,l=-e.height,h=180;break;case 5:case 6:a=e.height,u=e.width,l=-e.height,h=90;break;case 7:case 8:a=e.height,u=e.width,c=-e.width,h=270}o.width=a,o.height=u,[2,4,5,7].indexOf(n)>-1&&(s.translate(a,0),s.scale(-1,1)),s.rotate(h*Math.PI/180),s.drawImage(e,c,l),(i=document.createElement("img")).width=a,i.height=u,i.addEventListener("load",(function(){t(i)})),i.src=o.toDataURL("image/png")}else t(e)}))}))},e}()},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return v})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return _})),n.d(t,"__importDefault",(function(){return C}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function v(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},oBZk:function(e,t,n){"use strict";n.d(t,"F",(function(){return a})),n.d(t,"ob",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"J",(function(){return l})),n.d(t,"b",(function(){return h})),n.d(t,"K",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"L",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"M",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"Q",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"N",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"O",(function(){return _})),n.d(t,"h",(function(){return C})),n.d(t,"P",(function(){return S})),n.d(t,"i",(function(){return I})),n.d(t,"R",(function(){return A})),n.d(t,"j",(function(){return T})),n.d(t,"S",(function(){return D})),n.d(t,"k",(function(){return N})),n.d(t,"T",(function(){return O})),n.d(t,"l",(function(){return k})),n.d(t,"U",(function(){return x})),n.d(t,"m",(function(){return R})),n.d(t,"V",(function(){return P})),n.d(t,"n",(function(){return M})),n.d(t,"W",(function(){return L})),n.d(t,"o",(function(){return F})),n.d(t,"X",(function(){return j})),n.d(t,"p",(function(){return B})),n.d(t,"Y",(function(){return V})),n.d(t,"q",(function(){return U})),n.d(t,"Z",(function(){return $})),n.d(t,"r",(function(){return q})),n.d(t,"ab",(function(){return H})),n.d(t,"s",(function(){return z})),n.d(t,"bb",(function(){return G})),n.d(t,"t",(function(){return W})),n.d(t,"cb",(function(){return Q})),n.d(t,"u",(function(){return K})),n.d(t,"eb",(function(){return Y})),n.d(t,"v",(function(){return X})),n.d(t,"db",(function(){return Z})),n.d(t,"w",(function(){return J})),n.d(t,"gb",(function(){return ee})),n.d(t,"x",(function(){return te})),n.d(t,"fb",(function(){return ne})),n.d(t,"y",(function(){return re})),n.d(t,"hb",(function(){return ie})),n.d(t,"z",(function(){return oe})),n.d(t,"jb",(function(){return se})),n.d(t,"A",(function(){return ae})),n.d(t,"ib",(function(){return ue})),n.d(t,"B",(function(){return ce})),n.d(t,"kb",(function(){return le})),n.d(t,"C",(function(){return he})),n.d(t,"lb",(function(){return de})),n.d(t,"D",(function(){return fe})),n.d(t,"mb",(function(){return pe})),n.d(t,"E",(function(){return me})),n.d(t,"nb",(function(){return ge})),n.d(t,"G",(function(){return ye})),n.d(t,"pb",(function(){return ve})),n.d(t,"H",(function(){return be})),n.d(t,"qb",(function(){return we})),n.d(t,"I",(function(){return Ee})),n.d(t,"rb",(function(){return _e}));var r=n("8Y7J"),i=n("ZZ/e"),o=n("SVse"),s=n("iInd"),a=r["\u0275crt"]({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: flex;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n\n      flex-direction: column;\n\n      width: 100%;\n      height: 100%;\n\n      contain: layout size style;\n      z-index: $z-index-page-container;\n    }\n    .tabs-inner[_ngcontent-%COMP%] {\n      position: relative;\n\n      flex: 1;\n\n      contain: layout size style;\n    }"],data:{}});function u(e){return r["\u0275vid"](0,[r["\u0275qud"](402653184,1,{outlet:0}),r["\u0275ncd"](null,0),(e()(),r["\u0275eld"](2,0,null,null,2,"div",[["class","tabs-inner"]],null,null,null,null,null)),(e()(),r["\u0275eld"](3,16777216,[["outlet",1]],null,1,"ion-router-outlet",[["tabs","true"]],null,[[null,"stackEvents"]],(function(e,t,n){var r=!0;return"stackEvents"===t&&(r=!1!==e.component.onPageSelected(n)&&r),r}),null,null)),r["\u0275did"](4,212992,[[1,4]],0,i.ib,[s.b,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],[8,"true"],i.d,i.Ib,o.Location,r.ElementRef,s.m,r.NgZone,s.a,[3,i.ib]],null,{stackEvents:"stackEvents"}),r["\u0275ncd"](null,1)],(function(e,t){e(t,4,0)}),null)}var c=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function l(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var h=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var f=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var m=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function g(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var y=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function v(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var b=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function w(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var E=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var C=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function S(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var I=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function A(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var T=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function D(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var N=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var k=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function x(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var R=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function P(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var M=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function L(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var F=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function j(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var B=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function V(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var U=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function $(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var q=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function H(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var z=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function G(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var W=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Q(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var K=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Y(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var X=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function Z(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var J=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ee(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var te=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ne(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var re=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ie(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var oe=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function se(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var ae=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ue(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var ce=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function le(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var he=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function de(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var fe=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function pe(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var me=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ge(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var ye=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function ve(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var be=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function we(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}var Ee=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _e(e){return r["\u0275vid"](2,[r["\u0275ncd"](null,0)],null,null)}},pLZG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}class s extends r.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},pMnS:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("8Y7J"),i=n("iInd"),o=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function s(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r["\u0275did"](1,212992,null,0,i.o,[i.b,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],r.ChangeDetectorRef],null,null)],(function(e,t){e(t,1,0)}),null)}function a(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"ng-component",[],null,null,null,s,o)),r["\u0275did"](1,49152,null,0,i.C,[],null,null)],null,null)}var u=r["\u0275ccf"]("ng-component",i.C,a,{},{},[])},pcH8:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o}));const r=e=>o(e),i=(e,t)=>("string"==typeof e&&(t=e,e=void 0),r(e).includes(t)),o=(e=window)=>{e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=s(e)).forEach(t=>e.document.documentElement.classList.add(`plt-${t}`)),t},s=e=>Object.keys(m).filter(t=>m[t](e)),a=e=>!!f(e,/iPad/i)||!(!f(e,/Macintosh/i)||!c(e)),u=e=>f(e,/android|sink/i),c=e=>p(e,"(any-pointer:coarse)"),l=e=>h(e)||d(e),h=e=>!!(e.cordova||e.phonegap||e.PhoneGap),d=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},f=(e,t)=>t.test(e.navigator.userAgent),p=(e,t)=>e.matchMedia(t).matches,m={ipad:a,iphone:e=>f(e,/iPhone/i),ios:e=>f(e,/iPhone|iPod/i)||a(e),android:u,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return a(e)||(e=>u(e)&&!f(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:h,capacitor:d,electron:e=>f(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:c,mobileweb:e=>c(e)&&!l(e),desktop:e=>!c(e),hybrid:l};class g{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const y=new g,v=e=>{try{const t=e.sessionStorage.getItem(C);return null!==t?JSON.parse(t):{}}catch(t){return{}}},b=(e,t)=>{try{e.sessionStorage.setItem(C,JSON.stringify(t))}catch(n){return}},w=e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>E(e,_)).map(([e,t])=>[e.slice(_.length),t]).forEach(([e,n])=>{t[e]=n}),t},E=(e,t)=>e.substr(0,t.length)===t,_="ionic:",C="ionic-persist-config"},"pxS/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KOl+");function i(e,t){return!0===Object(r.a)(e,t)?Object(r.b)(e.constructor.getPluginRef())[t]:null}function o(e,t,n){!0===Object(r.a)(e,t)&&(Object(r.b)(e.constructor.getPluginRef())[t]=n)}},"q/0M":function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return a})),n.d(t,"setLogLevel",(function(){return u}));var r=[],i=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),o=i.INFO,s=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},a=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=s,r.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,i.ERROR].concat(e))},e}();function u(e){r.forEach((function(t){t.logLevel=e}))}},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();n.d(t,"a",(function(){return a}));let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){t=l instanceof s?u(l.errors):[l]}if(Object(r.a)(c)){let e=-1,n=c.length;for(;++e<n;){const n=c[e];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){t=t||[],l instanceof s?t=t.concat(u(l.errors)):t.push(l)}}}if(t)throw new s(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}},uSLK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r=(e,t,n)=>{e.style.setProperty(t,n)},i=(e,t)=>{e.style.removeProperty(t)},o=[],s=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},a=()=>{let e,t,n,a,u,c,l,h,d,f,p,m,g,y=[],v=[],b=[],w=!1,E={},_=[],C=[],S={},I=0,A=!1,T=!1,D=!0,N=!1,O=!0;const k=[],x=[],R=[],P=[],M=[],L=[],F=[],j=[],B=[],V=[],U="function"==typeof Element&&"function"==typeof Element.prototype.animate,$=()=>V,q=(e,t)=>((t&&t.oneTimeCallback?x:k).push({callback:e,opts:t}),g),H=()=>(k.length=0,x.length=0,g),z=()=>{U?($().forEach(e=>{e.cancel()}),V.length=0):R.forEach(e=>{requestAnimationFrame(()=>{i(e,"animation-name"),i(e,"animation-duration"),i(e,"animation-timing-function"),i(e,"animation-iteration-count"),i(e,"animation-delay"),i(e,"animation-play-state"),i(e,"animation-fill-mode"),i(e,"animation-direction")})})},G=()=>{M.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),M.length=0},W=()=>void 0!==u?u:l?l.getFill():void 0,Q=()=>void 0!==d?d:void 0!==c?c:l?l.getDirection():void 0,K=()=>A?"linear":void 0!==n?n:l?l.getEasing():void 0,Y=()=>T?0:void 0!==f?f:void 0!==t?t:l?l.getDuration():void 0,X=()=>void 0!==a?a:l?l.getIterations():void 0,Z=()=>void 0!==p?p:void 0!==e?e:l?l.getDelay():void 0,J=()=>{0!==I&&0==--I&&((()=>{se(),j.forEach(e=>{e()}),B.forEach(e=>{e()}),(()=>{const e=_,t=C,n=S;R.forEach(i=>{const o=i.classList;o.add(...e),o.remove(...t);for(const e in n)n.hasOwnProperty(e)&&r(i,e,n[e])})})();const e=D;k.forEach(t=>{t.callback(e,g)}),x.forEach(t=>{t.callback(e,g)}),x.length=0,O=!0,N=!0})(),l&&l.animationFinish())},ee=(e=!0)=>{L.forEach(e=>{e()}),F.forEach(e=>{e()}),(()=>{const e=v,t=b,n=E;R.forEach(i=>{const o=i.classList;o.add(...e),o.remove(...t);for(const e in n)n.hasOwnProperty(e)&&r(i,e,n[e])})})(),y.length>0&&(U?(R.forEach(e=>{const t=e.animate(y,{delay:Z(),duration:Y(),easing:K(),iterations:X(),fill:W(),direction:Q()});t.pause(),V.push(t)}),$().length>0&&(V[0].onfinish=()=>{J()})):((e=!0)=>{G(),R.forEach(t=>{if(y.length>0){const n=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(y),i=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),i=r.querySelector("#"+e);if(i)return i;const o=(n.ownerDocument||document).createElement("style");return o.id=e,o.innerHTML=`@keyframes ${e} { ${t} } @keyframes ${e}-alt { ${t} }`,r.appendChild(o),o})(m=(e=>{let t=o.indexOf(e);return t<0&&(t=o.push(e)-1),`ion-animation-${t}`})(n),n,t);M.push(i),r(t,"animation-duration",void 0!==Y()?`${Y()}ms`:null),r(t,"animation-timing-function",K()||null),r(t,"animation-delay",void 0!==Z()?`${Z()}ms`:null),r(t,"animation-fill-mode",W()||null),r(t,"animation-direction",Q()||null);const s=void 0!==X()?X()===1/0?"infinite":X().toString():null;r(t,"animation-iteration-count",s),r(t,"animation-play-state","paused"),e&&r(t,"animation-name",`${i.id}-alt`),requestAnimationFrame(()=>{r(t,"animation-name",i.id||null)})}})})(e)),w=!0},te=e=>{if(e=Math.min(Math.max(e,0),.999),U)$().forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+Y()*e,t.pause()});else{const t=`-${(Z()||0)+Y()*e}ms`;R.forEach(e=>{y.length>0&&(r(e,"animation-delay",t),r(e,"animation-play-state","paused"))})}},ne=(e=!0)=>{R.forEach(t=>{requestAnimationFrame(()=>{r(t,"animation-name",m||null),r(t,"animation-duration",void 0!==Y()?`${Y()}ms`:null),r(t,"animation-timing-function",K()||null),r(t,"animation-delay",void 0!==Z()?`${Z()}ms`:null),r(t,"animation-fill-mode",W()||null),r(t,"animation-direction",Q()||null);const n=void 0!==X()?X()===1/0?"infinite":X().toString():null;r(t,"animation-iteration-count",n),e&&r(t,"animation-name",`${m}-alt`),requestAnimationFrame(()=>{r(t,"animation-name",m||null)})})})},re=(e=!1,t=!0)=>(e&&P.forEach(t=>{t.update(e)}),U?$().forEach(e=>{e.effect.updateTiming({delay:Z(),duration:Y(),easing:K(),iterations:X(),fill:W(),direction:Q()})}):ne(t),g),ie=()=>{w&&(U?$().forEach(e=>{e.pause()}):R.forEach(e=>{r(e,"animation-play-state","paused")}))},oe=()=>{h=void 0,J()},se=()=>{h&&clearTimeout(h)},ae=()=>(w||ee(),N&&(U?te(0):ne(),N=!1),O&&(I=P.length+1,O=!1),P.forEach(e=>{e.play()}),U?($().forEach(e=>{e.play()}),0!==y.length&&0!==R.length||J()):(()=>{if(se(),R.forEach(e=>{y.length>0&&requestAnimationFrame(()=>{r(e,"animation-play-state","running")})}),0===y.length||0===R.length)J();else{const e=Z()||0,t=Y()||0;h=setTimeout(oe,e+t+100),((e,t)=>{let n;const r={passive:!0},o=t=>{e===t.target&&(n&&n(),se(),requestAnimationFrame(()=>{R.forEach(e=>{i(e,"animation-duration"),i(e,"animation-delay"),i(e,"animation-play-state")}),requestAnimationFrame(()=>{J()})}))};e&&(e.addEventListener("webkitAnimationEnd",o,r),e.addEventListener("animationend",o,r),n=()=>{e.removeEventListener("webkitAnimationEnd",o,r),e.removeEventListener("animationend",o,r)})})(R[0])}})(),g),ue=(e,t)=>{const n=y[0];return null==n||void 0!==n.offset&&0!==n.offset?y=[{offset:0,[e]:t},...y]:n[e]=t,g};return g={parentAnimation:l,elements:R,childAnimations:P,animationFinish:J,from:ue,to:(e,t)=>{const n=y[y.length-1];return null==n||void 0!==n.offset&&1!==n.offset?y=[...y,{offset:1,[e]:t}]:n[e]=t,g},fromTo:(e,t,n)=>ue(e,t).to(e,n),parent:e=>(l=e,g),play:ae,playAsync:()=>new Promise(e=>(q(e,{oneTimeCallback:!0}),ae(),g)),playSync:()=>(T=!0,q(()=>T=!1,{oneTimeCallback:!0}),ae(),g),pause:()=>(P.forEach(e=>{e.pause()}),ie(),g),stop:()=>(P.forEach(e=>{e.stop()}),w&&(z(),w=!1),g),destroy:()=>(P.forEach(e=>{e.destroy()}),z(),G(),R.length=0,P.length=0,y.length=0,H(),w=!1,O=!0,g),keyframes:e=>(y=e,g),addAnimation:e=>{if(null!=e){const t=g,n=e;if(n.length>=0)for(const e of n)e.parent(t),P.push(e);else e.parent(t),P.push(e)}return g},addElement:e=>{if(null!=e)if(1===e.nodeType)R.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)R.push(e[t]);else console.error("Invalid addElement value");return g},update:re,fill:e=>(u=e,re(!0),g),direction:e=>(c=e,re(!0),g),iterations:e=>(a=e,re(!0),g),duration:e=>(t=e,re(!0),g),easing:e=>(n=e,re(!0),g),delay:t=>(e=t,re(!0),g),getWebAnimations:$,getKeyframes:()=>y,getFill:W,getDirection:Q,getDelay:Z,getIterations:X,getEasing:K,getDuration:Y,afterAddRead:e=>(j.push(e),g),afterAddWrite:e=>(B.push(e),g),afterClearStyles:(e=[])=>{for(const t of e)S[t]="";return g},afterStyles:(e={})=>(S=e,g),afterRemoveClass:e=>(C=s(C,e),g),afterAddClass:e=>(_=s(_,e),g),beforeAddRead:e=>(L.push(e),g),beforeAddWrite:e=>(F.push(e),g),beforeClearStyles:(e=[])=>{for(const t of e)E[t]="";return g},beforeStyles:(e={})=>(E=e,g),beforeRemoveClass:e=>(b=s(b,e),g),beforeAddClass:e=>(v=s(v,e),g),onFinish:q,clearOnFinish:H,progressStart:(e=!1)=>(P.forEach(t=>{t.progressStart(e)}),ie(),A=e,w?(re(),te(0)):ee(),g),progressStep:e=>(P.forEach(t=>{t.progressStep(e)}),void 0!==Y()&&te(e),g),progressEnd:(e,t,n)=>(A=!1,P.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(f=n),N=!1,D=e,e?U||(p=t*Y()*-1,re(!1,!1)):(d="reverse"===Q()?"normal":"reverse",U?(re(),te(1-t)):(p=(1-t)*Y()*-1,re(!1,!1))),q(()=>{D=!0,f=void 0,d=void 0,p=void 0},{oneTimeCallback:!0}),l||ae(),g)}}},w1tV:function(e,t,n){"use strict";var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(e){return e.lift(new u(e))}}class u{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e}refCount(){return a()(this)}}const h=(()=>{const e=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class d extends r.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function f(){return new r.a}function p(){return e=>a()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r}}(f)(e))}n.d(t,"a",(function(){return p}))},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",a),c="[DEFAULT]",l=[],h=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){l=l.filter((function(t){return t!==e}))}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(e.services_[i]);o<s.length;o++)t.push(e.services_[i][s[o]]);return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;o.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach((function(e){t.INTERNAL.addAuthTokenListener(e)})),l=[])},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var d=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var f=self.firebase.SDK_VERSION;f&&f.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=c);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(o.contains(t,a))throw u.create("duplicate-app",{appName:a});var h=new e(n,s,i);return t[a]=h,l(h,"create"),h},app:s,apps:null,SDK_VERSION:"6.6.2",INTERNAL:{registerService:function(t,c,l,h,f){if(void 0===f&&(f=!1),n[t])return d.debug("There were multiple attempts to register service "+t+"."),i[t];function p(e){if(void 0===e&&(e=s()),"function"!=typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}return n[t]=c,h&&(r[t]=h,a().forEach((function(e){h("create",e)}))),void 0!==l&&o.deepExtend(p,l),i[t]=p,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,f?e:[])},p},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:h}};function s(e){if(!o.contains(t,e=e||c))throw u.create("no-app",{appName:e});return t[e]}function a(){return Object.keys(t).map((function(e){return t[e]}))}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=h(0,o[i]);if(null===s)return;r[s]&&r[s](t,e)}}function h(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:a}),s.App=e,i}(h);return t.INTERNAL=i.__assign({},t.INTERNAL,{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),m=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,e)};var g=p;t.default=g,t.firebase=g},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return ar})),n.d(t,"EventType",(function(){return ur})),n.d(t,"WebChannel",(function(){return cr})),n.d(t,"XhrIo",(function(){return lr})),n.d(t,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function h(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return"array"==h(e)}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now||function(){return+new Date};function _(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function A(e){return Array.prototype.concat.apply([],arguments)}function T(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function D(e){return/^[\s\xa0]*$/.test(e)}var N,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function k(e,t){return-1!=e.indexOf(t)}function x(e,t){return e<t?-1:e>t?1:0}e:{var R=s.navigator;if(R){var P=R.userAgent;if(P){N=P;break e}}N=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t,n={};for(t in e)n[t]=e[t];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){return B[" "](e),e}B[" "]=l;var V,U,$=k(N,"Opera"),q=k(N,"Trident")||k(N,"MSIE"),H=k(N,"Edge"),z=H||q,G=k(N,"Gecko")&&!(k(N.toLowerCase(),"webkit")&&!k(N,"Edge"))&&!(k(N,"Trident")||k(N,"MSIE"))&&!k(N,"Edge"),W=k(N.toLowerCase(),"webkit")&&!k(N,"Edge");function Q(){var e=s.document;return e?e.documentMode:void 0}e:{var K="",Y=(U=N,G?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):W?/WebKit\/(\S+)/.exec(U):$?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Y&&(K=Y?Y[1]:""),q){var X=Q();if(null!=X&&X>parseFloat(K)){V=String(X);break e}}V=K}var Z,J={};function ee(e){return function(e,t){var n=J;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=O(String(V)).split("."),r=O(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=x(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||x(0==s[2].length,0==a[2].length)||x(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var te=s.document;Z=te&&q?Q()||("CSS1Compat"==te.compatMode?parseInt(V,10):5):void 0;var ne=!q||9<=Number(Z),re=q&&!ee("9"),ie=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",l,t),s.removeEventListener("test",l,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function se(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(G){e:{try{B(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}oe.prototype.b=function(){this.Ja=!1},_(se,oe);var ae={2:"touch",3:"pen",4:"mouse"};se.prototype.b=function(){se.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ce,this.X=this.Z=!1}function he(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function de(e){this.src=e,this.a={},this.b=0}function fe(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=S(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=pe(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new le(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ye(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=Se(r),t&&t[ue]?t.Ba(n,r,p(i)?!!i.capture:!!i,o):ve(t,n,r,!0,i,o)}(e,t,n,r,i);if(d(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Se(n),e&&e[ue]?e.Aa(t,n,p(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!ne)return null;var a=_e(e);if(a||(e[me]=a=new de(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Ee,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function be(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[ue])fe(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_e(t))?(fe(n,e),0==n.b&&(n.src=null,t[me]=null)):he(e)}}}function we(e){return e in ge?ge[e]:ge[e]="on"+e}function Ee(e,t){return!!e.X||function(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&be(e),n.call(r,t)}(e,ne?new se(t,this):t=new se(t||c("window.event"),this))}function _e(e){return(e=e[me])instanceof de?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"==h(e)?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Ie(){C.call(this),this.c=new de(this),this.J=this,this.B=null}function Ae(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.X&&s.capture==n){var a=s.listener,u=s.da||s.src;s.Z&&fe(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ja}_(Ie,C),Ie.prototype[ue]=!0,(r=Ie.prototype).addEventListener=function(e,t,n,r){ye(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Se(r),t&&t[ue]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=pe(s=t.a[n],r,i,o))&&(he(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=_e(t))&&(n=t.a[n.toString()],t=-1,n&&(t=pe(n,r,i,o)),(r=-1<t?n[t]:null)&&be(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(a(e))e=new oe(e,n);else if(e instanceof oe)e.target=e.target||n;else{var i=e;j(e=new oe(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=Ae(s,r,!0,e)&&i}if(i=Ae(s=e.a=n,r,!0,e)&&i,i=Ae(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ae(s=e.a=t[o],r,!1,e)&&i;return i},r.G=function(){if(Ie.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.B=null},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Te=s.JSON.stringify;function De(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ne(){this.b=this.a=null}De.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Oe,ke=new De((function(){return new Re}),(function(e){e.reset()}));function xe(){var e=Fe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Re(){this.next=this.b=this.a=null}function Pe(e){s.setTimeout((function(){throw e}),0)}function Me(e,t){Oe||function(){var e=s.Promise.resolve(void 0);Oe=function(){e.then(je)}}(),Le||(Oe(),Le=!0),Fe.add(e,t)}Ne.prototype.add=function(e,t){var n=ke.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Re.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Re.prototype.reset=function(){this.next=this.b=this.a=null};var Le=!1,Fe=new Ne;function je(){for(var e;e=xe();){try{e.a.call(e.b)}catch(n){Pe(n)}var t=ke;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Le=!1}function Be(e,t){Ie.call(this),this.b=e||1,this.a=t||s,this.f=b(this.gb,this),this.g=E()}function Ve(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function Ue(e,t,n){if("function"==h(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function $e(e,t,n){C.call(this),this.f=null!=n?b(e,n):e,this.c=t,this.b=b(this.ab,this),this.a=[]}function qe(e){e.U=Ue(e.b,e.c),e.f.apply(null,e.a)}function He(e){C.call(this),this.b=e,this.a={}}_(Be,Ie),(r=Be.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var e=E()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ve(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=E())},r.G=function(){Be.N.G.call(this),Ve(this),delete this.a},_($e,C),(r=$e.prototype).ea=!1,r.U=null,r.Ua=function(e){this.a=arguments,this.U?this.ea=!0:qe(this)},r.G=function(){$e.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,qe(this))},_(He,C);var ze=[];function Ge(e,t,n,r){d(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function We(e){M(e.a,(function(e,t){this.a.hasOwnProperty(t)&&be(e)}),e),e.a={}}function Qe(){}He.prototype.G=function(){He.N.G.call(this),We(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=new Ie;function Ye(e){oe.call(this,"serverreachability",e)}function Xe(e){Ke.dispatchEvent(new Ye(Ke,e))}function Ze(e){oe.call(this,"statevent",e)}function Je(e){Ke.dispatchEvent(new Ze(Ke,e))}function et(e){oe.call(this,"timingevent",e)}function tt(e,t){if("function"!=h(e))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){e()}),t)}_(Ye,oe),_(Ze,oe),_(et,oe);var nt={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},rt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function it(){}function ot(){}it.prototype.a=null;var st,at={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ut(){oe.call(this,"d")}function ct(){oe.call(this,"c")}function lt(){}function ht(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new He(this),this.O=dt,this.P=new Be(e=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}_(ut,oe),_(ct,oe),_(lt,it),st=new lt;var dt=45e3,ft={},pt={};function mt(e,t,n){e.F=1,e.f=Vt(Rt(t)),e.l=n,e.H=!0,yt(e,null)}function gt(e,t,n,r){e.F=1,e.f=Vt(Rt(t)),e.l=null,e.H=n,yt(e,r)}function yt(e,t){e.v=E(),wt(e),e.D=Rt(e.f),Bt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new $e(b(e.Ka,e,e.a),e.J)),Ge(e.I,e.a,"readystatechange",e.eb),t=e.h?L(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Xe(1)}function vt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=bt(e,n);if(i==pt){4==t&&(e.c=4,Je(14),r=!1);break}if(i==ft){e.c=4,Je(15),r=!1;break}It(e,i)}4==t&&0==n.length&&(e.c=1,Je(16),r=!1),e.b=e.b&&r,r||(St(e),Ct(e))}function bt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?pt:(n=Number(t.substring(n,r)),isNaN(n)?ft:(r+=1)+n>t.length?pt:(t=t.substr(r,n),e.A=r+n,t))}function wt(e){e.R=E()+e.O,Et(e,e.O)}function Et(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=tt(b(e.bb,e),t)}function _t(e){e.i&&(s.clearTimeout(e.i),e.i=null)}function Ct(e){e.g.Da()||e.m||e.g.na(e)}function St(e){_t(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,Ve(e.P),We(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function It(e,t){try{e.g.Ga(e,t),Xe(4)}catch(n){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||a(e))I(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(f(e)||a(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(a(e))return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Tt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Tt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e,t){Ot(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nt(e))}function Nt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ot(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ot(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ht.prototype).setTimeout=function(e){this.O=e},r.eb=function(e){e=e.target;var t=this.B;t&&3==Rn(e)?t.Ua():this.Ka(e)},r.Ka=function(e){try{if(e==this.a)e:{var t=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!z&&!this.a.aa())){this.m||4!=t||7==n||Xe(8==n||0>=r?3:2),_t(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var s=Pn(this.a,"X-HTTP-Initial-Response");if(s&&!D(s)){var a=s;break t}}a=null}if(!a){this.b=!1,this.c=3,Je(12),St(this),Ct(this);break e}this.s=!0,It(this,a)}this.H?(vt(this,t,o),z&&this.b&&3==t&&(Ge(this.I,this.P,"tick",this.cb),this.P.start())):It(this,o),4==t&&St(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,wt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Je(12)):(this.c=0,Je(13)),St(this),Ct(this)}}}catch(u){}},r.cb=function(){if(this.a){var e=Rn(this.a),t=this.a.aa();this.A<t.length&&(_t(this),vt(this,e,t),this.b&&4!=e&&wt(this))}},r.cancel=function(){this.m=!0,St(this)},r.bb=function(){this.i=null;var e=E();0<=e-this.R?(2!=this.F&&(Xe(3),Je(17)),St(this),this.c=2,Ct(this)):Et(this,this.R-e)},(r=Tt.prototype).C=function(){Nt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return Nt(this),this.a.concat()},r.get=function(e,t){return Ot(this.b,e)?this.b[e]:t},r.set=function(e,t){Ot(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var kt=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof xt?(this.h=void 0!==t?t:e.h,Pt(this,e.f),this.j=e.j,Mt(this,e.b),Lt(this,e.i),this.a=e.a,Ft(this,en(e.c)),this.g=e.g):e&&(n=String(e).match(kt))?(this.h=!!t,Pt(this,n[1]||"",!0),this.j=Ut(n[2]||""),Mt(this,n[3]||"",!0),Lt(this,n[4]),this.a=Ut(n[5]||"",!0),Ft(this,n[6]||"",!0),this.g=Ut(n[7]||"")):(this.h=!!t,this.c=new Kt(null,this.h))}function Rt(e){return new xt(e)}function Pt(e,t,n){e.f=n?Ut(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Mt(e,t,n){e.b=n?Ut(t,!0):t}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Ft(e,t,n){t instanceof Kt?(e.c=t,function(e,t){t&&!e.f&&(Yt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Jt(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=$t(t,Wt)),e.c=new Kt(t,e.h))}function jt(e,t,n){e.c.set(t,n)}function Bt(e,t,n){d(n)||(n=[String(n)]),Jt(e.c,t,n)}function Vt(e){return jt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),e}function Ut(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $t(e,t,n){return a(e)?(e=encodeURI(e).replace(t,qt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xt.prototype.toString=function(){var e=[],t=this.f;t&&e.push($t(t,Ht,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push($t(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push($t(n,"/"==n.charAt(0)?Gt:zt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",$t(n,Qt)),e.join("")},xt.prototype.resolve=function(e){var t=Rt(this),n=!!e.f;n?Pt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Mt(t,e.b):n=null!=e.i;var r=e.a;if(n)Lt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(k(i,"./")||k(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Ft(t,en(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Ht=/[#\/\?@]/g,zt=/[#\?:]/g,Gt=/[#\?]/g,Wt=/[#\?@]/g,Qt=/#/g;function Kt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yt(e){e.a||(e.a=new Tt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Yt(e),t=tn(e,t),Ot(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dt(e.a,t))}function Zt(e,t){return Yt(e),t=tn(e,t),Ot(e.a.b,t)}function Jt(e,t,n){Xt(e,t),0<n.length&&(e.c=null,e.a.set(tn(e,t),T(n)),e.b+=n.length)}function en(e){var t=new Kt;return t.c=e.c,e.a&&(t.a=new Tt(e.a),t.b=e.b),t}function tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(e){var t=e.a.F.a;if(null!=t)Je(4),t?(Je(10),Gn(e.a,e,!1)):(Je(11),Gn(e.a,e,!0));else{e.b=new ht(e,void 0,void 0),e.b.h=e.h,t=Xn(t=e.a,t.Y()?e.f:null,e.i),Je(4),Bt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&jt(t,n,r),gt(e.b,t,!1,e.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Tt}function an(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++g)):t.charAt(0)+e}function un(e,t){this.b=e,this.a=t}function cn(e){this.g=e||ln,e=s.PerformanceNavigationTiming?0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=Kt.prototype).add=function(e,t){Yt(this),this.c=null,e=tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Yt(this),this.a.forEach((function(n,r){I(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Yt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.C=function(e){Yt(this);var t=[];if(a(e))Zt(this,e)&&(t=A(t,this.a.get(tn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=A(t,e[n])}return t},r.set=function(e,t){return Yt(this),this.c=null,Zt(this,e=tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")},_((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Pn(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Pn(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Kn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Kn(t,2)}else 1==this.M&&(this.g?Je(6):"11111"==t?(Je(5),this.g=!0,(!q||10<=Number(Z))&&(this.c=200,this.b.cancel(),Je(11),Gn(this.a,this,!0))):(Je(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Je(11),Gn(this.a,this,!0)):(Je(10),Gn(this.a,this,!1)));else{0==this.M?Je(8):1==this.M&&Je(9);var e=this.a;e.m=this.c,Kn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(e){this.a.set(an(e),e)},sn.prototype.C=function(){return this.a.C()};var ln=10;function hn(e,t){!e.a&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(e.f=e.g,e.a=new sn,e.b&&(mn(e,e.b),e.b=null))}function dn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function fn(e){return e.b?1:e.a?e.a.a.c:0}function pn(e,t){return e.b?e=e.b==t:e.a?(t=an(t),e=Ot(e.a.a.b,t)):e=!1,e}function mn(e,t){e.a?e.a.add(t):e.b=t}function gn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=an(t),n=Ot(e.a.a.b,n)),n&&Dt(e.a.a,an(t)))}function yn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return I(e.a.C(),(function(e){t=t.concat(e.j)})),t}return T(e.c)}function vn(){}function bn(){this.a=new vn}function wn(e,t,n){var r=n||"";try{At(e,(function(e,n){var i=e;p(e)&&(i=Te(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function En(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}cn.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(I(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},vn.prototype.stringify=function(e){return s.JSON.stringify(e,void 0)},vn.prototype.parse=function(e){return s.JSON.parse(e,void 0)};var _n=s.JSON.parse;function Cn(e){Ie.call(this),this.headers=new Tt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}_(Cn,Ie);var Sn="",In=/^https?$/i,An=["POST","PUT"];function Tn(e){return"content-type"==e.toLowerCase()}function Dn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Nn(e),kn(e)}function Nn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function On(e){if(e.b&&void 0!==o&&(!e.s[1]||4!=Rn(e)||2!=e.T()))if(e.l&&4==Rn(e))Ue(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Rn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.A).match(kt)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Nn(e))}finally{kn(e)}}}function kn(e,t){if(e.a){xn(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function xn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(s.clearTimeout(e.m),e.m=null)}function Rn(e){return e.a?e.a.readyState:0}function Pn(e,t){return e.a?e.a.getResponseHeader(t):null}function Mn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return M(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),a(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return jt(e,t,n),e}function Ln(e){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!c("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=c("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=c("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=c("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new cn(e&&e.concurrentRequestLimit),this.ja=new bn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(e){if(jn(e),3==e.u){var t=e.P++,n=Rt(e.B);jt(n,"SID",e.H),jt(n,"RID",t),jt(n,"TYPE","terminate"),$n(e,n),(t=new ht(e,t,void 0)).F=2,t.f=Vt(Rt(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(t.f.toString(),"")),!n&&s.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=E(),wt(t)}Yn(e)}function jn(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(s.clearTimeout(e.l),e.l=null),Wn(e),e.b.cancel(),e.h&&(u(e.h)&&s.clearTimeout(e.h),e.h=null)}function Bn(e,t){e.f.push(new un(e.Ra++,t)),3==e.u&&Vn(e)}function Vn(e){dn(e.b)||e.h||(e.h=!0,Me(e.Ia,e),e.A=0)}function Un(e,t){var n;n=t?t.W:e.P++;var r=Rt(e.B);jt(r,"SID",e.H),jt(r,"RID",n),jt(r,"AID",e.O),$n(e,r),e.g&&e.i&&Mn(r,e.g,e.i),n=new ht(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=qn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),mn(e.b,n),mt(n,r,t)}function $n(e,t){e.c&&At({},(function(e,n){jt(t,n,e)}))}function qn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?b(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{wn(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Hn(e){e.a||e.l||(e.S=1,Me(e.Ha,e),e.v=0)}function zn(e){return!(e.a||e.l||3<=e.v||(e.S++,e.l=tt(b(e.Ha,e),Qn(e,e.v)),e.v++,0))}function Gn(e,t,n){var r=t.l;r&&hn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Xn(e,null,e.ha),Vn(e)}function Wn(e){null!=e.s&&(s.clearTimeout(e.s),e.s=null)}function Qn(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function Kn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=b(e.fb,e);n||(n=new xt("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Pt(n,"https"),Vt(n)),function(e,t){var n=new Qe;if(s.Image){var r=new Image;r.onload=w(En,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(En,n,r,"TestLoadImage: error",!1,t),r.onabort=w(En,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(En,n,r,"TestLoadImage: timeout",!1,t),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Je(2);e.u=0,e.c&&e.c.ta(t),Yn(e),jn(e)}function Yn(e){e.u=0,e.m=-1,e.c&&(0==yn(e.b).length&&0==e.f.length||(e.b.c.length=0,T(e.f),e.f.length=0),e.c.sa())}function Xn(e,t,n){var r=function(e){return e instanceof xt?Rt(e):new xt(e,void 0)}(n);if(""!=r.b)t&&Mt(r,t+"."+r.b),Lt(r,r.i);else{var i=s.location;r=function(e,t,n,r){var i=new xt(null,void 0);return e&&Pt(i,e),t&&Mt(i,t),n&&Lt(i,n),r&&(i.a=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&M(e.V,(function(e,t){jt(r,t,e)})),n=e.I,(t=e.j)&&n&&jt(r,t,n),jt(r,"VER",e.wa),$n(e,r),r}function Zn(){}function Jn(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function er(e,t){Ie.call(this),this.a=new Ln(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!D(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new rr(this)}function tr(e){ut.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function nr(){ct.call(this),this.status=1}function rr(e){this.a=e}(r=Cn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:st),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(o){return void Dn(this,o)}e=n||"";var i=new Tt(this.headers);r&&At(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Tn,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(i.K()),n=s.FormData&&e instanceof s.FormData,!(0<=S(An,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{xn(this),0<this.o&&((this.D=function(e){return q&&ee(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Ue(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Dn(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),kn(this,!0)),Cn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?On(this):this.$a())},r.$a=function(){On(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(U){return-1}},r.za=function(){try{return 2<Rn(this)?this.a.statusText:""}catch(U){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},r.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),_n(t)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new ht(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?j(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=qn(this,n,t),jt(i=Rt(this.B),"RID",e),jt(i,"CVER",22),this.o&&this.j&&jt(i,"X-HTTP-Session-Id",this.j),$n(this,i),this.g&&r&&Mn(i,this.g,r),mn(this.b,n),this.W?(jt(i,"$req",t),jt(i,"SID","null"),n.S=!0,mt(n,i,null)):mt(n,i,t),this.u=2}}else 3==this.u&&(e?Un(this,e):0==this.f.length||dn(this.b)||Un(this))},r.Ha=function(){this.l=null,this.a=new ht(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Rt(this.pa);jt(e,"RID","rpc"),jt(e,"SID",this.H),jt(e,"CI",this.ia?"0":"1"),jt(e,"AID",this.O),$n(this,e),jt(e,"TYPE","xmlhttp"),this.g&&this.i&&Mn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),gt(this.a,e,!0,this.ga)},r.Ga=function(e,t){if(0!=this.u&&(this.a==e||pn(this.b,e)))if(this.m=e.o,!e.s&&pn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Wn(this),this.a.cancel(),this.a=null}zn(this),Je(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=tt(b(this.Za,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Kn(this,11)}else if((e.s||this.a==e)&&Wn(this),!D(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Pn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Pn(r,"X-HTTP-Session-Id")))&&(this.I=r,jt(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(_t(r),wt(r)),this.a=r):Hn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||Kn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Kn(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,zn(this),Je(19))},r.na=function(e){var t=null;if(this.a==e){Wn(this),this.a=null;var n=2}else{if(!pn(this.b,e))return;t=e.j,gn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=E()-e.v,Ke.dispatchEvent(new et(Ke,e.l?e.l.length:0,t,this.A)),Vn(this)):Hn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(fn(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.f=t.j.concat(e.f),0):1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa)||(e.h=tt(b(e.Ia,e,t),Qn(e,e.A)),e.A++,0)))}(this,e)||2==n&&zn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Kn(this,5);break;case 4:Kn(this,10);break;case 3:Kn(this,6);break;default:Kn(this,2)}}},r.fb=function(e){Je(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cn(this.La)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Jn.prototype.a=function(e,t){return new er(e,t)},_(er,Ie),(r=er.prototype).addEventListener=function(e,t,n,r){er.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){er.N.removeEventListener.call(this,e,t,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;Je(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new nn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Mn(t,e.g,e.i)),(e=e.w).i=n,t=Xn(e.a,null,e.i),Je(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,rn(e)):(Bt(t,"MODE","init"),!e.a.o&&e.a.j&&Bt(t,"X-HTTP-Session-Id",e.a.j),e.b=new ht(e,void 0,void 0),e.b.h=e.h,gt(e.b,t,!1,null),e.M=0)},r.close=function(){Fn(this.a)},r.Xa=function(e){if(a(e)){var t={};t.__data__=e,Bn(this.a,t)}else this.h?((t={}).__data__=Te(e),Bn(this.a,t)):Bn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,er.N.G.call(this)},_(tr,ut),_(nr,ct),_(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(e){this.a.dispatchEvent(new tr(e))},rr.prototype.ta=function(e){this.a.dispatchEvent(new nr(e))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=w((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,er.prototype.send=er.prototype.Xa,er.prototype.open=er.prototype.Wa,er.prototype.close=er.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",ot.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",Ie.prototype.listen=Ie.prototype.Aa,Cn.prototype.listenOnce=Cn.prototype.Ba,Cn.prototype.getLastError=Cn.prototype.Ya,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getStatusText=Cn.prototype.za,Cn.prototype.getResponseJson=Cn.prototype.Va,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:nt,EventType:rt,WebChannel:ot,XhrIo:Cn},sr=or.createWebChannelTransport,ar=or.ErrorCode,ur=or.EventType,cr=or.WebChannel,lr=or.XhrIo;t.default=or},xSm1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("KOl+");function i(e,t,n,i){return Object(r.c)(e,t,n).apply(this,i)}},xgIS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),o=n("n6bG"),s=n("lJxs");function a(e,t,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?a(e,t,n).pipe(Object(s.a)(e=>Object(i.a)(e)?u(...e):u(e))):new r.a(r=>{!function e(t,n,r,i,o){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,o),s=()=>e.removeEventListener(n,r,o)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),s=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),s=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,a=t.length;s<a;s++)e(t[s],n,r,i,o)}i.add(s)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)})}},"yA/v":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return h})),n("mrSG");var r,i=n("8Y7J"),o=n("Wcq6"),s=n.n(o);const a=new i.InjectionToken("angularfire2.app.options"),u=new i.InjectionToken("angularfire2.app.nameOrConfig");class c{}function l(e,t){const n="object"==typeof t&&t||{};return n.name=n.name||"string"==typeof t&&t||"[DEFAULT]",s.a.apps.filter(e=>e&&e.name===n.name)[0]||s.a.initializeApp(e,n)}let h=(()=>r=class{static initializeApp(e,t){return{ngModule:r,providers:[{provide:a,useValue:e},{provide:u,useValue:t}]}}})()},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J");class i{}var o=n("ZZ/e"),s=n("mrSG"),a=n("a3Cf"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.show=function(){return Object(a.cordova)(this,"show",{sync:!0},arguments)},t.prototype.hide=function(){return Object(a.cordova)(this,"hide",{sync:!0},arguments)},t.pluginName="SplashScreen",t.plugin="cordova-plugin-splashscreen",t.pluginRef="navigator.splashscreen",t.repo="https://github.com/apache/cordova-plugin-splashscreen",t.platforms=["Amazon Fire OS","Android","iOS","Windows"],t}(a.IonicNativePlugin),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.__extends)(t,e),t.prototype.overlaysWebView=function(e){return Object(a.cordova)(this,"overlaysWebView",{sync:!0},arguments)},t.prototype.styleDefault=function(){return Object(a.cordova)(this,"styleDefault",{sync:!0},arguments)},t.prototype.styleLightContent=function(){return Object(a.cordova)(this,"styleLightContent",{sync:!0},arguments)},t.prototype.styleBlackTranslucent=function(){return Object(a.cordova)(this,"styleBlackTranslucent",{sync:!0},arguments)},t.prototype.styleBlackOpaque=function(){return Object(a.cordova)(this,"styleBlackOpaque",{sync:!0},arguments)},t.prototype.backgroundColorByName=function(e){return Object(a.cordova)(this,"backgroundColorByName",{sync:!0},arguments)},t.prototype.backgroundColorByHexString=function(e){return Object(a.cordova)(this,"backgroundColorByHexString",{sync:!0},arguments)},t.prototype.hide=function(){return Object(a.cordova)(this,"hide",{sync:!0},arguments)},t.prototype.show=function(){return Object(a.cordova)(this,"show",{sync:!0},arguments)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return Object(a.cordovaPropertyGet)(this,"isVisible")},set:function(e){Object(a.cordovaPropertySet)(this,"isVisible",e)},enumerable:!0,configurable:!0}),t.pluginName="StatusBar",t.plugin="cordova-plugin-statusbar",t.pluginRef="StatusBar",t.repo="https://github.com/apache/cordova-plugin-statusbar",t.platforms=["Android","iOS","Windows"],t}(a.IonicNativePlugin),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.PERMISSION={ACCESS_CHECKIN_PROPERTIES:"android.permission.ACCESS_CHECKIN_PROPERTIES",ACCESS_COARSE_LOCATION:"android.permission.ACCESS_COARSE_LOCATION",ACCESS_FINE_LOCATION:"android.permission.ACCESS_FINE_LOCATION",ACCESS_LOCATION_EXTRA_COMMANDS:"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS",ACCESS_MOCK_LOCATION:"android.permission.ACCESS_MOCK_LOCATION",ACCESS_NETWORK_STATE:"android.permission.ACCESS_NETWORK_STATE",ACCESS_SURFACE_FLINGER:"android.permission.ACCESS_SURFACE_FLINGER",ACCESS_WIFI_STATE:"android.permission.ACCESS_WIFI_STATE",ACCOUNT_MANAGER:"android.permission.ACCOUNT_MANAGER",ADD_VOICEMAIL:"com.android.voicemail.permission.ADD_VOICEMAIL",AUTHENTICATE_ACCOUNTS:"android.permission.AUTHENTICATE_ACCOUNTS",BATTERY_STATS:"android.permission.BATTERY_STATS",BIND_ACCESSIBILITY_SERVICE:"android.permission.BIND_ACCESSIBILITY_SERVICE",BIND_APPWIDGET:"android.permission.BIND_APPWIDGET",BIND_CARRIER_MESSAGING_SERVICE:"android.permission.BIND_CARRIER_MESSAGING_SERVICE",BIND_DEVICE_ADMIN:"android.permission.BIND_DEVICE_ADMIN",BIND_DREAM_SERVICE:"android.permission.BIND_DREAM_SERVICE",BIND_INPUT_METHOD:"android.permission.BIND_INPUT_METHOD",BIND_NFC_SERVICE:"android.permission.BIND_NFC_SERVICE",BIND_NOTIFICATION_LISTENER_SERVICE:"android.permission.BIND_NOTIFICATION_LISTENER_SERVICE",BIND_PRINT_SERVICE:"android.permission.BIND_PRINT_SERVICE",BIND_REMOTEVIEWS:"android.permission.BIND_REMOTEVIEWS",BIND_TEXT_SERVICE:"android.permission.BIND_TEXT_SERVICE",BIND_TV_INPUT:"android.permission.BIND_TV_INPUT",BIND_VOICE_INTERACTION:"android.permission.BIND_VOICE_INTERACTION",BIND_VPN_SERVICE:"android.permission.BIND_VPN_SERVICE",BIND_WALLPAPER:"android.permission.BIND_WALLPAPER",BLUETOOTH:"android.permission.BLUETOOTH",BLUETOOTH_ADMIN:"android.permission.BLUETOOTH_ADMIN",BLUETOOTH_PRIVILEGED:"android.permission.BLUETOOTH_PRIVILEGED",BODY_SENSORS:"android.permission.BODY_SENSORS",BRICK:"android.permission.BRICK",BROADCAST_PACKAGE_REMOVED:"android.permission.BROADCAST_PACKAGE_REMOVED",BROADCAST_SMS:"android.permission.BROADCAST_SMS",BROADCAST_STICKY:"android.permission.BROADCAST_STICKY",BROADCAST_WAP_PUSH:"android.permission.BROADCAST_WAP_PUSH",CALL_PHONE:"android.permission.CALL_PHONE",CALL_PRIVILEGED:"android.permission.CALL_PRIVILEGED",CAMERA:"android.permission.CAMERA",CAPTURE_AUDIO_OUTPUT:"android.permission.CAPTURE_AUDIO_OUTPUT",CAPTURE_SECURE_VIDEO_OUTPUT:"android.permission.CAPTURE_SECURE_VIDEO_OUTPUT",CAPTURE_VIDEO_OUTPUT:"android.permission.CAPTURE_VIDEO_OUTPUT",CHANGE_COMPONENT_ENABLED_STATE:"android.permission.CHANGE_COMPONENT_ENABLED_STATE",CHANGE_CONFIGURATION:"android.permission.CHANGE_CONFIGURATION",CHANGE_NETWORK_STATE:"android.permission.CHANGE_NETWORK_STATE",CHANGE_WIFI_MULTICAST_STATE:"android.permission.CHANGE_WIFI_MULTICAST_STATE",CHANGE_WIFI_STATE:"android.permission.CHANGE_WIFI_STATE",CLEAR_APP_CACHE:"android.permission.CLEAR_APP_CACHE",CLEAR_APP_USER_DATA:"android.permission.CLEAR_APP_USER_DATA",CONTROL_LOCATION_UPDATES:"android.permission.CONTROL_LOCATION_UPDATES",DELETE_CACHE_FILES:"android.permission.DELETE_CACHE_FILES",DELETE_PACKAGES:"android.permission.DELETE_PACKAGES",DEVICE_POWER:"android.permission.DEVICE_POWER",DIAGNOSTIC:"android.permission.DIAGNOSTIC",DISABLE_KEYGUARD:"android.permission.DISABLE_KEYGUARD",DUMP:"android.permission.DUMP",EXPAND_STATUS_BAR:"android.permission.EXPAND_STATUS_BAR",FACTORY_TEST:"android.permission.FACTORY_TEST",FLASHLIGHT:"android.permission.FLASHLIGHT",FORCE_BACK:"android.permission.FORCE_BACK",GET_ACCOUNTS:"android.permission.GET_ACCOUNTS",GET_PACKAGE_SIZE:"android.permission.GET_PACKAGE_SIZE",GET_TASKS:"android.permission.GET_TASKS",GET_TOP_ACTIVITY_INFO:"android.permission.GET_TOP_ACTIVITY_INFO",GLOBAL_SEARCH:"android.permission.GLOBAL_SEARCH",HARDWARE_TEST:"android.permission.HARDWARE_TEST",INJECT_EVENTS:"android.permission.INJECT_EVENTS",INSTALL_LOCATION_PROVIDER:"android.permission.INSTALL_LOCATION_PROVIDER",INSTALL_PACKAGES:"android.permission.INSTALL_PACKAGES",INSTALL_SHORTCUT:"com.android.launcher.permission.INSTALL_SHORTCUT",INTERNAL_SYSTEM_WINDOW:"android.permission.INTERNAL_SYSTEM_WINDOW",INTERNET:"android.permission.INTERNET",KILL_BACKGROUND_PROCESSES:"android.permission.KILL_BACKGROUND_PROCESSES",LOCATION_HARDWARE:"android.permission.LOCATION_HARDWARE",MANAGE_ACCOUNTS:"android.permission.MANAGE_ACCOUNTS",MANAGE_APP_TOKENS:"android.permission.MANAGE_APP_TOKENS",MANAGE_DOCUMENTS:"android.permission.MANAGE_DOCUMENTS",MASTER_CLEAR:"android.permission.MASTER_CLEAR",MEDIA_CONTENT_CONTROL:"android.permission.MEDIA_CONTENT_CONTROL",MODIFY_AUDIO_SETTINGS:"android.permission.MODIFY_AUDIO_SETTINGS",MODIFY_PHONE_STATE:"android.permission.MODIFY_PHONE_STATE",MOUNT_FORMAT_FILESYSTEMS:"android.permission.MOUNT_FORMAT_FILESYSTEMS",MOUNT_UNMOUNT_FILESYSTEMS:"android.permission.MOUNT_UNMOUNT_FILESYSTEMS",NFC:"android.permission.NFC",PERSISTENT_ACTIVITY:"android.permission.PERSISTENT_ACTIVITY",PROCESS_OUTGOING_CALLS:"android.permission.PROCESS_OUTGOING_CALLS",READ_CALENDAR:"android.permission.READ_CALENDAR",READ_CALL_LOG:"android.permission.READ_CALL_LOG",READ_CONTACTS:"android.permission.READ_CONTACTS",READ_EXTERNAL_STORAGE:"android.permission.READ_EXTERNAL_STORAGE",READ_FRAME_BUFFER:"android.permission.READ_FRAME_BUFFER",READ_HISTORY_BOOKMARKS:"com.android.browser.permission.READ_HISTORY_BOOKMARKS",READ_INPUT_STATE:"android.permission.READ_INPUT_STATE",READ_LOGS:"android.permission.READ_LOGS",READ_PHONE_STATE:"android.permission.READ_PHONE_STATE",READ_PROFILE:"android.permission.READ_PROFILE",READ_SMS:"android.permission.READ_SMS",READ_SOCIAL_STREAM:"android.permission.READ_SOCIAL_STREAM",READ_SYNC_SETTINGS:"android.permission.READ_SYNC_SETTINGS",READ_SYNC_STATS:"android.permission.READ_SYNC_STATS",READ_USER_DICTIONARY:"android.permission.READ_USER_DICTIONARY",READ_VOICEMAIL:"com.android.voicemail.permission.READ_VOICEMAIL",REBOOT:"android.permission.REBOOT",RECEIVE_BOOT_COMPLETED:"android.permission.RECEIVE_BOOT_COMPLETED",RECEIVE_MMS:"android.permission.RECEIVE_MMS",RECEIVE_SMS:"android.permission.RECEIVE_SMS",RECEIVE_WAP_PUSH:"android.permission.RECEIVE_WAP_PUSH",RECORD_AUDIO:"android.permission.RECORD_AUDIO",REORDER_TASKS:"android.permission.REORDER_TASKS",RESTART_PACKAGES:"android.permission.RESTART_PACKAGES",SEND_RESPOND_VIA_MESSAGE:"android.permission.SEND_RESPOND_VIA_MESSAGE",SEND_SMS:"android.permission.SEND_SMS",SET_ACTIVITY_WATCHER:"android.permission.SET_ACTIVITY_WATCHER",SET_ALARM:"com.android.alarm.permission.SET_ALARM",SET_ALWAYS_FINISH:"android.permission.SET_ALWAYS_FINISH",SET_ANIMATION_SCALE:"android.permission.SET_ANIMATION_SCALE",SET_DEBUG_APP:"android.permission.SET_DEBUG_APP",SET_ORIENTATION:"android.permission.SET_ORIENTATION",SET_POINTER_SPEED:"android.permission.SET_POINTER_SPEED",SET_PREFERRED_APPLICATIONS:"android.permission.SET_PREFERRED_APPLICATIONS",SET_PROCESS_LIMIT:"android.permission.SET_PROCESS_LIMIT",SET_TIME:"android.permission.SET_TIME",SET_TIME_ZONE:"android.permission.SET_TIME_ZONE",SET_WALLPAPER:"android.permission.SET_WALLPAPER",SET_WALLPAPER_HINTS:"android.permission.SET_WALLPAPER_HINTS",SIGNAL_PERSISTENT_PROCESSES:"android.permission.SIGNAL_PERSISTENT_PROCESSES",STATUS_BAR:"android.permission.STATUS_BAR",SUBSCRIBED_FEEDS_READ:"android.permission.SUBSCRIBED_FEEDS_READ",SUBSCRIBED_FEEDS_WRITE:"android.permission.SUBSCRIBED_FEEDS_WRITE",SYSTEM_ALERT_WINDOW:"android.permission.SYSTEM_ALERT_WINDOW",TRANSMIT_IR:"android.permission.TRANSMIT_IR",UNINSTALL_SHORTCUT:"com.android.launcher.permission.UNINSTALL_SHORTCUT",UPDATE_DEVICE_STATS:"android.permission.UPDATE_DEVICE_STATS",USE_CREDENTIALS:"android.permission.USE_CREDENTIALS",USE_SIP:"android.permission.USE_SIP",VIBRATE:"android.permission.VIBRATE",WAKE_LOCK:"android.permission.WAKE_LOCK",WRITE_APN_SETTINGS:"android.permission.WRITE_APN_SETTINGS",WRITE_CALENDAR:"android.permission.WRITE_CALENDAR",WRITE_CALL_LOG:"android.permission.WRITE_CALL_LOG",WRITE_CONTACTS:"android.permission.WRITE_CONTACTS",WRITE_EXTERNAL_STORAGE:"android.permission.WRITE_EXTERNAL_STORAGE",WRITE_GSERVICES:"android.permission.WRITE_GSERVICES",WRITE_HISTORY_BOOKMARKS:"com.android.browser.permission.WRITE_HISTORY_BOOKMARKS",WRITE_PROFILE:"android.permission.WRITE_PROFILE",WRITE_SECURE_SETTINGS:"android.permission.WRITE_SECURE_SETTINGS",WRITE_SETTINGS:"android.permission.WRITE_SETTINGS",WRITE_SMS:"android.permission.WRITE_SMS",WRITE_SOCIAL_STREAM:"android.permission.WRITE_SOCIAL_STREAM",WRITE_SYNC_SETTINGS:"android.permission.WRITE_SYNC_SETTINGS",WRITE_USER_DICTIONARY:"android.permission.WRITE_USER_DICTIONARY",WRITE_VOICEMAIL:"com.android.voicemail.permission.WRITE_VOICEMAIL"},t}return Object(s.__extends)(t,e),t.prototype.checkPermission=function(e){return Object(a.cordova)(this,"checkPermission",{},arguments)},t.prototype.requestPermission=function(e){return Object(a.cordova)(this,"requestPermission",{},arguments)},t.prototype.requestPermissions=function(e){return Object(a.cordova)(this,"requestPermissions",{},arguments)},t.prototype.hasPermission=function(e){return Object(a.cordova)(this,"hasPermission",{},arguments)},t.pluginName="AndroidPermissions",t.plugin="cordova-plugin-android-permissions",t.pluginRef="cordova.plugins.permissions",t.repo="https://github.com/NeoLSN/cordova-plugin-android-permissions",t.platforms=["Android"],t}(a.IonicNativePlugin);class h{constructor(e,t,n,r){this.platform=e,this.splashScreen=t,this.statusBar=n,this.androidPermissions=r,this.initializeApp()}initializeApp(){this.platform.ready().then(()=>{this.statusBar.styleDefault(),this.splashScreen.hide(),this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(e=>console.log("Has permission?",e.hasPermission),e=>this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA))})}}var d=n("pMnS"),f=n("oBZk"),p=n("TMng"),m=r["\u0275crt"]({encapsulation:0,styles:[[".close-fake[_ngcontent-%COMP%]{--background:transparent;margin-top:40px}.close-fake[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem}ion-content[_ngcontent-%COMP%]{--background:rgba(44, 39, 45, 0.84)}ion-slides[_ngcontent-%COMP%]{height:80%}"]],data:{}});function g(e){return r["\u0275vid"](0,[r["\u0275qud"](671088640,1,{slider:0}),(e()(),r["\u0275eld"](1,0,null,null,25,"ion-content",[["fullscreen",""]],null,null,null,f.U,f.l)),r["\u0275did"](2,49152,null,0,o.u,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{fullscreen:[0,"fullscreen"]},null),(e()(),r["\u0275eld"](3,0,null,0,17,"ion-item",[["class","close-fake"],["lines","none"],["text-center",""]],null,null,null,f.bb,f.s)),r["\u0275did"](4,49152,null,0,o.H,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{lines:[0,"lines"]},null),r["\u0275did"](5,16384,null,0,o.e,[r.ElementRef],null,null),(e()(),r["\u0275eld"](6,0,null,0,4,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close()&&r),r}),f.L,f.c)),r["\u0275did"](7,49152,null,0,o.k,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{color:[0,"color"],fill:[1,"fill"]},null),(e()(),r["\u0275eld"](8,0,null,0,1,"ion-icon",[["name","close"],["slot","start"]],null,null,null,f.Y,f.p)),r["\u0275did"](9,49152,null,0,o.C,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{name:[0,"name"]},null),(e()(),r["\u0275ted"](-1,0,[" Back "])),(e()(),r["\u0275eld"](11,0,null,0,4,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.zoom(!0)&&r),r}),f.L,f.c)),r["\u0275did"](12,49152,null,0,o.k,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{color:[0,"color"],fill:[1,"fill"]},null),(e()(),r["\u0275eld"](13,0,null,0,1,"ion-icon",[["name","add"],["slot","start"]],null,null,null,f.Y,f.p)),r["\u0275did"](14,49152,null,0,o.C,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{name:[0,"name"]},null),(e()(),r["\u0275ted"](-1,0,[" in "])),(e()(),r["\u0275eld"](16,0,null,0,4,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.zoom(!1)&&r),r}),f.L,f.c)),r["\u0275did"](17,49152,null,0,o.k,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{color:[0,"color"],fill:[1,"fill"]},null),(e()(),r["\u0275eld"](18,0,null,0,1,"ion-icon",[["name","remove"],["slot","start"]],null,null,null,f.Y,f.p)),r["\u0275did"](19,49152,null,0,o.C,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{name:[0,"name"]},null),(e()(),r["\u0275ted"](-1,0,[" out "])),(e()(),r["\u0275eld"](21,0,[[1,0]],0,5,"ion-slides",[],null,null,null,f.lb,f.C)),r["\u0275did"](22,49152,[["slider",4]],0,o.rb,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],{options:[0,"options"]},null),(e()(),r["\u0275eld"](23,0,null,0,3,"ion-slide",[],null,null,null,f.kb,f.B)),r["\u0275did"](24,49152,null,0,o.qb,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],null,null),(e()(),r["\u0275eld"](25,0,null,0,1,"div",[["class","swiper-zoom-container"]],null,null,null,null,null)),(e()(),r["\u0275eld"](26,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],(function(e,t){var n=t.component;e(t,2,0,""),e(t,4,0,"none"),e(t,7,0,"light","clear"),e(t,9,0,"close"),e(t,12,0,"light","clear"),e(t,14,0,"add"),e(t,17,0,"light","clear"),e(t,19,0,"remove"),e(t,22,0,n.sliderOpts)}),(function(e,t){e(t,26,0,r["\u0275inlineInterpolate"](1,"",t.component.img,""))}))}function y(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-image-modal",[],null,null,null,g,m)),r["\u0275did"](1,114688,null,0,p.a,[o.Hb],null,null)],(function(e,t){e(t,1,0)}),null)}var v=r["\u0275ccf"]("app-image-modal",p.a,y,{img:"img"},{},[]),b=n("iInd"),w=n("SVse"),E=r["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,3,"ion-app",[],null,null,null,f.J,f.a)),r["\u0275did"](1,49152,null,0,o.f,[r.ChangeDetectorRef,r.ElementRef,r.NgZone],null,null),(e()(),r["\u0275eld"](2,16777216,null,0,1,"ion-router-outlet",[],null,null,null,null,null)),r["\u0275did"](3,212992,null,0,o.ib,[b.b,r.ViewContainerRef,r.ComponentFactoryResolver,[8,null],[8,null],o.d,o.Ib,w.Location,r.ElementRef,b.m,r.NgZone,b.a,[3,o.ib]],null,null)],(function(e,t){e(t,3,0)}),null)}function C(e){return r["\u0275vid"](0,[(e()(),r["\u0275eld"](0,0,null,null,1,"app-root",[],null,null,null,_,E)),r["\u0275did"](1,49152,null,0,h,[o.Kb,u,c,l],null,null)],null,null)}var S=r["\u0275ccf"]("app-root",h,C,{},{},[]),I=n("yA/v"),A=n("irV9"),T=n("wj3C"),D=n.n(T);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var s=n.setTimeout;r.prototype.c=function(e){s(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t((function(e,t){i=e,o=t}));return this.Ja(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),s=r.next();!s.done;s=r.next())o(s.value).Ja(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ja(i(s.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},s=this||self;function a(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}var c=/^[\w+\/_-]+[=]{0,2}$/,l=null;function h(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function f(e){return null===e}function p(e){return"array"==d(e)}function m(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:E).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var S=Date.now||function(){return+new Date};function I(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function A(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function T(e){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function N(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");T.call(this,n+e[r])}function O(e,t){throw new N("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function k(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function x(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function R(){this.b=this.a=null}I(T,Error),T.prototype.name="CustomError",I(N,T),N.prototype.name="AssertionError",k.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var P=new k((function(){return new L}),(function(e){e.reset()}));function M(){var e=$e,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function L(){this.next=this.b=this.a=null}function F(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}R.prototype.add=function(e,t){var n=P.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=a(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},U=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=j(e,t)}function q(e,t){var n;return(n=0<=(t=j(e,t)))&&Array.prototype.splice.call(e,t,1),n}function H(e,t){!function(e,t){for(var n=a(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function z(e){return Array.prototype.concat.apply([],arguments)}function G(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function Q(e){for(var t in e)return!1;return!0}function K(e){var t,n={};for(t in e)n[t]=e[t];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Z(e,t){this.a=e===te&&t||"",this.b=ee}function J(e){return e instanceof Z&&e.constructor===Z&&e.b===ee?e.a:(O("expected object of type Const, got '"+e+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var ee={},te={},ne=new Z(te,"");function re(){this.a="",this.b=ue}function ie(e){return e instanceof re&&e.constructor===re&&e.b===ue?e.a:(O("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function oe(e,t){var n=J(e);if(!ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ce(e=n.replace(se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof Z?J(e):encodeURIComponent(String(e))})))}re.prototype.qa=!0,re.prototype.pa=function(){return this.a.toString()},re.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,ue={};function ce(e){var t=new re;return t.a=e,t}var le=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},he=/&/g,de=/</g,fe=/>/g,pe=/"/g,me=/'/g,ge=/\x00/g,ye=/[\x00&<>"']/;function ve(e,t){return-1!=e.indexOf(t)}function be(e,t){return e<t?-1:e>t?1:0}function we(){this.a="",this.b=Ie}function Ee(e){return e instanceof we&&e.constructor===we&&e.b===Ie?e.a:(O("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}we.prototype.qa=!0,we.prototype.pa=function(){return this.a.toString()},we.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _e=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ce(e){return e instanceof we?e:(e="object"==typeof e&&e.qa?e.pa():String(e),_e.test(e)||(e="about:invalid#zClosurez"),Ae(e))}var Se,Ie={};function Ae(e){var t=new we;return t.a=e,t}Ae("about:blank");e:{var Te=s.navigator;if(Te){var De=Te.userAgent;if(De){Se=De;break e}}Se=""}function Ne(e){return ve(Se,e)}function Oe(){this.a="",this.b=xe}function ke(e){return e instanceof Oe&&e.constructor===Oe&&e.b===xe?e.a:(O("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}Oe.prototype.qa=!0,Oe.prototype.pa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Re(e){var t=new Oe;return t.a=e,t}Re("<!DOCTYPE html>");var Pe,Me,Le=Re("");function Fe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function je(e){return ye.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(he,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(de,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(fe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(pe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(me,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ge,"&#0;"))),e}function Be(e){s.setTimeout((function(){throw e}),0)}function Ve(e,t){Me||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);Me=function(){e.then(qe)}}else Me=function(){var e=qe;!g(s.setImmediate)||s.Window&&s.Window.prototype&&!Ne("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Pe||(Pe=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ne("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ce(J(ne));F(e,"HTMLIFrameElement"),e.src=ie(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(ke(Le)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=_((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!Ne("Trident")&&!Ne("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){s.setTimeout(e,0)}}()),Pe(e)):s.setImmediate(e)}}(),Ue||(Me(),Ue=!0),$e.add(e,t)}Re("<br>");var Ue=!1,$e=new R;function qe(){for(var e;e=M();){try{e.a.call(e.b)}catch(t){Be(t)}x(P,e)}Ue=!1}function He(e,t){if(this.a=ze,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){rt(n,Ge,e)}),(function(e){if(!(e instanceof lt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}rt(n,We,e)}))}catch(r){rt(this,We,r)}}var ze=0,Ge=2,We=3;function Qe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ke=new k((function(){return new Qe}),(function(e){e.reset()}));function Ye(e,t,n){var r=Ke.get();return r.g=e,r.b=t,r.f=n,r}function Xe(e){if(e instanceof He)return e;var t=new He(h);return rt(t,Ge,e),t}function Ze(e){return new He((function(t,n){n(e)}))}function Je(e,t,n){it(e,t,n,null)||Ve(C(t,e))}function et(e){return new He((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Je(e[o],C(i,o,!0),C(i,o,!1));else t(r)}))}function tt(e,t){e.b||e.a!=Ge&&e.a!=We||ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function nt(e,t,n,r){var i=Ye(null,null,null);return i.a=new He((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(s){o(s)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof lt?o(t):e(i)}catch(s){o(s)}}:o})),i.a.c=e,tt(e,i),i.a}function rt(e,t,n){e.a==ze&&(e===n&&(t=We,n=new TypeError("Promise cannot resolve to itself")),e.a=1,it(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,ot(e),t!=We||n instanceof lt||function(e,t){e.g=!0,Ve((function(){e.g&&ct.call(null,t)}))}(e,n)))}function it(e,t,n,r){if(e instanceof He)return tt(e,Ye(t||h,n||null,r)),!0;if(A(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,(function(e){s||(s=!0,n.call(i,e))}),o)}catch(a){o(a)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ot(e){e.h||(e.h=!0,Ve(e.Zb,e))}function st(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function at(e,t,n,r){if(n==We&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ut(t,n,r);else try{t.c?t.g.call(t.f):ut(t,n,r)}catch(i){ct.call(null,i)}x(Ke,t)}function ut(e,t,n){t==Ge?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}He.prototype.then=function(e,t,n){return nt(this,g(e)?e:null,g(t)?t:null,n)},He.prototype.$goog_Thenable=!0,(e=He.prototype).ka=function(e,t){return(e=Ye(e,e,t)).c=!0,tt(this,e),this},e.s=function(e,t){return nt(this,null,e,t)},e.cancel=function(e){this.a==ze&&Ve((function(){!function e(t,n){if(t.a==ze)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==t&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==ze&&1==i?e(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):st(r),at(r,o,We,n)))}t.c=null}else rt(t,We,n)}(this,new lt(e))}),this)},e.Oc=function(e){this.a=ze,rt(this,Ge,e)},e.Pc=function(e){this.a=ze,rt(this,We,e)},e.Zb=function(){for(var e;e=st(this);)at(this,e,this.a,this.i);this.h=!1};var ct=Be;function lt(e){T.call(this,e)}function ht(){0!=dt&&(ft[this[v]||(this[v]=++b)]=this),this.ta=this.ta,this.la=this.la}I(lt,T),lt.prototype.name="cancel";var dt=0,ft={};function pt(e){if(!e.ta&&(e.ta=!0,e.xa(),0!=dt)){var t=e[v]||(e[v]=++b);if(0!=dt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ft[t]}}function mt(e){return mt[" "](e),e}ht.prototype.ta=!1,ht.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},mt[" "]=h;var gt,yt,vt=Ne("Opera"),bt=Ne("Trident")||Ne("MSIE"),wt=Ne("Edge"),Et=wt||bt,_t=Ne("Gecko")&&!(ve(Se.toLowerCase(),"webkit")&&!Ne("Edge"))&&!(Ne("Trident")||Ne("MSIE"))&&!Ne("Edge"),Ct=ve(Se.toLowerCase(),"webkit")&&!Ne("Edge");function St(){var e=s.document;return e?e.documentMode:void 0}e:{var It="",At=(yt=Se,_t?/rv:([^\);]+)(\)|;)/.exec(yt):wt?/Edge\/([\d\.]+)/.exec(yt):bt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(yt):Ct?/WebKit\/(\S+)/.exec(yt):vt?/(?:Version)[ \/]?(\S+)/.exec(yt):void 0);if(At&&(It=At?At[1]:""),bt){var Tt=St();if(null!=Tt&&Tt>parseFloat(It)){gt=String(Tt);break e}}gt=It}var Dt,Nt={};function Ot(e){return function(e,t){var n=Nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=le(String(gt)).split("."),r=le(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=be(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||be(0==s[2].length,0==a[2].length)||be(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}Dt=s.document&&bt?St():void 0;var kt=Object.freeze||function(e){return e},xt=!bt||9<=Number(Dt),Rt=bt&&!Ot("9"),Pt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Mt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Lt(e,t){if(Mt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(_t){e:{try{mt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:Ft[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Mt.prototype.preventDefault=function(){this.Mb=!1},I(Lt,Mt);var Ft=kt({2:"touch",3:"pen",4:"mouse"});Lt.prototype.preventDefault=function(){Lt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Rt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Lt.prototype.f=function(){return this.a};var jt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Vt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++Bt,this.ra=this.Ia=!1}function Ut(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function $t(e){this.src=e,this.a={},this.b=0}function qt(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(Ut(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Ht(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}$t.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=Ht(e,t,r,i);return-1<s?(t=e[s],n||(t.Ia=!1)):((t=new Vt(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var zt="closure_lm_"+(1e6*Math.random()|0),Gt={};function Wt(e,t,n,r,i){if(r&&r.once)Kt(e,t,n,r,i);else if(p(t))for(var o=0;o<t.length;o++)Wt(e,t[o],n,r,i);else n=on(n),e&&e[jt]?an(e,t,n,y(r)?!!r.capture:!!r,i):Qt(e,t,n,!1,r,i)}function Qt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=nn(e);if(a||(e[zt]=a=new $t(e)),!(n=a.add(t,n,r,s,o)).proxy)if(r=function(){var e=tn,t=xt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function Kt(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)Kt(e,t[o],n,r,i);else n=on(n),e&&e[jt]?un(e,t,n,y(r)?!!r.capture:!!r,i):Qt(e,t,n,!0,r,i)}function Yt(e,t,n,r,i){if(p(t))for(var o=0;o<t.length;o++)Yt(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=on(n),e&&e[jt]?(e=e.u,(t=String(t).toString())in e.a&&-1<(n=Ht(o=e.a[t],n,r,i))&&(Ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=nn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ht(t,n,r,i)),(n=-1<e?t[e]:null)&&Xt(n))}function Xt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[jt])qt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nn(t))?(qt(n,e),0==n.b&&(n.src=null,t[zt]=null)):Ut(e)}}}function Zt(e){return e in Gt?Gt[e]:Gt[e]="on"+e}function Jt(e,t,n,r){var i=!0;if((e=nn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=en(o,r),i=i&&!1!==o)}return i}function en(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Xt(e),n.call(r,t)}function tn(e,t){if(e.ra)return!0;if(!xt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Lt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Jt(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Jt(r[i],e,!1,t),n=n&&o}return n}return en(e,new Lt(t,this))}function nn(e){return(e=e[zt])instanceof $t?e:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(e){return g(e)?e:(e[rn]||(e[rn]=function(t){return e.handleEvent(t)}),e[rn])}function sn(){ht.call(this),this.u=new $t(this),this.Sb=this,this.Wa=null}function an(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function un(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function cn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ra&&s.capture==n){var a=s.listener,u=s.Na||s.src;s.Ia&&qt(e.u,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Mb}function ln(e,t,n){if(g(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function hn(e){var t=null;return new He((function(n,r){-1==(t=ln((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw s.clearTimeout(t),e}))}function dn(e){if(e.U&&"function"==typeof e.U)return e.U();if(a(e))return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function fn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(m(e)||a(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof pn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(sn,ht),sn.prototype[jt]=!0,sn.prototype.addEventListener=function(e,t,n,r){Wt(this,e,t,n,r)},sn.prototype.removeEventListener=function(e,t,n,r){Yt(this,e,t,n,r)},sn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(a(e))e=new Mt(e,n);else if(e instanceof Mt)e.target=e.target||n;else{var i=e;X(e=new Mt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=cn(s,r,!0,e)&&i}if(i=cn(s=e.b=n,r,!0,e)&&i,i=cn(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=cn(s=e.b=t[o],r,!1,e)&&i;return i},sn.prototype.xa=function(){if(sn.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Ut(n[r]);delete t.a[e],t.b--}}this.Wa=null},(e=pn.prototype).U=function(){mn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return mn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return gn(this.b,e)?this.b[e]:t},e.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var yn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof vn?(this.h=void 0!==t?t:e.h,bn(this,e.f),this.i=e.i,this.b=e.b,wn(this,e.l),this.c=e.c,En(this,Vn(e.a)),this.g=e.g):e&&(n=String(e).match(yn))?(this.h=!!t,bn(this,n[1]||"",!0),this.i=An(n[2]||""),this.b=An(n[3]||"",!0),wn(this,n[4]),this.c=An(n[5]||"",!0),En(this,n[6]||"",!0),this.g=An(n[7]||"")):(this.h=!!t,this.a=new Pn(null,this.h))}function bn(e,t,n){e.f=n?An(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function wn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function En(e,t,n){t instanceof Pn?(e.a=t,function(e,t){t&&!e.f&&(Mn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fn(this,t),Bn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=Tn(t,xn)),e.a=new Pn(t,e.h))}function _n(e,t,n){e.a.set(t,n)}function Cn(e,t){return e.a.get(t)}function Sn(e){return e instanceof vn?new vn(e):new vn(e,void 0)}function In(e,t){var n=new vn(null,void 0);return bn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function An(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tn(e,t,n){return a(e)?(e=encodeURI(e).replace(t,Dn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Dn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Tn(t,Nn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(Tn(t,Nn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tn(n,"/"==n.charAt(0)?kn:On,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Tn(n,Rn)),e.join("")},vn.prototype.resolve=function(e){var t=new vn(this),n=!!e.f;n?bn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)wn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ve(i,"./")||ve(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?En(t,Vn(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Nn=/[#\/\?@]/g,On=/[#\?:]/g,kn=/[#\?]/g,xn=/[#\?@]/g,Rn=/#/g;function Pn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Mn(e){e.a||(e.a=new pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ln(e){var t=fn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Pn(null,void 0);e=dn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];p(o)?Bn(n,i,o):n.add(i,o)}return n}function Fn(e,t){Mn(e),t=Un(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&mn(e)))}function jn(e,t){return Mn(e),t=Un(e,t),gn(e.a.b,t)}function Bn(e,t,n){Fn(e,t),0<n.length&&(e.c=null,e.a.set(Un(e,t),G(n)),e.b+=n.length)}function Vn(e){var t=new Pn;return t.c=e.c,e.a&&(t.a=new pn(e.a),t.b=e.b),t}function Un(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=Pn.prototype).add=function(e,t){Mn(this),this.c=null,e=Un(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Mn(this),this.a.forEach((function(n,r){B(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.X=function(){Mn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.U=function(e){Mn(this);var t=[];if(a(e))jn(this,e)&&(t=z(t,this.a.get(Un(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},e.set=function(e,t){return Mn(this),this.c=null,jn(this,e=Un(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var $n=!bt||9<=Number(Dt);function qn(e){var t=document;return a(e)?t.getElementById(e):e}function Hn(e,t){W(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:zn.hasOwnProperty(n)?e.setAttribute(zn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Gn(e){if(e&&"number"==typeof e.length){if(y(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Wn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(p(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),e(t,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Xn(i,r),r.push(":"),e(t,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}var Kn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(e,t){t.push('"',e.replace(Yn,(function(e){var t=Kn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Kn[e]=t),t})),'"')}function Zn(){var e=yr();return bt&&!!Dt&&11==Dt||/Edge\/\d+/.test(e)}function Jn(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function er(e,t){t=t||s.window;var n="about:blank";e&&(n=Ee(Ce(e)).toString()),t.location.href=n}function tr(e){return!!((e=(e||yr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function nr(e){e=e||s.window;try{e.close()}catch(t){}}function rr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(t.target=r,ve(n,"crios/")&&(t.target="_blank")),pr(yr())==dr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof we?n:Ce(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((Ne("iPhone")&&!Ne("iPod")&&!Ne("iPad")||Ne("iPad")||Ne("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(F(s=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof we||t instanceof we||(t="object"==typeof t&&t.qa?t.pa():String(t),_e.test(t)||(t="about:invalid#zClosurez"),t=Ae(t)),s.href=Ee(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=r.open("",n,s),e=Ee(t).toString(),s&&(Et&&ve(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e=Re('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+je(e)+'">'),s.document.write(ke(e)),s.document.close())):(s=r.open(Ee(t).toString(),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function sr(){var e=null;return new He((function(t){"complete"==s.document.readyState?t():(e=function(){t()},Kt(window,"load",e))})).s((function(t){throw Yt(window,"load",e),t}))}function ar(e){return e=e||yr(),!("file:"!==_r()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ur(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function cr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function lr(){return D.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":D.a.INTERNAL.hasOwnProperty("node")?"Node":cr()?"Worker":"Browser"}function hr(){var e=lr();return"ReactNative"===e||"Node"===e}var dr="Firefox",fr="Chrome";function pr(e){var t=e.toLowerCase();return ve(t,"opera/")||ve(t,"opr/")||ve(t,"opios/")?"Opera":ve(t,"iemobile")?"IEMobile":ve(t,"msie")||ve(t,"trident/")?"IE":ve(t,"edge/")?"Edge":ve(t,"firefox/")?dr:ve(t,"silk/")?"Silk":ve(t,"blackberry")?"Blackberry":ve(t,"webos")?"Webos":!ve(t,"safari/")||ve(t,"chrome/")||ve(t,"crios/")||ve(t,"android")?!ve(t,"chrome/")&&!ve(t,"crios/")||ve(t,"edge/")?ve(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":fr:"Safari"}var mr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function gr(e,t){t=t||[];var n,r=[],i={};for(n in mr)i[mr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=lr())?r=pr(i=yr()):"Worker"===r&&(r=pr(i=yr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function yr(){return s.navigator&&s.navigator.userAgent||""}function vr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function br(){try{var e=s.localStorage,t=Tr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zn()||!!s.indexedDB}catch(n){return cr()&&!!s.indexedDB}return!1}function wr(){return(Er()||"chrome-extension:"===_r()||ar())&&!hr()&&br()&&!cr()}function Er(){return"http:"===_r()||"https:"===_r()}function _r(){return s.location&&s.location.protocol||null}function Cr(e){return!tr(e=e||yr())&&pr(e)!=dr}function Sr(e){return void 0===e?null:Wn(e)}function Ir(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Ar(e){if(null!==e)return JSON.parse(e)}function Tr(e){return e||Math.floor(1e9*Math.random()).toString()}function Dr(e){return"Safari"!=pr(e=e||yr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Or(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=yr(),t=lr(),this.b=tr(e)||"ReactNative"===t}function kr(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function xr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Rr(){return!(!vr("fireauth.oauthhelper",s)&&!vr("fireauth.iframe",s))}Or.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Er()&&"chrome-extension:"!==_r()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pr,Mr={};function Lr(e){Mr[e]||(Mr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Pr=2==Fr.abcd}catch(yt){Pr=!1}function jr(e,t,n){Pr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Br(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&jr(e,n,t[n])}function Vr(e){var t={};return Br(t,e),t}function Ur(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)jr(t,n,Ur(e[n]));return t}function $r(e){var t={},n=e[Hr],r=e[zr];if(!(e=e[Gr])||e!=qr&&!n)throw Error("Invalid provider user info!");t[Qr]=r||null,t[Wr]=n||null,jr(this,Yr,e),jr(this,Kr,Ur(t))}var qr="EMAIL_SIGNIN",Hr="email",zr="newEmail",Gr="requestType",Wr="email",Qr="fromEmail",Kr="data",Yr="operation";function Xr(e,t){this.code=Jr+e,this.message=t||ei[e]||""}function Zr(e){var t=e&&e.code;return t?new Xr(t.substring(Jr.length),e.message):null}I(Xr,Error),Xr.prototype.A=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.A()};var Jr="auth/",ei={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(e){var t=Cn(e=Sn(e),ni)||null,n=Cn(e,ri)||null,r=Cn(e,si)||null;if(r=r&&ui[r]||null,!t||!n||!r)throw new Xr("argument-error",ni+", "+ri+"and "+si+" are required in a valid action code URL.");Br(this,{apiKey:t,operation:r,code:n,continueUrl:Cn(e,ii)||null,languageCode:Cn(e,oi)||null,tenantId:Cn(e,ai)||null})}var ni="apiKey",ri="oobCode",ii="continueUrl",oi="languageCode",si="mode",ai="tenantId",ui={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:qr,verifyEmail:"VERIFY_EMAIL"};function ci(e){try{return new ti(e)}catch(t){return null}}function li(e){var t=e[mi];if(void 0===t)throw new Xr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Xr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[hi];if(n&&"object"==typeof n){t=n[vi];var r=n[gi];if(n=n[yi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",yi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Xr("argument-error",vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",hi+" property must be a non null object when specified.");if(this.f=null,(t=e[pi])&&"object"==typeof t){if("string"==typeof(t=t[bi])&&t.length)this.f=t;else if(void 0!==t)throw new Xr("argument-error",bi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Xr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(t=e[fi])&&"boolean"!=typeof t)throw new Xr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[di])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Xr("argument-error",di+" property must be a non empty string when specified.");this.i=e||null}var hi="android",di="dynamicLinkDomain",fi="handleCodeInApp",pi="iOS",mi="url",gi="installApp",yi="minimumVersion",vi="packageName",bi="bundleId";function wi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ei=null,_i=null;function Ci(e){this.f=e.sub,S(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Si(e){return(e=Ii(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ci(e):null}function Ii(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=_i[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ei){Ei={},_i={};for(var e=0;65>e;e++)Ei[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),_i[Ei[e]]=e,62<=e&&(_i["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ai,Ti={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Di(e){for(var t in Ti)if(Ti[t].id===e)return{firebaseEndpoint:(e=Ti[t]).bb,secureTokenEndpoint:e.ib};return null}Ai=Di("__EID__")?"__EID__":void 0;var Ni="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oi=["client_id","response_type","scope","redirect_uri","state"],ki={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Oi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Oi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Oi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Ni}};function xi(e){for(var t in ki)if(ki[t].Pa==e)return ki[t];return null}function Ri(e){var t={};t["facebook.com"]=ji,t["google.com"]=Vi,t["github.com"]=Bi,t["twitter.com"]=Ui;var n=e&&e[Mi];try{if(n)return t[n]?new t[n](e):new Fi(e);if(void 0!==e[Pi])return new Li(e)}catch(r){}return null}var Pi="idToken",Mi="providerId";function Li(e){var t=e[Mi];if(!t&&e[Pi]){var n=Si(e[Pi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),jr(this,"providerId",t),jr(this,"isNewUser",n)}function Fi(e){Li.call(this,e),jr(this,"profile",Ur((e=Ar(e.rawUserInfo||"{}"))||{}))}function ji(e){if(Fi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bi(e){if(Fi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",this.profile&&this.profile.login||null)}function Vi(e){if(Fi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ui(e){if(Fi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",e.screenName||null)}function $i(e){var t=Sn(e),n=Cn(t,"link"),r=Cn(Sn(n),"link");return t=Cn(t,"deep_link_id"),Cn(Sn(t),"link")||t||r||n||e}function qi(){}function Hi(e,t){return e.then((function(e){if(e[Os]){var n=Si(e[Os]);if(!n||t!=n.f)throw new Xr("user-mismatch");return e}throw new Xr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==Jr+"user-not-found"?new Xr("user-mismatch"):e}))}function zi(e,t){if(!t)throw new Xr("internal-error","failed to construct a credential");this.a=t,jr(this,"providerId",e),jr(this,"signInMethod",e)}function Gi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Wi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new zi(e.providerId,e.pendingToken)}catch(t){}return null}function Qi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&jr(this,"idToken",t.idToken),t.accessToken&&jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");jr(this,"accessToken",t.oauthToken),jr(this,"secret",t.oauthTokenSecret)}jr(this,"providerId",e),jr(this,"signInMethod",n)}function Ki(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Ln(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Yi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Qi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Xi(e,t){this.Fc=t||[],Br(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(xi(e)||{}).Oa||null,this.ab=null}function Zi(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,e,[])}function Ji(e){Xi.call(this,e,Oi),this.a=[]}function eo(){Ji.call(this,"facebook.com")}function to(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new eo).credential({accessToken:t})}function no(){Ji.call(this,"github.com")}function ro(e){if(!e)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new no).credential({accessToken:t})}function io(){Ji.call(this,"google.com"),this.wa("profile")}function oo(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new io).credential({idToken:n,accessToken:t})}function so(){Xi.call(this,"twitter.com",Ni)}function ao(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function uo(e,t,n){this.a=e,this.c=t,jr(this,"providerId","password"),jr(this,"signInMethod",n===lo.EMAIL_LINK_SIGN_IN_METHOD?lo.EMAIL_LINK_SIGN_IN_METHOD:lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function co(e){return e&&e.email&&e.password?new uo(e.email,e.password,e.signInMethod):null}function lo(){Br(this,{providerId:"password",isOAuthProvider:!1})}function ho(e,t){if(!(t=fo(t)))throw new Xr("argument-error","Invalid email link!");return new uo(e,t.code,lo.EMAIL_LINK_SIGN_IN_METHOD)}function fo(e){return(e=ci(e=$i(e)))&&e.operation===qr?e:null}function po(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Xr("internal-error");this.a=e,jr(this,"providerId","phone"),jr(this,"signInMethod","phone")}function mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new po(t)}return null}function go(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function yo(e){try{this.a=e||D.a.auth()}catch(t){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function vo(e,t){if(!e)throw new Xr("missing-verification-id");if(!t)throw new Xr("missing-verification-code");return new po({Ua:e,Ta:t})}function bo(e){if(e.temporaryProof&&e.phoneNumber)return new po({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return oo(o,n);case"facebook.com":return to(n);case"github.com":return ro(n);case"twitter.com":return ao(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new zi(t,s):new Qi(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Ji(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function wo(e){if(!e.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function Eo(e,t,n,r,i,o,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function _o(e){return(e=e||{}).type?new Eo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Zr(e.error),e.postBody,e.tenantId):null}function Co(){this.b=null,this.a=[]}I(Fi,Li),I(ji,Fi),I(Bi,Fi),I(Vi,Fi),I(Ui,Fi),zi.prototype.na=function(e){return Qs(e,Gi(this))},zi.prototype.b=function(e,t){var n=Gi(this);return n.idToken=t,Ks(e,n)},zi.prototype.f=function(e,t){return Hi(Ys(e,Gi(this)),t)},zi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(e){return Qs(e,Ki(this))},Qi.prototype.b=function(e,t){var n=Ki(this);return n.idToken=t,Ks(e,n)},Qi.prototype.f=function(e,t){return Hi(Ys(e,Ki(this)),t)},Qi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Xi.prototype.Ea=function(e){return this.zb=K(e),this},I(Zi,Xi),I(Ji,Xi),Ji.prototype.wa=function(e){return $(this.a,e)||this.a.push(e),this},Ji.prototype.Hb=function(){return G(this.a)},Ji.prototype.credential=function(e,t){var n;if(!(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},I(eo,Ji),jr(eo,"PROVIDER_ID","facebook.com"),jr(eo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(no,Ji),jr(no,"PROVIDER_ID","github.com"),jr(no,"GITHUB_SIGN_IN_METHOD","github.com"),I(io,Ji),jr(io,"PROVIDER_ID","google.com"),jr(io,"GOOGLE_SIGN_IN_METHOD","google.com"),I(so,Xi),jr(so,"PROVIDER_ID","twitter.com"),jr(so,"TWITTER_SIGN_IN_METHOD","twitter.com"),uo.prototype.na=function(e){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ia(e,ia,{email:this.a,oobCode:this.c}):Ia(e,Ea,{email:this.a,password:this.c})},uo.prototype.b=function(e,t){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ia(e,oa,{idToken:t,email:this.a,oobCode:this.c}):Ia(e,ma,{idToken:t,email:this.a,password:this.c})},uo.prototype.f=function(e,t){return Hi(this.na(e),t)},uo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Br(lo,{PROVIDER_ID:"password"}),Br(lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(e){return e.Va(go(this))},po.prototype.b=function(e,t){var n=go(this);return n.idToken=t,Ia(e,Ca,n)},po.prototype.f=function(e,t){var n=go(this);return n.operation="REAUTH",Hi(e=Ia(e,Sa,n),t)},po.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},yo.prototype.Va=function(e,t){var n=this.a.b;return Xe(t.verify()).then((function(r){if(!a(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Ia(e,fa,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Br(yo,{PROVIDER_ID:"phone"}),Br(yo,{PHONE_SIGN_IN_METHOD:"phone"}),Eo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Eo.prototype.R=function(){return this.h},Eo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var So,Io=null;function Ao(e){var t="unauthorized-domain",n=void 0,r=Sn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Xr.call(this,t,n)}function To(e,t,n){Xr.call(this,e,n),(e=t||{}).Ab&&jr(this,"email",e.Ab),e.ba&&jr(this,"phoneNumber",e.ba),e.credential&&jr(this,"credential",e.credential),e.Qb&&jr(this,"tenantId",e.Qb)}function Do(e){if(e.code){var t=e.code||"";0==t.indexOf(Jr)&&(t=t.substring(Jr.length));var n={credential:bo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Xr(t,e.message||void 0);return new To(t,n,e.message)}return null}function No(){}function Oo(){}function ko(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function xo(){}function Ro(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.fc,this),this.a.onerror=_(this.Ib,this),this.a.onprogress=_(this.gc,this),this.a.ontimeout=_(this.kc,this)}function Po(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Mo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Lo(e){this.f=e,this.b=this.c=this.a=null}function Fo(e,t){this.name=e,this.value=t}I(Ao,Xr),I(To,Xr),To.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&X(e,t),e},To.prototype.toJSON=function(){return this.A()},No.prototype.c=null,I(Oo,No),Oo.prototype.a=function(){var e=ko(this);return e?new ActiveXObject(e):new XMLHttpRequest},Oo.prototype.b=function(){var e={};return ko(this)&&(e[0]=!0,e[1]=!0),e},So=new Oo,I(xo,No),xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Ro;throw Error("Unsupported browser")},xo.prototype.b=function(){return{}},(e=Ro.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Po(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Mo.prototype.a=null,Mo.prototype.reset=function(e,t,n,r,i){r||S(),delete this.a},Fo.prototype.toString=function(){return this.name};var jo=new Fo("SEVERE",1e3),Bo=new Fo("WARNING",900),Vo=new Fo("CONFIG",700),Uo=new Fo("FINE",500);Lo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(O("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new Mo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var $o={},qo=null;function Ho(e){var t;if(qo||(qo=new Lo(""),$o[""]=qo,qo.c=Vo),!(t=$o[e])){t=new Lo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ho(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,$o[e]=t}return t}function zo(e,t){e&&e.log(Uo,t,void 0)}function Go(e){this.f=e}function Wo(e){sn.call(this),this.o=e,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ho("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}I(Go,No),Go.prototype.a=function(){return new Wo(this.f)},Go.prototype.b=function(e){return function(){return e}}({}),I(Wo,sn);var Qo=0;function Ko(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function Yo(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Xo(e)}function Xo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Zo(e){sn.call(this),this.headers=new pn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Jo,this.v=this.P=!1}(e=Wo.prototype).open=function(e,t){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Xo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Qo},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Ko(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Yo(this,!0):Xo(this),3==this.readyState&&Ko(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Yo(this,!0))},e.hc=function(e){this.a&&(this.response=e,Yo(this,!0))},e.Ma=function(e){var t=this.h;t&&t.log(Bo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Yo(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Bo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Bo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},I(Zo,sn);var Jo="";Zo.prototype.b=Ho("goog.net.XhrIo");var es=/^https?$/i,ts=["POST","PUT"];function ns(e){return"content-type"==e.toLowerCase()}function rs(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,is(e),ss(e)}function is(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function os(e){if(e.c&&void 0!==o)if(e.w[1]&&4==us(e)&&2==cs(e))zo(e.b,ls(e,"Local request error detected and ignored"));else if(e.i&&4==us(e))ln(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==us(e)){zo(e.b,ls(e,"Request complete")),e.c=!1;try{var t,n=cs(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.l).match(yn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!es.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<us(e)?e.a.statusText:""}catch(l){zo(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+cs(e)+"]",is(e)}}finally{ss(e)}}}function ss(e,t){if(e.a){as(e);var n=e.a,r=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(jo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function as(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(s.clearTimeout(e.o),e.o=null)}function us(e){return e.a?e.a.readyState:0}function cs(e){try{return 2<us(e)?e.a.status:-1}catch(t){return-1}}function ls(e,t){return t+" ["+e.O+" "+e.l+" "+cs(e)+"]"}function hs(e){var t=_s;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ds(e,t,n){e.a=!0,e.c=n,e.f=!t,gs(e)}function fs(e){if(e.a){if(!e.u)throw new ys(e);e.u=!1}}function ps(e,t,n,r){e.g.push([t,n,r]),e.a&&gs(e)}function ms(e){return U(e.g,(function(e){return g(e[1])}))}function gs(e){if(e.h&&e.a&&ms(e)){var t=e.h,n=ws[t];n&&(s.clearTimeout(n.a),delete ws[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(A(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,ms(e)||(n=!0)}}e.c=t,r&&(u=_(e.m,e,!0),r=_(e.m,e,!1),t instanceof hs?(ps(t,u,r),t.w=!0):t.then(u,r)),n&&(t=new bs(t),ws[t.a]=t,e.h=t.a)}function ys(){T.call(this)}function vs(){T.call(this)}function bs(e){this.a=s.setTimeout(_(this.c,this),0),this.b=e}(e=Zo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,ls(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(zo(this.b,ls(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ss(this))},e.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ss(this,!0)),Zo.qb.xa.call(this)},e.Lb=function(){this.ta||(this.J||this.i||this.f?os(this):this.yc())},e.yc=function(){os(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(jo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return zo(this.b,"Can not get response: "+t.message),null}},hs.prototype.cancel=function(e){if(this.a)this.c instanceof hs&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new vs(this),fs(this),ds(this,!1,e))}},hs.prototype.m=function(e,t){this.i=!1,ds(this,e,t)},hs.prototype.then=function(e,t,n){var r,i,o=new He((function(e,t){r=e,i=t}));return ps(this,r,(function(e){e instanceof vs?o.cancel():i(e)})),o.then(e,t,n)},hs.prototype.$goog_Thenable=!0,I(ys,T),ys.prototype.message="Deferred has already fired",ys.prototype.name="AlreadyCalledError",I(vs,T),vs.prototype.message="Deferred was canceled",vs.prototype.name="CanceledError",bs.prototype.c=function(){throw delete ws[this.a],this.b};var ws={};function Es(e){var t={},n=t.document||document,r=ie(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new hs(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Cs(i,!0);var e=new As(Is,"Timeout reached for loading script "+r);fs(a),ds(a,!1,e)}),h),o.Ga=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Cs(i,t.gd||!1,u),fs(a),ds(a,!0,null))},i.onerror=function(){Cs(i,!0,u);var e=new As(Ss,"Error while loading script "+r);fs(a),ds(a,!1,e)},X(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Hn(i,o),function(e,t){F(e,"HTMLScriptElement"),e.src=ie(t),null===l&&(l=(t=(t=s.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""),(t=l)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function _s(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Cs(e,!0,this.Ga)}}function Cs(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ss=0,Is=1;function As(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),T.call(this,n),this.code=e}function Ts(e){this.f=e}function Ds(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||ks,this.g=K(e.secureTokenHeaders||xs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Rs,this.a=K(e.firebaseHeaders||Ps),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=s.XMLHttpRequest||n&&D.a.INTERNAL.node&&D.a.INTERNAL.node.XMLHttpRequest)&&!cr())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=cr()?new Go(self):hr()?new Ts(n):new xo,this.b=null}I(As,T),I(Ts,No),Ts.prototype.a=function(){return new this.f},Ts.prototype.b=function(){return{}};var Ns,Os="idToken",ks=new Or(3e4,6e4),xs={"Content-Type":"application/x-www-form-urlencoded"},Rs=new Or(3e4,6e4),Ps={"Content-Type":"application/json"};function Ms(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ls(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Fs(e,t,n,r,i,o,a){(function(){var e=yr();return!((e=pr(e)!=fr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||bt&&Dt&&!(9<Dt))})()||cr()?e=_(e.o,e):(Ns||(Ns=new He((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[Bs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){ps(e,null,t,void 0)}(Es(oe(js,{onload:Bs})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=_(e.m,e)),e(t,n,r,i,o,a)}Ds.prototype.R=function(){return this.b},Ds.prototype.o=function(e,t,n,r,i,o){if(cr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Zo(this.f);if(o){u.g=Math.max(0,o);var c=setTimeout((function(){u.dispatchEvent("timeout")}),o)}an(u,"complete",(function(){c&&clearTimeout(c);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return zo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),un(u,"ready",(function(){c&&clearTimeout(c),pt(this)})),un(u,"timeout",(function(){c&&clearTimeout(c),pt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():So.a(),e.w=function(e){return e.c||(e.c=e.b())}(e.B?e.B:So),e.a.onreadystatechange=_(e.Lb,e);try{zo(e.b,ls(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(u){return zo(e.b,ls(e,"Error opening Xhr: "+u.message)),void rs(e,u)}t=r||"";var o=new pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||a(e))B(e,t,void 0);else for(var n=fn(e),r=dn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=ns,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(o.X()),r=s.FormData&&t instanceof s.FormData,!$(ts,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{as(e),0<e.g&&(e.v=function(e){return bt&&Ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),zo(e.b,ls(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=_(e.Ga,e)):e.o=ln(e.Ga,e.g,e)),zo(e.b,ls(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(u){zo(e.b,ls(e,"Send error: "+u.message)),rs(e,u)}}(u,e,n,r,i)};var js=new Z(te,"https://apis.google.com/js/client.js?onload=%{onload}"),Bs="__fcb"+Math.floor(1e6*Math.random()).toString();function Vs(e){if(!a(e=e.email)||!or.test(e))throw new Xr("invalid-email")}function Us(e){"email"in e&&Vs(e)}function $s(e){if(!e[Os])throw new Xr("internal-error")}function qs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Xr("internal-error")}else{if(!e.sessionInfo)throw new Xr("missing-verification-id");if(!e.code)throw new Xr("missing-verification-code")}}Ds.prototype.m=function(e,t,n,r,i){var o=this;Ns.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ds.prototype.ob=function(){return Ia(this,ga,{})},Ds.prototype.rb=function(e,t){return Ia(this,pa,{idToken:e,email:t})},Ds.prototype.sb=function(e,t){return Ia(this,ma,{idToken:e,password:t})};var Hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function zs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Xr("internal-error")}function Gs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&jn(e=new Pn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function Ws(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Do(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Do(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Do(e)):e.errorMessage&&(t=Aa(e.errorMessage)),t)throw t;if(!e[Os])throw new Xr("internal-error")}function Qs(e,t){return t.returnIdpCredential=!0,Ia(e,ya,t)}function Ks(e,t){return t.returnIdpCredential=!0,Ia(e,ba,t)}function Ys(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ia(e,va,t)}function Xs(e){if(!e.oobCode)throw new Xr("invalid-action-code")}(e=Ds.prototype).tb=function(e,t){var n={idToken:e},r=[];return W(Hs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ia(this,pa,n)},e.kb=function(e,t){return X(e={requestType:"PASSWORD_RESET",email:e},t),Ia(this,ca,e)},e.lb=function(e,t){return X(e={requestType:"EMAIL_SIGNIN",email:e},t),Ia(this,aa,e)},e.jb=function(e,t){return X(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ia(this,ua,e)},e.Va=function(e){return Ia(this,_a,e)},e.$a=function(e,t){return Ia(this,da,{oobCode:e,newPassword:t})},e.Ka=function(e){return Ia(this,Js,{oobCode:e})},e.Xa=function(e){return Ia(this,Zs,{oobCode:e})};var Zs={endpoint:"setAccountInfo",D:Xs,fa:"email",F:!0},Js={endpoint:"resetPassword",D:Xs,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Xr("internal-error")},F:!0},ea={endpoint:"signupNewUser",D:function(e){if(Vs(e),!e.password)throw new Xr("weak-password")},K:$s,T:!0,F:!0},ta={endpoint:"createAuthUri",F:!0},na={endpoint:"deleteAccount",V:["idToken"]},ra={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!p(e.deleteProvider))throw new Xr("internal-error")}},ia={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Vs,K:$s,T:!0,F:!0},oa={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Vs,K:$s,T:!0},sa={endpoint:"getAccountInfo"},aa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Xr("internal-error");Vs(e)},fa:"email",F:!0},ua={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Xr("internal-error")},fa:"email",F:!0},ca={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Xr("internal-error");Vs(e)},fa:"email",F:!0},la={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ha={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Xr("internal-error")}},da={endpoint:"resetPassword",D:Xs,fa:"email",F:!0},fa={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pa={endpoint:"setAccountInfo",V:["idToken"],D:Us,T:!0},ma={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Us(e),!e.password)throw new Xr("weak-password")},K:$s,T:!0},ga={endpoint:"signupNewUser",K:$s,T:!0,F:!0},ya={endpoint:"verifyAssertion",D:zs,Qa:Gs,K:Ws,T:!0,F:!0},va={endpoint:"verifyAssertion",D:zs,Qa:Gs,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Xr("user-not-found");if(e.errorMessage)throw Aa(e.errorMessage);if(!e[Os])throw new Xr("internal-error")},T:!0,F:!0},ba={endpoint:"verifyAssertion",D:function(e){if(zs(e),!e.idToken)throw new Xr("internal-error")},Qa:Gs,K:Ws,T:!0},wa={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Xr("invalid-custom-token")},K:$s,T:!0,F:!0},Ea={endpoint:"verifyPassword",D:function(e){if(Vs(e),!e.password)throw new Xr("wrong-password")},K:$s,T:!0,F:!0},_a={endpoint:"verifyPhoneNumber",D:qs,K:$s,F:!0},Ca={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Xr("internal-error");qs(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Do(e);$s(e)}},Sa={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qs,K:$s,F:!0};function Ia(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return Ze(new Xr("internal-error"));var r,i=t.Kb||"POST";return Xe(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var s=Sn(e.h+t);_n(s,"key",e.c),o&&_n(s,"cb",S().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&_n(s,u,r[u]);return new He((function(t,o){Fs(e,s.toString(),(function(e){e?e.error?o(Ta(e,i||{})):t(e):o(new Xr("network-request-failed"))}),n,a?void 0:Wn(Ir(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Qa?t.Qa(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Xr("internal-error");return r[t.fa]}))}function Aa(e){return Ta({error:{errors:[{message:e}],code:400,message:e}})}function Ta(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],t);return!t&&e&&(t=Sr(e)),new Xr("internal-error",t)}function Da(e){this.b=e,this.a=null,this.fb=function(e){return(xa||(xa=new He((function(e,t){function n(){Nr(),vr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:Oa.get()})}if(vr("gapi.iframes.Iframe"))e();else if(vr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){vr("gapi.load")?n():t(Error("Network Error"))},Xe(Es(r=oe(Na,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw xa=null,e})))).then((function(){return new He((function(t,n){vr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ka.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Na=new Z(te,"https://apis.google.com/js/api.js?onload=%{onload}"),Oa=new Or(3e4,6e4),ka=new Or(5e3,15e3),xa=null;function Ra(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=In(this.i,"/__/auth/iframe"),_n(this.a,"apiKey",this.g),_n(this.a,"appName",this.h),this.b=null,this.c=[]}function Pa(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ma(e){try{return D.a.app(e).auth().Aa()}catch(t){return[]}}function La(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Fa(e){var t=Jn();return function(e){return Ia(e,la,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Sn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Sn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ir.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Ao(Jn())}))}function ja(e){return e.l?e.l:(e.l=sr().then((function(){if(!e.o){var t=e.c,n=e.h,r=Ma(e.b),i=new Ra(e.u,e.f,e.b);i.f=t,i.b=n,i.c=G(r||[]),e.o=i.toString()}e.i=new Da(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=_o(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Xe(n)}return n.status="ERROR",Xe(n)}))}(e)})),e.l)}function Ba(e){return e.m||(e.v=e.c?gr(e.c,Ma(e.b)):null,e.m=new Ds(e.f,Di(e.h),e.v)),e.m}function Va(e,t,n,r,i,o,s,a,u,c,l){return(e=new Pa(e,t,n,r,i)).l=o,e.g=s,e.i=a,e.b=K(u||null),e.f=c,e.nb(l).toString()}function Ua(e){if(this.a=e||D.a.INTERNAL.reactNative&&D.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function $a(e){this.b=e,this.a={},this.f=_(this.c,this)}Ra.prototype.toString=function(){return this.f?_n(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?_n(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?_n(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Pa.prototype.nb=function(e){return this.h=e,this},Pa.prototype.toString=function(){var e=In(this.o,"/__/auth/handler");if(_n(e,"apiKey",this.m),_n(e,"appName",this.c),_n(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=D.a.app(this.c).auth().ha()}catch(a){n=null}for(var r in t.ab=n,_n(e,"providerId",this.a.providerId),n=Ir((t=this.a).zb))n[r]=n[r].toString();r=t.Fc,n=K(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}t.cb&&t.ab&&!n[t.cb]&&(n[t.cb]=t.ab),Q(n)||_n(e,"customParameters",Sr(n))}if("function"==typeof this.a.Hb&&(t=this.a.Hb()).length&&_n(e,"scopes",t.join(",")),this.l?_n(e,"redirectUrl",this.l):Fn(e.a,"redirectUrl"),this.g?_n(e,"eventId",this.g):Fn(e.a,"eventId"),this.i?_n(e,"v",this.i):Fn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(e,s)&&_n(e,s,this.b[s]);return this.h?_n(e,"tid",this.h):Fn(e.a,"tid"),this.f?_n(e,"eid",this.f):Fn(e.a,"eid"),(s=Ma(this.c)).length&&_n(e,"fw",s.join(",")),e.toString()},(e=La.prototype).Fb=function(e,t,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,s=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return ja(e).then((function(){return function(e,t){return e.fb.then((function(){return new He((function(n){e.a.send(t.type,t,n,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&nr(e),t(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(e){return new He((function(t){return function n(){hn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return hn(n).then((function(){t(r)}))}))},e.Ob=function(){var e=yr();return!Cr(e)&&!Dr(e)},e.Jb=function(){return!1},e.Db=function(e,t,n,r,i,o,s,a){if(!e)return Ze(new Xr("popup-blocked"));if(s&&!Cr())return this.ia().s((function(t){nr(e),i(t)})),r(),Xe();this.a||(this.a=Fa(Ba(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw nr(e),i(t),t}));return r(),t})).then((function(){wo(n),s||er(Va(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,a),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Eb=function(e,t,n,r){this.a||(this.a=Fa(Ba(this)));var i=this;return this.a.then((function(){wo(t),er(Va(i.u,i.f,i.b,e,t,Jn(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ia=function(){var e=this;return ja(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new Xr("network-request-failed")}))},e.Rb=function(){return!0},e.ya=function(e){this.g.push(e)},e.La=function(e){H(this.g,(function(t){return t==e}))},(e=Ua.prototype).get=function(e){return Xe(this.a.getItem(e)).then((function(e){return e&&Ar(e)}))},e.set=function(e,t){return Xe(this.a.setItem(e,Sr(t)))},e.S=function(e){return Xe(this.a.removeItem(e))},e.$=function(){},e.ea=function(){};var qa,Ha=[];function za(e,t,n){Q(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ga(e){this.a=e}function Wa(e){this.c=e,this.b=!1,this.a=[]}function Qa(e,t,n,r){var i,o,s,a,u=n||{},c=null;if(e.b)return Ze(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new He((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),e.a.push(c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ka(e,c),t})).s((function(t){throw Ka(e,c),t}))}function Ka(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),H(e.a,(function(e){return e==t}))}}function Ya(){if(!Za())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;cr()&&self?(this.l=function(){var e=cr()?self:null;if(B(Ha,(function(n){n.b==e&&(t=n)})),!t){var t=new $a(e);Ha.push(t)}return t}(),za(this.l,"keyChanged",(function(t,n){return ru(e).then((function(t){return 0<t.length&&B(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),za(this.l,"ping",(function(){return Xe(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Xe().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Xe(null)}().then((function(t){(e.h=t)&&(e.g=new Wa(new Ga(t)),Qa(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function Xa(e){return e.m||(e.m=function e(t){return new He((function(n,r){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new He((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).s((function(e){r(e)}))}}))}(e)),e.m}function Za(){try{return!!s.indexedDB}catch(yt){return!1}}function Ja(e){return e.objectStore("firebaseLocalStorage")}function eu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function tu(e){return new He((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function nu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Qa(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Xe()}function ru(e){return Xa(e).then((function(e){var t=Ja(eu(e,!1));return t.getAll?tu(t.getAll()):new He((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function iu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ou(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Xe().then((function(){if(Za()){var e=Tr(),r="__sak"+e;return qa||(qa=new Ya),(n=qa).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){B(t.a,(function(t){t(e)}))})),e}))}function su(){this.a={},this.type="inMemory"}function au(){if(!function(){var e="Node"==lr();if(!(e=uu()||e&&D.a.INTERNAL.node&&D.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=uu()||D.a.INTERNAL.node.localStorage,this.type="localStorage"}function uu(){try{var e=s.localStorage,t=Tr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function cu(){this.type="nullStorage"}function lu(){if(!function(){var e="Node"==lr();if(!(e=hu()||e&&D.a.INTERNAL.node&&D.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=hu()||D.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hu(){try{var e=s.sessionStorage,t=Tr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function du(){var e={};e.Browser=mu,e.Node=gu,e.ReactNative=yu,e.Worker=vu,this.a=e[lr()]}$a.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];B(r,(function(t){i.push(Xe().then((function(){return t(e.origin,e.data.data)})))})),et(i).then((function(r){var i=[];B(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),B(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ga.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Wa.prototype.close=function(){for(;0<this.a.length;)Ka(this,this.a[0]);this.b=!0},(e=Ya.prototype).set=function(e,t){var n,r=!1,i=this;return Xa(this).then((function(t){return tu((t=Ja(eu(n=t,!0))).get(e))})).then((function(o){var s=Ja(eu(n,!0));return o?(o.value=t,tu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,tu(s.add(o)))})).then((function(){return i.c[e]=t,nu(i,e)})).ka((function(){r&&i.b--}))},e.get=function(e){return Xa(this).then((function(t){return tu(Ja(eu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.S=function(e){var t=!1,n=this;return Xa(this).then((function(r){return t=!0,n.b++,tu(Ja(eu(r,!0)).delete(e))})).then((function(){return delete n.c[e],nu(n,e)})).ka((function(){t&&n.b--}))},e.$=function(e){0==this.a.length&&function(e){iu(e),function t(){e.f=setTimeout((function(){e.i=ru(e).then((function(t){0<t.length&&B(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ea=function(e){H(this.a,(function(t){return t==e})),0==this.a.length&&iu(this)},(e=ou.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.S=function(e){return this.b.then((function(t){return t.S(e)}))},e.$=function(e){this.a.push(e)},e.ea=function(e){H(this.a,(function(t){return t==e}))},(e=su.prototype).get=function(e){return Xe(this.a[e])},e.set=function(e,t){return this.a[e]=t,Xe()},e.S=function(e){return delete this.a[e],Xe()},e.$=function(){},e.ea=function(){},(e=au.prototype).get=function(e){var t=this;return Xe().then((function(){return Ar(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=Sr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(e){s.window&&Wt(s.window,"storage",e)},e.ea=function(e){s.window&&Yt(s.window,"storage",e)},(e=cu.prototype).get=function(){return Xe(null)},e.set=function(){return Xe()},e.S=function(){return Xe()},e.$=function(){},e.ea=function(){},(e=lu.prototype).get=function(e){var t=this;return Xe().then((function(){return Ar(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=Sr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(){},e.ea=function(){};var fu,pu,mu={C:au,Sa:lu},gu={C:au,Sa:lu},yu={C:Ua,Sa:cu},vu={C:au,Sa:cu},bu={$c:"local",NONE:"none",bd:"session"};function wu(){var e=!(Dr(yr())||!ur()),t=Cr(),n=br();this.m=e,this.h=t,this.l=n,this.a={},fu||(fu=new du),e=fu;try{this.g=!Zn()&&Rr()||!s.indexedDB?new e.a.C:new ou(cr()?new su:new e.a.C)}catch(r){this.g=new su,this.h=!0}try{this.i=new e.a.Sa}catch(r){this.i=new su}this.u=new su,this.f=_(this.Pb,this),this.b={}}function Eu(){return pu||(pu=new wu),pu}function _u(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Cu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Su(e,t,n){return n=Cu(t,n),"local"==t.C&&(e.b[n]=null),_u(e,t.C).S(n)}function Iu(e){e.c&&(clearInterval(e.c),e.c=null)}function Au(e){this.a=e,this.b=Eu()}(e=wu.prototype).get=function(e,t){return _u(this,e.C).get(Cu(e,t))},e.set=function(e,t,n){var r=Cu(e,n),i=this,o=_u(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Cu(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),Q(this.a)&&(_u(this,"local").$(this.f),this.h||(Zn()||!Rr())&&s.indexedDB||!this.l||function(e){Iu(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Lt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Cu(e,t),this.a[e]&&(H(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),Q(this.a)&&(_u(this,"local").ea(this.f),Iu(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?_u(this,"local").ea(this.f):Iu(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.Za(t))},bt&&Dt&&10==Dt&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else B(e,_(this.Za,this))},e.Za=function(e){this.a[e]&&B(this.a[e],(function(e){e()}))};var Tu,Du={name:"authEvent",C:"local"};function Nu(){this.a=Eu()}function Ou(e,t){this.b=ku,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0!==Tu||(Tu=s.Int32Array?new Int32Array(ju):ju),this.reset()}I(Ou,(function(){this.b=-1}));for(var ku=64,xu=ku-1,Ru=[],Pu=0;Pu<xu;Pu++)Ru[Pu]=0;var Mu=z(128,Ru);function Lu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Tu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Fu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(a(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Lu(e),i=0);else{if(!m(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Lu(e),i=0)}}e.c=i,e.g+=n}Ou.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):G(this.h)};var ju=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bu(){Ou.call(this,8,Vu)}I(Bu,Ou);var Vu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Uu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new Nu,this.g=new Au(this.h),this.f=null,this.b=[],this.a=this.c=null}function $u(e){return new Xr("invalid-cordova-configuration",e)}function qu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Hu(e){return e.f||(e.f=e.ia().then((function(){return new He((function(t){e.ya((function n(r){return t(r),e.La(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),zu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=$i(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ar(Cn(o=Sn(i),"firebaseError")||null))?Zr(o):null)?new Eo(r.c,r.b,null,null,o,null,r.R()):new Eo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}qu(e,i)}))}var n=new Eo("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=hn(500).then((function(){return zu(e).then((function(){r||qu(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(vr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Io||(Io=new Co),function(e){var t=Io;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=vr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function zu(e){var t=null;return function(e){return e.b.get(Du,e.a).then((function(e){return _o(e)}))}(e.g).then((function(n){return t=n,Su((n=e.g).b,Du,n.a)})).then((function(){return t}))}function Gu(e){this.a=e,this.b=Eu()}(e=Uu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(ar(void 0)?sr().then((function(){return new He((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ze(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof vr("universalLinks.subscribe",s))throw $u("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",s))throw $u("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",s))throw $u("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",s))throw $u("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Xr("cordova-not-ready")}))},e.Fb=function(e,t){return t(new Xr("operation-not-supported-in-this-environment")),Xe()},e.Db=function(){return Ze(new Xr("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(e,t,n,r){if(this.c)return Ze(new Xr("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Xe().then((function(){return wo(t),Hu(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Eo(t,r,null,o,new Xr("no-auth-event"),null,i),u=vr("BuildInfo.packageName",s);if("string"!=typeof u)throw new Xr("invalid-cordova-configuration");var c=vr("BuildInfo.displayName",s),l={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!yr().toLowerCase().match(/android/))return Ze(new Xr("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new Bu;Fu(t,e),e=[];var n=8*t.g;Fu(t,Mu,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Lu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=Va(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Du,a.A(),t)})).then((function(){var t=vr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new Xr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=vr("cordova.plugins.browsertab.openUrl",s)))throw new Xr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=vr("cordova.InAppBrowser.open",s)))throw new Xr("invalid-cordova-configuration");t=yr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new He((function(e,t){u=function(){var t=vr("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(u),l=function(){kr()&&c()},o.addEventListener("resume",c=function(){a||(a=hn(2e3).then((function(){t(new Xr("redirect-cancelled-by-user"))})))},!1),yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return zu(i).then((function(){throw e}))}))})).ka((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.La(u),i.c=null}))},e.ya=function(e){this.b.push(e),Hu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Eo("unknown",null,null,null,new Xr("no-auth-event")),e(t))}))},e.La=function(e){H(this.b,(function(t){return t==e}))};var Wu={name:"pendingRedirect",C:"session"};function Qu(e){return Su(e.b,Wu,e.a)}function Ku(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=_(this.o,this),this.b=new cc,this.w=new pc,this.g=new Gu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Yu(this.B,this.u,this.m,Ai)}function Yu(e,t,n,r){var i=D.a.SDK_VERSION||null;return ar()?new Uu(e,t,n,i,r):new La(e,t,n,i,r)}function Xu(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function Zu(e){e.a.Ob()&&Xu(e).s((function(t){var n=new Eo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));ic(t)&&e.o(n)})),e.a.Jb()||lc(e.b)}function Ju(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Wu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Qu(e.g).then((function(){Xu(e).s((function(t){var n=new Eo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));ic(t)&&e.o(n)}))})):Zu(e)})).s((function(){Zu(e)}))}function ec(e,t){H(e.h,(function(e){return e==t}))}Ku.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=Yu(this.B,this.u,this.m),this.i={}},Ku.prototype.o=function(e){if(!e)throw new Xr("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=S())),t=!0;break}}return lc(this.b),t};var tc=new Or(2e3,1e4),nc=new Or(3e4,6e4);function rc(e,t,n,r,i,o,s){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.ya(e.l))}),(function(){e.reset()}),i,o,s)}function ic(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function oc(e,t,n,r,i){var o;return function(e){return e.b.set(Wu,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(ic(t))throw new Xr("operation-not-supported-in-this-environment");return o=t,Qu(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new He((function(){})):Qu(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function sc(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),tc.get())}Ku.prototype.oa=function(){return this.b.oa()};var ac={};function uc(e,t,n){var r=t+":"+n;return ac[r]||(ac[r]=new Ku(e,t,n)),ac[r]}function cc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function lc(e){e.g||(e.g=!0,fc(e,!1,null,null))}function hc(e){e.g&&!e.i&&fc(e,!1,null,null)}function dc(e,t){if(e.b=function(){return Xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function fc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ze(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):dc(e,n):dc(e,{user:null}),e.f=[],e.c=[]}function pc(){}function mc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function gc(e,t){this.a=t,jr(this,"verificationId",e)}function yc(e,t,n,r){return new yo(e).Va(t,n).then((function(e){return new gc(e,r)}))}function vc(e){var t=Ii(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:e,expirationTime:xr(1e3*t.exp),authTime:xr(1e3*t.auth_time),issuedAtTime:xr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function bc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function wc(e){this.f=e,this.b=this.a=null,this.c=0}function Ec(e,t){var n=t[Os],r=t.refreshToken;t=_c(t.expiresIn),e.b=n,e.c=t,e.a=r}function _c(e){return S()+1e3*parseInt(e,10)}function Cc(e,t){this.a=e||null,this.b=t||null,Br(this,{lastSignInTime:xr(t||null),creationTime:xr(e||null)})}function Sc(e,t,n,r,i,o){Br(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Ic(e,t){for(var n in Mt.call(this,e),t)this[n]=t[n]}function Ac(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=D.a.SDK_VERSION?gr(D.a.SDK_VERSION):null,this.a=new Ds(this.l,Di(Ai),e),this.b=new wc(this.a),Rc(this,t[Os]),Ec(this.b,t),jr(this,"refreshToken",this.b.a),Lc(this,n||{}),sn.call(this),this.J=!1,this.o&&wr()&&(this.i=uc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new bc((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-S()-3e5;return 0<t?t:0}))}(this),this.W=_(this.Ha,this);var r=this;this.ga=null,this.va=function(e){r.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Dc(r,e.c)},this.Y=null}function Tc(e,t){e.Z&&Yt(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Wt(t,"languageCodeChanged",e.va)}function Dc(e,t){e.P=t,Ls(e.a,D.a.SDK_VERSION?gr(D.a.SDK_VERSION,e.P):null)}function Nc(e,t){e.Y&&Yt(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Wt(t,"frameworkChanged",e.ua)}function Oc(e){try{return D.a.app(e.m).auth()}catch(t){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function kc(e){e.B||e.w.b||(e.w.start(),Yt(e,"tokenChanged",e.W),Wt(e,"tokenChanged",e.W))}function xc(e){Yt(e,"tokenChanged",e.W),e.w.stop()}function Rc(e,t){e.ma=t,jr(e,"_lat",t)}function Pc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return et(t).then((function(){return e}))}function Mc(e){e.i&&!e.J&&(e.J=!0,Ju(e.i,e))}function Lc(e,t){Br(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Cc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Fc(){}function jc(e){return Xe().then((function(){if(e.B)throw new Xr("app-deleted")}))}function Bc(e){return V(e.providerData,(function(e){return e.providerId}))}function Vc(e,t){t&&(Uc(e,t.providerId),e.providerData.push(t))}function Uc(e,t){H(e.providerData,(function(e){return e.providerId==t}))}function $c(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&jr(e,t,n)}function qc(e,t){e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),jr(e,"metadata",t.metadata?function(e){return new Cc(e.a,e.b)}(t.metadata):new Cc),B(t.providerData,(function(t){Vc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),jr(e,"refreshToken",e.b.a))}function Hc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return Ia(e.a,sa,{idToken:t}).then(_(e.zc,e))}(e,t).then((function(){return n||$c(e,"isAnonymous",!1),t}))}))}function zc(e,t){t[Os]&&e.ma!=t[Os]&&(Ec(e.b,t),e.dispatchEvent(new Ic("tokenChanged")),Rc(e,t[Os]),$c(e,"refreshToken",e.b.a))}function Gc(e,t){return Hc(e).then((function(){if($(Bc(e),t))return Pc(e).then((function(){throw new Xr("provider-already-linked")}))}))}function Wc(e,t,n){return Vr({user:e,credential:bo(t),additionalUserInfo:t=Ri(t),operationType:n})}function Qc(e,t){return zc(e,t),e.reload().then((function(){return e}))}function Kc(e,t,n,r,i){if(!wr())return Ze(new Xr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ze(e.h);var o=xi(n.providerId),s=Tr(e.uid+":::"),a=null;(!Cr()||ur())&&e.o&&n.isOAuthProvider&&(a=Va(e.o,e.l,e.m,t,n,null,s,D.a.SDK_VERSION||null,null,null,e.tenantId));var u=rr(a,o&&o.Da,o&&o.Ca);return r=r().then((function(){if(Xc(e),!i)return e.G().then((function(){}))})).then((function(){return rc(e.i,u,t,n,s,!!a,e.tenantId)})).then((function(){return new He((function(n,r){e.ja(t,null,new Xr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=sc(e.i,e,t,u,s)}))})).then((function(e){return u&&nr(u),e?Vr(e):null})).s((function(e){throw u&&nr(u),e})),Zc(e,r,i)}function Yc(e,t,n,r,i){if(!wr())return Ze(new Xr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Ze(e.h);var o=null,s=Tr(e.uid+":::");return r=r().then((function(){if(Xc(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=s,Pc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(tl,e.A(),t.a)),t})).then((function(){return oc(e.i,t,n,s,e.tenantId)})).s((function(t){if(o=t,e.da)return nl(e.da);throw o})).then((function(){if(o)throw o})),Zc(e,r,i)}function Xc(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Zc(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Ze(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Ic("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){q(e.I,r)})),r}function Jc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Os]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-S())/1e3;var r=new Ac(t,n,e);return e.providerData&&B(e.providerData,(function(e){e&&Vc(r,Vr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function el(e){this.a=e,this.b=Eu()}cc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},cc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(fc(this,!0,null,e.a),Xe()):t.za(n,r)?function(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.R(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then((function(t){fc(e,a,t,null)})).s((function(t){fc(e,a,null,t)}))}(this,e,t):Ze(new Xr("invalid-auth-event")):(fc(this,!1,null,null),Xe())}else Ze(new Xr("invalid-auth-event"))},cc.prototype.oa=function(){var e=this;return new He((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Xr("timeout");e.a&&e.a.cancel(),e.a=hn(nc.get()).then((function(){e.b||(e.g=!0,fc(e,!0,null,t))}))}(e))}))},pc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Xe()):t.za(n,r)?function(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):Ze(new Xr("invalid-auth-event"))}else Ze(new Xr("invalid-auth-event"))},gc.prototype.confirm=function(e){return e=vo(this.verificationId,e),this.a(e)},bc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=s.document,t=null;return kr()||!e?Xe():new He((function(n){t=function(){kr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},bc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},wc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ze(new Xr("user-token-expired")):e||!this.b||S()>this.c-3e4?this.a?function(e,t){return function(e,t){return new He((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Fs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ta(e)):e.access_token&&e.refresh_token?n(e):r(new Xr("internal-error")):r(new Xr("network-request-failed"))}),"POST",Ln(t).toString(),e.g,e.u.get()):r(new Xr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=_c(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xe(null):Xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(Ic,Mt),I(Ac,sn),Ac.prototype.sa=function(e){this.ga=e,Ms(this.a,e)},Ac.prototype.ha=function(){return this.ga},Ac.prototype.Aa=function(){return G(this.P)},Ac.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},jr(Ac.prototype,"providerId","firebase"),(e=Ac.prototype).reload=function(){var e=this;return Zc(this,jc(this).then((function(){return Hc(e).then((function(){return Pc(e)})).then(Fc)})))},e.dc=function(e){return this.G(e).then((function(e){return new vc(e)}))},e.G=function(e){var t=this;return Zc(this,jc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Xr("internal-error");return e.accessToken!=t.ma&&(Rc(t,e.accessToken),t.dispatchEvent(new Ic("tokenChanged"))),$c(t,"refreshToken",e.refreshToken),e.accessToken})))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new Xr("internal-error");Lc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?V(e,(function(e){return new Sc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Vc(this,t[n]);$c(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(e){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},e.gb=function(e){var t=this,n=null;return Zc(this,e.f(this.a,this.uid).then((function(e){return zc(t,e),n=Wc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.rc=function(e){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},e.eb=function(e){var t=this,n=null;return Zc(this,Gc(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Wc(t,e,"link"),Qc(t,e)})).then((function(){return n})))},e.sc=function(e,t){var n=this;return Zc(this,Gc(this,"phone").then((function(){return yc(Oc(n),e,t,_(n.eb,n))})))},e.Bc=function(e,t){var n=this;return Zc(this,Xe().then((function(){return yc(Oc(n),e,t,_(n.gb,n))})),!0)},e.rb=function(e){var t=this;return Zc(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return zc(t,e),t.reload()})))},e.Sc=function(e){var t=this;return Zc(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return zc(t,e),t.reload()})))},e.sb=function(e){var t=this;return Zc(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return zc(t,e),t.reload()})))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return jc(this);var t=this;return Zc(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return zc(t,e),$c(t,"displayName",e.displayName||null),$c(t,"photoURL",e.photoUrl||null),B(t.providerData,(function(e){"password"===e.providerId&&(jr(e,"displayName",t.displayName),jr(e,"photoURL",t.photoURL))})),Pc(t)})).then(Fc))},e.Qc=function(e){var t=this;return Zc(this,Hc(this).then((function(n){return $(Bc(t),e)?function(e,t,n){return Ia(e,ra,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return B(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),B(Bc(t),(function(e){n[e]||Uc(t,e)})),n[yo.PROVIDER_ID]||jr(t,"phoneNumber",null),Pc(t)})):Pc(t).then((function(){throw new Xr("no-such-provider")}))})))},e.delete=function(){var e=this;return Zc(this,this.G().then((function(t){return Ia(e.a,na,{idToken:t})})).then((function(){e.dispatchEvent(new Ic("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Tc(e,null),Nc(e,null),e.I=[],e.B=!0,xc(e),jr(e,"refreshToken",null),e.i&&ec(e.i,e)}))},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},e.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?_(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?_(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?_(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?_(this.Cb,this):null},e.tc=function(e){var t=this;return Kc(this,"linkViaPopup",e,(function(){return Gc(t,e.providerId).then((function(){return Pc(t)}))}),!1)},e.Cc=function(e){return Kc(this,"reauthViaPopup",e,(function(){return Xe()}),!0)},e.uc=function(e){var t=this;return Yc(this,"linkViaRedirect",e,(function(){return Gc(t,e.providerId)}),!1)},e.Dc=function(e){return Yc(this,"reauthViaRedirect",e,(function(){return Xe()}),!0)},e.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zc(this,this.G().then((function(n){return Ks(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Wc(i,e,"link"),Qc(i,e)})).then((function(){return o})))},e.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zc(this,Xe().then((function(){return Hi(Ys(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Wc(i,e,"reauthenticate"),zc(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.jb=function(e){var t=this,n=null;return Zc(this,this.G().then((function(t){return n=t,void 0===e||Q(e)?{}:wi(new li(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(e,this.metadata.A()),B(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var tl={name:"redirectUser",C:"session"};function nl(e){return Su(e.b,tl,e.a)}function rl(e){this.a=e,this.b=Eu(),this.c=null,this.f=function(e){var t=sl("local"),n=sl("session"),r=sl("none");return function(e,t,n){var r=Cu(t,n),i=_u(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=Ar(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ol,e.a).then((function(e){return e?sl(e):t}))}))}))})).then((function(t){return e.c=t,il(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sl("local"),this.a,_(this.g,this))}function il(e,t){var n,r=[];for(n in bu)bu[n]!==t&&r.push(Su(e.b,sl(bu[n]),e.a));return r.push(Su(e.b,ol,e.a)),function(e){return new He((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)Je(e[a],C(o,a),s);else t(i)}))}(r)}rl.prototype.g=function(){var e=this,t=sl("local");ll(this,(function(){return Xe().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return il(e,"local").then((function(){e.c=t}))}))}))};var ol={name:"persistence",C:"session"};function sl(e){return{name:"authUser",C:e}}function al(e,t){return ll(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function ul(e){return ll(e,(function(){return Su(e.b,e.c,e.a)}))}function cl(e,t){return ll(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),Jc(e||{})}))}))}function ll(e,t){return e.f=e.f.then(t,t),e.f}function hl(e){if(this.l=!1,jr(this,"settings",new mc),jr(this,"app",e),!bl(this).options||!bl(this).options.apiKey)throw new Xr("invalid-api-key");e=D.a.SDK_VERSION?gr(D.a.SDK_VERSION):null,this.b=new Ds(bl(this).options&&bl(this).options.apiKey,Di(Ai),e),this.O=[],this.m=[],this.J=[],this.Ub=D.a.INTERNAL.createSubscribe(_(this.oc,this)),this.W=void 0,this.Vb=D.a.INTERNAL.createSubscribe(_(this.pc,this)),yl(this,null),this.h=new rl(bl(this).options.apiKey+":"+bl(this).name),this.w=new el(bl(this).options.apiKey+":"+bl(this).name),this.Y=Cl(this,function(e){var t=bl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(tl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Jc(e||{})}))}(e.w,bl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),nl(e.w)}));return Cl(e,t)}(e).then((function(){return cl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return al(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:ul(e.h)}))):null})).then((function(t){yl(e,t||null)}));return Cl(e,n)}(this)),this.i=Cl(this,function(e){return e.Y.then((function(){return ml(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(sl("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=_(this.Nc,this),this.ub=_(this.aa,this),this.ua=_(this.bc,this),this.va=_(this.mc,this),this.Ha=_(this.nc,this),this.a=null,function(e){var t=bl(e).options.authDomain,n=bl(e).options.apiKey;t&&wr()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=uc(t,n,bl(e).name),Ju(e.a,e),wl(e)&&Mc(wl(e)),e.B){Mc(e.B);var r=e.B;r.sa(e.ha()),Tc(r,e),Dc(r=e.B,e.I),Nc(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.vc,this),this.o=0,sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function dl(e){Mt.call(this,"languageCodeChanged"),this.g=e}function fl(e){Mt.call(this,"frameworkChanged"),this.c=e}function pl(e){return e.Tb||Ze(new Xr("auth-domain-config-required"))}function ml(e){if(!wr())return Ze(new Xr("operation-not-supported-in-this-environment"));var t=pl(e).then((function(){return e.a.oa()})).then((function(e){return e?Vr(e):null}));return Cl(e,t)}function gl(e,t){var n={};return n.apiKey=bl(e).options.apiKey,n.authDomain=bl(e).options.authDomain,n.appName=bl(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Ac(e,t);return n&&(i.da=n),r&&Dc(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Aa())})).then((function(t){return wl(e)&&t.uid==wl(e).uid?(qc(wl(e),t),e.aa(t)):(yl(e,t),Mc(t),e.aa(t))})).then((function(){_l(e)}))}function yl(e,t){wl(e)&&(function(e,t){H(e.O,(function(e){return e==t}))}(wl(e),e.ub),Yt(wl(e),"tokenChanged",e.ua),Yt(wl(e),"userDeleted",e.va),Yt(wl(e),"userInvalidated",e.Ha),xc(wl(e))),t&&(t.O.push(e.ub),Wt(t,"tokenChanged",e.ua),Wt(t,"userDeleted",e.va),Wt(t,"userInvalidated",e.Ha),0<e.o&&kc(t)),jr(e,"currentUser",t),t&&(t.sa(e.ha()),Tc(t,e),Dc(t,e.I),Nc(t,e))}function vl(e,t){var n=null,r=null;return Cl(e,t.then((function(t){return n=bo(t),r=Ri(t),gl(e,t)})).then((function(){return Vr({user:wl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bl(e){return e.app}function wl(e){return e.currentUser}function El(e){return wl(e)&&wl(e)._lat||null}function _l(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](El(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](El(e))}}function Cl(e,t){return e.O.push(t),t.ka((function(){q(e.O,t)})),t}function Sl(){}function Il(){this.a={},this.b=1e12}rl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");e:{for(r in bu)if(bu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(lr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!br()&&"none"!==e)throw n}}(e),ll(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,il(n,e)})).then((function(){if(n.c=sl(e),t)return n.b.set(n.c,t,n.a)})):Xe()}))},I(hl,sn),I(dl,Mt),I(fl,Mt),(e=hl.prototype).mb=function(e){return Cl(this,e=this.h.mb(e))},e.sa=function(e){this.Z===e||this.l||(this.Z=e,Ms(this.b,this.Z),this.dispatchEvent(new dl(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var e=s.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.I.push(e),Ls(this.b,D.a.SDK_VERSION?gr(D.a.SDK_VERSION,this.I):null),this.dispatchEvent(new fl(this.I))},e.Aa=function(){return G(this.I)},e.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:bl(this).options.apiKey,authDomain:bl(this).options.authDomain,appName:bl(this).name,currentUser:wl(this)&&wl(this).A()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?_(this.ac,this):null},e.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,s=null,a=Qs(i.b,e).then((function(e){return o=bo(e),s=Ri(e),e}));return Cl(this,e=i.Y.then((function(){return a})).then((function(e){return gl(i,e)})).then((function(){return Vr({user:wl(i),credential:o,additionalUserInfo:s,operationType:"signIn"})})))},e.Lc=function(e){if(!wr())return Ze(new Xr("operation-not-supported-in-this-environment"));var t=this,n=xi(e.providerId),r=Tr(),i=null;(!Cr()||ur())&&bl(this).options.authDomain&&e.isOAuthProvider&&(i=Va(bl(this).options.authDomain,bl(this).options.apiKey,bl(this).name,"signInViaPopup",e,null,r,D.a.SDK_VERSION||null,null,null,this.R()));var o=rr(i,n&&n.Da,n&&n.Ca);return Cl(this,n=pl(this).then((function(n){return rc(n,o,"signInViaPopup",e,r,!!i,t.R())})).then((function(){return new He((function(e,n){t.ja("signInViaPopup",null,new Xr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=sc(t.a,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&nr(o),e?Vr(e):null})).s((function(e){throw o&&nr(o),e})))},e.Mc=function(e){if(!wr())return Ze(new Xr("operation-not-supported-in-this-environment"));var t=this;return Cl(this,pl(this).then((function(){return function(e){return ll(e,(function(){return e.b.set(ol,e.c.C,e.a)}))}(t.h)})).then((function(){return oc(t.a,"signInViaRedirect",e,void 0,t.R())})))},e.oa=function(){var e=this;return ml(this).then((function(t){return e.a&&hc(e.a.b),t})).s((function(t){throw e.a&&hc(e.a.b),t}))},e.Rc=function(e){if(!e)return Ze(new Xr("null-user"));if(this.P!=e.tenantId)return Ze(new Xr("tenant-id-mismatch"));var t=this,n={};n.apiKey=bl(this).options.apiKey,n.authDomain=bl(this).options.authDomain,n.appName=bl(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Os]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,t=new Ac(t,o),n&&(t.da=n),r&&Dc(t,r),qc(t,e),t}(e,n,t.w,t.Aa());return Cl(this,this.i.then((function(){if(bl(t).options.apiKey!=e.l)return r.reload()})).then((function(){return wl(t)&&e.uid==wl(t).uid?(qc(wl(t),e),t.aa(e)):(yl(t,r),Mc(r),t.aa(r))})).then((function(){_l(t)})))},e.pb=function(){var e=this;return Cl(this,this.i.then((function(){return e.a&&hc(e.a.b),wl(e)?(yl(e,null),ul(e.h).then((function(){_l(e)}))):Xe()})))},e.Nc=function(){var e=this;return cl(this.h,bl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=wl(e)&&t){n=wl(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return qc(wl(e),t),wl(e).G();(wl(e)||t)&&(yl(e,t),t&&(Mc(t),t.da=e.w),e.a&&Ju(e.a,e),_l(e))}}))},e.aa=function(e){return al(this.h,e)},e.bc=function(){_l(this),this.aa(wl(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(wl(t))}))},e.pc=function(e){var t=this;!function(e,t){e.J.push(t),Cl(e,e.i.then((function(){!e.l&&$(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(El(e)))})))}(this,(function(){e.next(wl(t))}))},e.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){g(e)?e(wl(r)):g(e.next)&&e.next(wl(r))})),this.Ub(e,t,n)},e.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),g(e)?e(wl(r)):g(e.next)&&e.next(wl(r))})),this.Vb(e,t,n)},e.cc=function(e){var t=this;return Cl(this,this.i.then((function(){return wl(t)?wl(t).G(e).then((function(e){return{accessToken:e}})):null})))},e.Hc=function(e){var t=this;return this.i.then((function(){return vl(t,Ia(t.b,wa,{token:e}))})).then((function(e){var n=e.user;return $c(n,"isAnonymous",!1),t.aa(n),e}))},e.Ic=function(e,t){var n=this;return this.i.then((function(){return vl(n,Ia(n.b,Ea,{email:e,password:t}))}))},e.Xb=function(e,t){var n=this;return this.i.then((function(){return vl(n,Ia(n.b,ea,{email:e,password:t}))}))},e.Ra=function(e){var t=this;return this.i.then((function(){return vl(t,e.na(t.b))}))},e.Gc=function(e){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},e.ob=function(){var e=this;return this.i.then((function(){var t=wl(e);if(t&&t.isAnonymous){var n=Vr({providerId:null,isNewUser:!1});return Vr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vl(e,e.b.ob()).then((function(t){var n=t.user;return $c(n,"isAnonymous",!0),e.aa(n),t}))}))},e.getUid=function(){return wl(this)&&wl(this).uid||null},e.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&wl(this)&&kc(wl(this))},e.Ec=function(e){var t=this;B(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&wl(this)&&xc(wl(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Cl(this,this.i.then((function(){t.l||$(t.m,e)&&e(El(t))})))},e.removeAuthTokenListener=function(e){H(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(sl("local"),e.a,this.ma),this.a&&(ec(this.a,this),hc(this.a.b)),Promise.resolve()},e.$b=function(e){return Cl(this,function(e,t){return Ia(e,ta,{identifier:t,continueUri:Er()?Jn():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.qc=function(e){return!!fo(e)},e.lb=function(e,t){var n=this;return Cl(this,Xe().then((function(){var e=new li(t);if(!e.c)throw new Xr("argument-error",fi+" must be true when sending sign in link to email");return wi(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},e.Uc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},e.$a=function(e,t){return Cl(this,this.b.$a(e,t).then((function(){})))},e.Ka=function(e){return Cl(this,this.b.Ka(e).then((function(e){return new $r(e)})))},e.Xa=function(e){return Cl(this,this.b.Xa(e).then((function(){})))},e.kb=function(e,t){var n=this;return Cl(this,Xe().then((function(){return void 0===t||Q(t)?{}:wi(new li(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},e.Kc=function(e,t){return Cl(this,yc(this,e,t,_(this.Ra,this)))},e.Jc=function(e,t){var n=this;return Cl(this,Xe().then((function(){var r=t||Jn(),i=ho(e,r);if(!(r=fo(r)))throw new Xr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Xr("tenant-id-mismatch");return n.Ra(i)})))},Sl.prototype.render=function(){},Sl.prototype.reset=function(){},Sl.prototype.getResponse=function(){},Sl.prototype.execute=function(){};var Al=null;function Tl(e,t){return(t=Dl(t))&&e.a[t]||null}function Dl(e){return(e=void 0===e?1e12:e)?e.toString():null}function Nl(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Wt(this.f,"click",this.i)}function Ol(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function kl(){}Il.prototype.render=function(e,t){return this.a[this.b.toString()]=new Nl(e,t),this.b++},Il.prototype.reset=function(e){var t=Tl(this,e);e=Dl(e),t&&e&&(t.delete(),delete this.a[e])},Il.prototype.getResponse=function(e){return(e=Tl(this,e))?e.getResponse():null},Il.prototype.execute=function(e){(e=Tl(this,e))&&e.execute()},Nl.prototype.getResponse=function(){return Ol(this),this.b},Nl.prototype.execute=function(){Ol(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Nl.prototype.delete=function(){Ol(this),this.g=!0,clearTimeout(this.a),this.a=null,Yt(this.f,"click",this.i)},kl.prototype.g=function(){return Al||(Al=new Il),Xe(Al)},kl.prototype.c=function(){};var xl=null;function Rl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pl=new Z(te,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new Or(3e4,6e4);Rl.prototype.g=function(e){var t=this;return new He((function(n,r){var i=setTimeout((function(){r(new Xr("network-request-failed"))}),Ml.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete s[t.a]},Xe(Es(oe(Pl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Rl.prototype.c=function(){this.b--};var Ll=null;function Fl(e,t,n,r,i,o,a){if(jr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(xl||(xl=new kl),a=xl):(Ll||(Ll=new Rl),a=Ll),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vl])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ul],!s.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qn(t)||!this.i&&qn(t).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ds(e,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var c=this.a[jl];this.a[jl]=function(e){if($l(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=vr(c,s);"function"==typeof t&&t(e)}};var l=this.a[Bl];this.a[Bl]=function(){if($l(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=vr(l,s);"function"==typeof e&&e()}}}var jl="callback",Bl="expired-callback",Vl="sitekey",Ul="size";function $l(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function ql(e,t){return e.h.push(t),t.ka((function(){q(e.h,t)})),t}function Hl(e){if(e.B)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function zl(e,t,n){var r=!1;try{this.b=n||D.a.app()}catch(s){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Aa()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=D.a.SDK_VERSION?gr(D.a.SDK_VERSION,o):null,Fl.call(this,n,e,t,(function(){try{var e=i.b.auth().ha()}catch(t){e=null}return e}),o,Di(Ai),r)}function Gl(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],0>i||i>=Wl.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Wl[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Xr("argument-error",e+" failed: "+r)}(e=Fl.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=ql(this,Xe().then((function(){if(Er()&&!cr())return sr();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,Ia(e.o,ha,{})})).then((function(t){e.a[Vl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Hl(this);var e=this;return ql(this,this.Ba().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=qn(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!$n&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',je(s.name),'"'),s.type){o.push(' type="',je(s.type),'"');var u={};X(u,s),delete u.type,s=u}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(a(s)?o.className=s:p(s)?o.className=s.join(" "):Hn(o,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(a(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!m(o)||y(o)&&0<o.nodeType?r(o):B(Gn(o)?G(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Hl(this);var e=this;return ql(this,this.render().then((function(t){return new He((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){H(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Hl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Hl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=qn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},I(zl,Fl);var Wl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ql(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:a}}function Kl(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:u}}function Yl(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:y}}function Xl(e,t){return{name:e||"",M:"a function",optional:!!t,N:g}}function Zl(e,t){return{name:e||"",M:"null",optional:!!t,N:f}}function Jl(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){return!!t&&!(!t.na||e&&t.providerId!==e)}}}function eh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&a(e.type)&&g(e.verify))}}}function th(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function nh(e,t){for(var n in t){var r=t[n].name;e[r]=oh(r,e[n],t[n].j)}}function rh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:C((function(e){return this[e]}),n),set:C((function(e,t,n,r){Gl(e,[n],[r],!0),this[t]=r}),r,n,t[n].Ya),enumerable:!0})}}function ih(e,t,n,r){e[t]=oh(t,n,r)}function oh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Gl(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}nh(hl.prototype,{Xa:{name:"applyActionCode",j:[Ql("code")]},Ka:{name:"checkActionCode",j:[Ql("code")]},$a:{name:"confirmPasswordReset",j:[Ql("code"),Ql("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Ql("email"),Ql("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Ql("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Ql("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Yl(),Xl(),"nextOrObserver"),Xl("opt_error",!0),Xl("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Yl(),Xl(),"nextOrObserver"),Xl("opt_error",!0),Xl("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Ql("email"),th(Yl("opt_actionCodeSettings",!0),Zl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Ql("email"),Yl("actionCodeSettings")]},mb:{name:"setPersistence",j:[Ql("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jl()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Jl()]},Hc:{name:"signInWithCustomToken",j:[Ql("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Ql("email"),Ql("password")]},Jc:{name:"signInWithEmailLink",j:[Ql("email"),Ql("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Ql("phoneNumber"),eh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Ac)}},Zl(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ql(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Ql("code")]}}),rh(hl.prototype,{lc:{name:"languageCode",Ya:th(Ql(),Zl(),"languageCode")},ti:{name:"tenantId",Ya:th(Ql(),Zl(),"tenantId")}}),(hl.Persistence=bu).LOCAL="local",hl.Persistence.SESSION="session",hl.Persistence.NONE="none",nh(Ac.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Kl("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Kl("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jl()]},eb:{name:"linkWithCredential",j:[Jl()]},sc:{name:"linkWithPhoneNumber",j:[Ql("phoneNumber"),eh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jl()]},gb:{name:"reauthenticateWithCredential",j:[Jl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Ql("phoneNumber"),eh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Yl("opt_actionCodeSettings",!0),Zl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ql(null,!0)]},Qc:{name:"unlink",j:[Ql("provider")]},rb:{name:"updateEmail",j:[Ql("email")]},sb:{name:"updatePassword",j:[Ql("password")]},Sc:{name:"updatePhoneNumber",j:[Jl("phone")]},tb:{name:"updateProfile",j:[Yl("profile")]}}),nh(Il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(Sl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(He.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),rh(mc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Kl("appVerificationDisabledForTesting")}}),nh(gc.prototype,{confirm:{name:"confirm",j:[Ql("verificationCode")]}}),ih(qi,"fromJSON",(function(e){e=a(e)?JSON.parse(e):e;for(var t,n=[Yi,co,mo,Wi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[th(Ql(),Yl(),"json")]),ih(lo,"credential",(function(e,t){return new uo(e,t)}),[Ql("email"),Ql("password")]),nh(uo.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(eo.prototype,{wa:{name:"addScope",j:[Ql("scope")]},Ea:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(eo,"credential",to,[th(Ql(),Yl(),"token")]),ih(lo,"credentialWithLink",ho,[Ql("email"),Ql("emailLink")]),nh(no.prototype,{wa:{name:"addScope",j:[Ql("scope")]},Ea:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(no,"credential",ro,[th(Ql(),Yl(),"token")]),nh(io.prototype,{wa:{name:"addScope",j:[Ql("scope")]},Ea:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(io,"credential",oo,[th(Ql(),th(Yl(),Zl()),"idToken"),th(Ql(),Zl(),"accessToken",!0)]),nh(so.prototype,{Ea:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(so,"credential",ao,[th(Ql(),Yl(),"token"),Ql("secret",!0)]),nh(Ji.prototype,{wa:{name:"addScope",j:[Ql("scope")]},credential:{name:"credential",j:[th(Ql(),th(Yl(),Zl()),"optionsOrIdToken"),th(Ql(),Zl(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),nh(Qi.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(zi.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),ih(yo,"credential",vo,[Ql("verificationId"),Ql("verificationCode")]),nh(yo.prototype,{Va:{name:"verifyPhoneNumber",j:[Ql("phoneNumber"),eh()]}}),nh(po.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(Xr.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(To.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(Ao.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(zl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(ti,"parseLink",ci,[Ql("link")]),function(){if(void 0===D.a||!D.a.INTERNAL||!D.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hl,AuthCredential:qi,Error:Xr};ih(e,"EmailAuthProvider",lo,[]),ih(e,"FacebookAuthProvider",eo,[]),ih(e,"GithubAuthProvider",no,[]),ih(e,"GoogleAuthProvider",io,[]),ih(e,"TwitterAuthProvider",so,[]),ih(e,"OAuthProvider",Ji,[Ql("providerId")]),ih(e,"SAMLAuthProvider",Zi,[Ql("providerId")]),ih(e,"PhoneAuthProvider",yo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof hl)}}]),ih(e,"RecaptchaVerifier",zl,[th(Ql(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Yl("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof D.a.app.App)}}]),ih(e,"ActionCodeURL",ti,[]),D.a.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:_((e=new hl(e)).getUid,e),getToken:_(e.cc,e),addAuthTokenListener:_(e.Wb,e),removeAuthTokenListener:_(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(n){}})),D.a.INTERNAL.extendNamespace({User:Ac})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let N=(()=>(class{}))();var O,k=n("Xr7G");n("6Joi");let x=(()=>O=class{static enablePersistence(e){return{ngModule:O,providers:[{provide:k.b,useValue:!0},{provide:k.d,useValue:e}]}}})();var R=n("IheW"),P=n("cUpR"),M=n("curK"),L=n("SF+E"),F=n("meT2"),j=n("K81y"),B=n("bfU7"),V=n("YeHE"),U=n("ISLE"),$=n("3KC0"),q=n("lJxs");let H=(()=>{class e{constructor(e,t){this._angularFireAuth=e,this._router=t}canActivate(e,t){return this._angularFireAuth.authState.pipe(Object(q.a)(e=>!e||(this._router.navigate(["/tabs"]),!1)))}}return e.ngInjectableDef=r["\u0275\u0275defineInjectable"]({factory:function(){return new e(r["\u0275\u0275inject"](A.a),r["\u0275\u0275inject"](b.m))},token:e,providedIn:"root"}),e})();class z{}var G=r["\u0275cmf"](i,[h],(function(e){return r["\u0275mod"]([r["\u0275mpd"](512,r.ComponentFactoryResolver,r["\u0275CodegenComponentFactoryResolver"],[[8,[d.a,v,S]],[3,r.ComponentFactoryResolver],r.NgModuleRef]),r["\u0275mpd"](5120,I.b,I.e,[I.d,[2,I.c]]),r["\u0275mpd"](4608,A.a,A.a,[I.d,[2,I.c],r.PLATFORM_ID,r.NgZone]),r["\u0275mpd"](4608,k.a,k.a,[I.d,[2,I.c],[2,k.b],[2,k.c],r.PLATFORM_ID,r.NgZone,[2,k.d]]),r["\u0275mpd"](4608,R.h,R.n,[w.DOCUMENT,r.PLATFORM_ID,R.l]),r["\u0275mpd"](4608,R.o,R.o,[R.h,R.m]),r["\u0275mpd"](5120,R.a,(function(e){return[e]}),[R.o]),r["\u0275mpd"](4608,R.k,R.k,[]),r["\u0275mpd"](6144,R.i,null,[R.k]),r["\u0275mpd"](4608,R.g,R.g,[R.i]),r["\u0275mpd"](6144,R.b,null,[R.g]),r["\u0275mpd"](4608,R.f,R.j,[R.b,r.Injector]),r["\u0275mpd"](4608,R.c,R.c,[R.f]),r["\u0275mpd"](5120,r.LOCALE_ID,r["\u0275angular_packages_core_core_q"],[[3,r.LOCALE_ID]]),r["\u0275mpd"](4608,w.NgLocalization,w.NgLocaleLocalization,[r.LOCALE_ID,[2,w["\u0275angular_packages_common_common_a"]]]),r["\u0275mpd"](5120,r["\u0275angular_packages_core_core_bb"],r["\u0275angular_packages_core_core_s"],[r.NgZone]),r["\u0275mpd"](5120,r.APP_ID,r["\u0275angular_packages_core_core_f"],[]),r["\u0275mpd"](5120,r.IterableDiffers,r["\u0275angular_packages_core_core_o"],[]),r["\u0275mpd"](5120,r.KeyValueDiffers,r["\u0275angular_packages_core_core_p"],[]),r["\u0275mpd"](4608,P.b,P.k,[w.DOCUMENT]),r["\u0275mpd"](6144,r.Sanitizer,null,[P.b]),r["\u0275mpd"](4608,P.e,P.g,[]),r["\u0275mpd"](5120,P.c,(function(e,t,n,r,i,o,s,a){return[new P.i(e,t,n),new P.n(r),new P.m(i,o,s,a)]}),[w.DOCUMENT,r.NgZone,r.PLATFORM_ID,w.DOCUMENT,w.DOCUMENT,P.e,r["\u0275Console"],[2,P.f]]),r["\u0275mpd"](4608,P.d,P.d,[P.c,r.NgZone]),r["\u0275mpd"](135680,P.l,P.l,[w.DOCUMENT]),r["\u0275mpd"](4608,P.j,P.j,[P.d,P.l,r.APP_ID]),r["\u0275mpd"](6144,r.RendererFactory2,null,[P.j]),r["\u0275mpd"](6144,P.o,null,[P.l]),r["\u0275mpd"](4608,r.Testability,r.Testability,[r.NgZone]),r["\u0275mpd"](4608,M.a,M.a,[]),r["\u0275mpd"](4608,L.a,L.a,[M.a]),r["\u0275mpd"](4608,F.a,F.a,[]),r["\u0275mpd"](4608,j.a,j.a,[L.a,F.a]),r["\u0275mpd"](4608,B.a,B.a,[F.a]),r["\u0275mpd"](4608,V.a,V.a,[B.a,j.a,F.a]),r["\u0275mpd"](4608,o.b,o.b,[r.NgZone,r.ApplicationRef]),r["\u0275mpd"](4608,o.Hb,o.Hb,[o.b,r.ComponentFactoryResolver,r.Injector]),r["\u0275mpd"](4608,o.Lb,o.Lb,[o.b,r.ComponentFactoryResolver,r.Injector]),r["\u0275mpd"](5120,b.a,b.y,[b.m]),r["\u0275mpd"](4608,b.g,b.g,[]),r["\u0275mpd"](6144,b.h,null,[b.g]),r["\u0275mpd"](135680,b.p,b.p,[b.m,r.NgModuleFactoryLoader,r.Compiler,r.Injector,b.h]),r["\u0275mpd"](4608,b.e,b.e,[]),r["\u0275mpd"](5120,b.D,b.u,[b.m,w.ViewportScroller,b.i]),r["\u0275mpd"](5120,b.j,b.B,[b.z]),r["\u0275mpd"](5120,r.APP_BOOTSTRAP_LISTENER,(function(e){return[e]}),[b.j]),r["\u0275mpd"](4608,l,l,[]),r["\u0275mpd"](4608,c,c,[]),r["\u0275mpd"](4608,u,u,[]),r["\u0275mpd"](1073742336,I.a,I.a,[]),r["\u0275mpd"](1073742336,N,N,[]),r["\u0275mpd"](1073742336,x,x,[]),r["\u0275mpd"](1073742336,R.e,R.e,[]),r["\u0275mpd"](1073742336,R.d,R.d,[]),r["\u0275mpd"](1073742336,w.CommonModule,w.CommonModule,[]),r["\u0275mpd"](1024,r.ErrorHandler,P.p,[]),r["\u0275mpd"](1024,r.NgProbeToken,(function(){return[b.t()]}),[]),r["\u0275mpd"](512,b.z,b.z,[r.Injector]),r["\u0275mpd"](256,o.Qb,void 0,[]),r["\u0275mpd"](1024,r.APP_INITIALIZER,(function(e,t,n,r,i){return[P.q(e),b.A(t),o.Rb(n,r,i)]}),[[2,r.NgProbeToken],b.z,o.Qb,w.DOCUMENT,r.NgZone]),r["\u0275mpd"](512,r.ApplicationInitStatus,r.ApplicationInitStatus,[[2,r.APP_INITIALIZER]]),r["\u0275mpd"](131584,r.ApplicationRef,r.ApplicationRef,[r.NgZone,r["\u0275Console"],r.Injector,r.ErrorHandler,r.ComponentFactoryResolver,r.ApplicationInitStatus]),r["\u0275mpd"](1073742336,r.ApplicationModule,r.ApplicationModule,[r.ApplicationRef]),r["\u0275mpd"](1073742336,P.a,P.a,[[3,P.a]]),r["\u0275mpd"](1073742336,U.a,U.a,[]),r["\u0275mpd"](1073742336,$.a,$.a,[]),r["\u0275mpd"](1073742336,o.Eb,o.Eb,[]),r["\u0275mpd"](1024,b.s,b.w,[[3,b.m]]),r["\u0275mpd"](512,b.r,b.c,[]),r["\u0275mpd"](512,b.b,b.b,[]),r["\u0275mpd"](256,b.i,{preloadingStrategy:b.g},[]),r["\u0275mpd"](1024,w.LocationStrategy,b.v,[w.PlatformLocation,[2,w.APP_BASE_HREF],b.i]),r["\u0275mpd"](512,w.Location,w.Location,[w.LocationStrategy,w.PlatformLocation]),r["\u0275mpd"](512,r.Compiler,r.Compiler,[]),r["\u0275mpd"](512,r.NgModuleFactoryLoader,r.SystemJsNgModuleLoader,[r.Compiler,[2,r.SystemJsNgModuleLoaderConfig]]),r["\u0275mpd"](1024,b.k,(function(){return[[{path:"",loadChildren:"./tabs/tabs.module#TabsPageModule"},{path:"login",loadChildren:"./login/login.module#LoginPageModule",canActivate:[H]}]]}),[]),r["\u0275mpd"](512,b.l,o.Fb,[]),r["\u0275mpd"](1024,b.m,b.x,[r.ApplicationRef,b.r,b.b,w.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,b.k,b.i,[2,b.q],[2,b.l]]),r["\u0275mpd"](1073742336,b.n,b.n,[[2,b.s],[2,b.m]]),r["\u0275mpd"](1073742336,z,z,[]),r["\u0275mpd"](1073742336,i,i,[]),r["\u0275mpd"](256,I.d,{apiKey:"AIzaSyC2_nkR0o5HEYKztw2uqF9NqoOTfvo4HGE",authDomain:"ssparking-79242.firebaseapp.com",databaseURL:"https://ssparking-79242.firebaseio.com",projectId:"ssparking-79242",storageBucket:"",messagingSenderId:"1071297081048",appId:"1:1071297081048:web:ee8b31dab95ba2606f31ad"},[]),r["\u0275mpd"](256,I.c,void 0,[]),r["\u0275mpd"](256,R.l,"XSRF-TOKEN",[]),r["\u0275mpd"](256,R.m,"X-XSRF-TOKEN",[]),r["\u0275mpd"](256,r["\u0275APP_ROOT"],!0,[])])}));Object(r.enableProdMode)(),P.h().bootstrapModuleFactory(G).catch(e=>console.log(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(y,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(c(o[0])||""),n=v(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function _(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=m,t.FirebaseError=p,t.Sha1=w,t.assert=o,t.assertionError=s,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=C,t.getUA=d,t.isAdmin=function(e){var t=b(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t,n){var r={"../tab1/tab1.module.ngfactory":["JLuJ",1,0,14],"../tab2/tab2.module.ngfactory":["8cDG",1,0,16],"../tab3/tab3.module.ngfactory":["W9vR",1,0,17],"./login/login.module.ngfactory":["f+ep",1,15],"./tabs/tabs.module.ngfactory":["pZl2",1,18]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="zn8P",e.exports=i}},[[0,2]]]);